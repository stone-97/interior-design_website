;/*FB_PKG_DELIM*/

__d("useIGDPartnershipMessagesDataSourceQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7368182576630710"}),null);
__d("useIGDPartnershipMessagesDataSourceQuery.graphql",["useIGDPartnershipMessagesDataSourceQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"after_cursor"},c={defaultValue:null,kind:"LocalArgument",name:"before_cursor"},d={defaultValue:10,kind:"LocalArgument",name:"first"},e={defaultValue:null,kind:"LocalArgument",name:"last"},f={defaultValue:null,kind:"LocalArgument",name:"params"},g=[{kind:"Variable",name:"after",variableName:"after_cursor"},{kind:"Variable",name:"before",variableName:"before_cursor"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"last",variableName:"last"},{kind:"Variable",name:"query_params_shape",variableName:"params"}],h={alias:null,args:null,kind:"ScalarField",name:"creator_igid",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"user_name",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"profile_pic_uri_without_fallback",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f],kind:"Fragment",metadata:null,name:"useIGDPartnershipMessagesDataSourceQuery",selections:[{alias:null,args:null,concreteType:"PAYCAMBusinessProfileResponsePayload",kind:"LinkedField",name:"cam_business_profile",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"brand_profile",plural:!1,selections:[{alias:null,args:g,concreteType:null,kind:"LinkedField",name:"creator_discovery_search",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[h,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"creator_profile",plural:!1,selections:[i,j,k,l],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[f,c,a,d,e],kind:"Operation",name:"useIGDPartnershipMessagesDataSourceQuery",selections:[{alias:null,args:null,concreteType:"PAYCAMBusinessProfileResponsePayload",kind:"LinkedField",name:"cam_business_profile",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"brand_profile",plural:!1,selections:[m,{alias:null,args:g,concreteType:null,kind:"LinkedField",name:"creator_discovery_search",plural:!1,selections:[m,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"edges",plural:!0,selections:[m,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[m,h,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"creator_profile",plural:!1,selections:[m,i,j,k,l,{kind:"InlineFragment",selections:[n],type:"CAMIGUserProfile",abstractKey:null}],storageKey:null},n],storageKey:null}],storageKey:null}],storageKey:null},n],storageKey:null}],storageKey:null}]},params:{id:b("useIGDPartnershipMessagesDataSourceQuery_facebookRelayOperation"),metadata:{},name:"useIGDPartnershipMessagesDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PolarisShareMediaButton_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisShareMediaButton_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_reshare",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW",path:"pk"},{alias:null,args:null,concreteType:"XDTSharingFrictionInfo",kind:"LinkedField",name:"sharing_friction_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_have_sharing_friction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bloks_app_url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null}],storageKey:null}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisShareMenuBottomSheetQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7162018377242062"}),null);
__d("PolarisShareMenuBottomSheetQuery.graphql",["PolarisShareMenuBottomSheetQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"media_id"}],c=[{kind:"Variable",name:"id",variableName:"media_id"}],d={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},f={alias:null,args:null,concreteType:"XDTImageVersion2",kind:"LinkedField",name:"image_versions2",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTImageCandidate",kind:"LinkedField",name:"candidates",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null}],storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PolarisShareMenuBottomSheetQuery",selections:[{alias:null,args:c,concreteType:"XDTMediaDict",kind:"LinkedField",name:"fetch__XDTMediaDict",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"usePolarisShareSheetPopoverPost_media"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PolarisShareMenuBottomSheetQuery",selections:[{alias:null,args:c,concreteType:"XDTMediaDict",kind:"LinkedField",name:"fetch__XDTMediaDict",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"audience",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ig_media_sharing_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inventory_source",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"logging_info_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_reshare",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},e,{name:"client__srcSet",args:null,fragment:{kind:"InlineFragment",selections:[e,{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"carousel_media",plural:!0,selections:[f,g],storageKey:null},f],type:"XDTMediaDict",abstractKey:null},kind:"RelayResolver",storageKey:null,isOutputType:!0},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},g],storageKey:null},{alias:null,args:null,concreteType:"XDTMediaOverlayPayloadSchema",kind:"LinkedField",name:"media_overlay_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"misinformation_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"overlay_layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"overlay_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTMediaShareableTracking",kind:"LinkedField",name:"share_urls",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"facebook",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messenger",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"threads",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"twitter",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"whatsapp",storageKey:null}],storageKey:null},g],storageKey:null}]},params:{id:b("PolarisShareMenuBottomSheetQuery_instagramRelayOperation"),metadata:{is_distillery:!0},name:"PolarisShareMenuBottomSheetQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PolarisShareMenuDialogQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7229687087126424"}),null);
__d("PolarisShareMenuDialogQuery$Parameters",["PolarisShareMenuDialogQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("PolarisShareMenuDialogQuery_instagramRelayOperation"),metadata:{is_distillery:!0},name:"PolarisShareMenuDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("PolarisShareMenuQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7412519968801934"}),null);
__d("PolarisShareMenuQuery$Parameters",["PolarisShareMenuQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("PolarisShareMenuQuery_instagramRelayOperation"),metadata:{is_distillery:!0},name:"PolarisShareMenuQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("usePolarisShareSheetPopoverPost_media.graphql",["polarisMediaSrcSetResolver"],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisShareSheetPopoverPost_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"audience",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ig_media_sharing_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inventory_source",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"logging_info_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_reshare",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW",path:"pk"},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},{alias:null,args:null,fragment:{args:null,kind:"FragmentSpread",name:"polarisMediaSrcSetResolver"},kind:"RelayResolver",name:"client__srcSet",resolverModule:b("polarisMediaSrcSetResolver").client__srcSet,path:"client__srcSet"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"usePolarisShareSheetPopoverPost_user"}],storageKey:null},action:"THROW",path:"user"},{args:null,kind:"FragmentSpread",name:"usePolarisMediaOverlayInfo_media"},{args:null,kind:"FragmentSpread",name:"useShareUrlsDictFragment"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("usePolarisShareSheetPopoverPost_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisShareSheetPopoverPost_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW",path:"pk"},{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],type:"XDTUserDict",abstractKey:null};e.exports=a}),null);
__d("PolarisMediaCoauthorReviewOverlayFooterCTA_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisMediaCoauthorReviewOverlayFooterCTA_media",selections:[{kind:"RequiredField",field:a,action:"THROW",path:"pk"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},action:"THROW",path:"code"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"owner",plural:!1,selections:[{kind:"RequiredField",field:a,action:"THROW",path:"owner.pk"},{alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},action:"THROW",path:"owner.username"}],storageKey:null},action:"THROW",path:"owner"},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"invited_coauthor_producers",plural:!0,selections:[{kind:"RequiredField",field:a,action:"THROW",path:"invited_coauthor_producers.pk"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null}],type:"XDTMediaDict",abstractKey:null}}();e.exports=a}),null);
__d("PolarisMediaOverlayFooterCTAFragment_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisMediaOverlayFooterCTAFragment_media",selections:[{args:null,kind:"FragmentSpread",name:"PolarisMediaCoauthorReviewOverlayFooterCTA_media"},{args:null,kind:"FragmentSpread",name:"usePolarisShowFooterCTA_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisMediaSaveButton_ad.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisMediaSaveButton_ad",selections:[{args:null,kind:"FragmentSpread",name:"PolarisSaveButton_ad"}],type:"XDTAdInsertionItemClientDict",abstractKey:null};e.exports=a}),null);
__d("PolarisMediaSaveButton_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisMediaSaveButton_media",selections:[{args:null,kind:"FragmentSpread",name:"PolarisSaveButton_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("usePolarisMediaSaveToCollectionMutation_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8310900462258506"}),null);
__d("usePolarisMediaSaveToCollectionMutation.graphql",["usePolarisMediaSaveToCollectionMutation_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"added_media_ids"},c={defaultValue:null,kind:"LocalArgument",name:"collection_id"},d={defaultValue:null,kind:"LocalArgument",name:"removed_media_ids"},e=[{alias:null,args:[{kind:"Literal",name:"_request_data",value:{}},{kind:"Variable",name:"added_media_ids",variableName:"added_media_ids"},{kind:"Variable",name:"collection_id",variableName:"collection_id"},{kind:"Variable",name:"removed_media_ids",variableName:"removed_media_ids"}],concreteType:"XDTMediaCollectionInfo",kind:"LinkedField",name:"xdt_api__v1__save__edit_collection",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"usePolarisMediaSaveToCollectionMutation",selections:e,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a,d],kind:"Operation",name:"usePolarisMediaSaveToCollectionMutation",selections:e},params:{id:b("usePolarisMediaSaveToCollectionMutation_instagramRelayOperation"),metadata:{is_distillery:!0},name:"usePolarisMediaSaveToCollectionMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("usePolarisSaveMediaSaveMutation_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6621004094595488"}),null);
__d("usePolarisSaveMediaSaveMutation.graphql",["usePolarisSaveMediaSaveMutation_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"media_id"}],c=[{alias:null,args:[{kind:"Variable",name:"media_id",variableName:"media_id"}],concreteType:"XDTEmptyRecord",kind:"LinkedField",name:"xdt_api__v1__web__save__media_id__save",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"usePolarisSaveMediaSaveMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"usePolarisSaveMediaSaveMutation",selections:c},params:{id:b("usePolarisSaveMediaSaveMutation_instagramRelayOperation"),metadata:{is_distillery:!0},name:"usePolarisSaveMediaSaveMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("usePolarisSaveMediaUnsaveMutation_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6413366398681732"}),null);
__d("usePolarisSaveMediaUnsaveMutation.graphql",["usePolarisSaveMediaUnsaveMutation_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"media_id"}],c=[{alias:null,args:[{kind:"Variable",name:"media_id",variableName:"media_id"}],concreteType:"XDTEmptyRecord",kind:"LinkedField",name:"xdt_api__v1__web__save__media_id__unsave",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"usePolarisSaveMediaUnsaveMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"usePolarisSaveMediaUnsaveMutation",selections:c},params:{id:b("usePolarisSaveMediaUnsaveMutation_instagramRelayOperation"),metadata:{is_distillery:!0},name:"usePolarisSaveMediaUnsaveMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("usePolarisSaveMedia_ad.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisSaveMedia_ad",selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null}],type:"XDTAdInsertionItemClientDict",abstractKey:null};e.exports=a}),null);
__d("usePolarisSaveMedia_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisSaveMedia_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW",path:"id"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW",path:"user.pk"},{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"following",storageKey:null}],storageKey:null}],storageKey:null},action:"THROW",path:"user"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisSaveButton_ad.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisSaveButton_ad",selections:[{args:null,kind:"FragmentSpread",name:"usePolarisSaveMedia_ad"}],type:"XDTAdInsertionItemClientDict",abstractKey:null};e.exports=a}),null);
__d("PolarisSaveButton_media.graphql",["polarisMediaSrcSetResolver"],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisSaveButton_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW",path:"id"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW",path:"pk"},{alias:null,args:null,kind:"ScalarField",name:"saved_collection_ids",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_viewer_saved",storageKey:null},{alias:null,args:null,fragment:{args:null,kind:"FragmentSpread",name:"polarisMediaSrcSetResolver"},kind:"RelayResolver",name:"client__srcSet",resolverModule:b("polarisMediaSrcSetResolver").client__srcSet,path:"client__srcSet"},{args:null,kind:"FragmentSpread",name:"usePolarisSaveMedia_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisPostShareQRCodeRootQuery$Parameters",["PolarisPostShareQRCodeRootQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("PolarisPostShareQRCodeRootQuery_instagramRelayOperation"),metadata:{is_distillery:!0},name:"PolarisPostShareQRCodeRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("usePolarisLikeMediaLikeMutation_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5788782404552294"}),null);
__d("usePolarisLikeMediaLikeMutation.graphql",["usePolarisLikeMediaLikeMutation_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"media_id"}],c=[{alias:null,args:[{kind:"Literal",name:"_request_data",value:{}},{kind:"Variable",name:"media_id",variableName:"media_id"}],concreteType:"XDTEmptyRecord",kind:"LinkedField",name:"xdt_api__v1__media__media_id__like",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"usePolarisLikeMediaLikeMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"usePolarisLikeMediaLikeMutation",selections:c},params:{id:b("usePolarisLikeMediaLikeMutation_instagramRelayOperation"),metadata:{is_distillery:!0},name:"usePolarisLikeMediaLikeMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("usePolarisLikeMediaUnlikeMutation_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9340949795922633"}),null);
__d("usePolarisLikeMediaUnlikeMutation.graphql",["usePolarisLikeMediaUnlikeMutation_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"media_id"}],c=[{alias:null,args:[{kind:"Literal",name:"_request_data",value:{}},{kind:"Variable",name:"media_id",variableName:"media_id"}],concreteType:"XDTEmptyRecord",kind:"LinkedField",name:"xdt_api__v1__media__media_id__unlike",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"usePolarisLikeMediaUnlikeMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"usePolarisLikeMediaUnlikeMutation",selections:c},params:{id:b("usePolarisLikeMediaUnlikeMutation_instagramRelayOperation"),metadata:{is_distillery:!0},name:"usePolarisLikeMediaUnlikeMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("usePolarisLikeMedia_ad.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisLikeMedia_ad",selections:[{alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null}],type:"XDTAdInsertionItemClientDict",abstractKey:null};e.exports=a}),null);
__d("polarisMediaRelayIDResolver.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"polarisMediaRelayIDResolver",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW",path:"id"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("polarisMediaRelayIDResolver",["igMapTypenameToRelayID","polarisMediaRelayIDResolver.graphql","relay-runtime/store/ResolverFragments"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("relay-runtime/store/ResolverFragments").readFragment(h!==void 0?h:h=b("polarisMediaRelayIDResolver.graphql"),a);return c("igMapTypenameToRelayID")("XDTMediaDict",a.id,null)}g.client__relayID=a}),98);
__d("usePolarisLikeMedia_media.graphql",["polarisMediaRelayIDResolver"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisLikeMedia_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW",path:"id"},{kind:"RequiredField",field:a,action:"THROW",path:"pk"},{kind:"RequiredField",field:{alias:null,args:null,fragment:{args:null,kind:"FragmentSpread",name:"polarisMediaRelayIDResolver"},kind:"RelayResolver",name:"client__relayID",resolverModule:b("polarisMediaRelayIDResolver").client__relayID,path:"client__relayID"},action:"THROW",path:"client__relayID"},{alias:null,args:null,kind:"ScalarField",name:"organic_tracking_token",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"owner",plural:!1,selections:[a],storageKey:null}],type:"XDTMediaDict",abstractKey:null}}();e.exports=a}),null);
__d("IGDAWContactSearchResultListMsysSetup.react",["CometPlaceholder.react","cr:1281","deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("deferredLoadComponent")(c("requireDeferred")("IGDPageSetup.react").__setRef("IGDAWContactSearchResultListMsysSetup.react"));function a(a){var d=a.children;a=a.fallback;return i.jsxs(i.Fragment,{children:[i.jsx(j,{placeholder:a,children:i.jsx(c("CometPlaceholder.react"),{fallback:a,children:d})}),b("cr:1281")&&i.jsx(b("cr:1281"),{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSClearTables",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.sequence([function(a){return b.forEach(b.db.table(67).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(66).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(65).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(69).fetch(),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSClearTablesStoredProcedure",["LSClearTables","cr:8709"],(function(a,b,c,d,e,f,g){function a(a){return c("LSClearTables")(a)}g["default"]=a}),98);
__d("LSInsertRankingContacts",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("limit",a[0]),d[1]=c.createArray(),d[5]=(d[1].push("search_contacts"),d[1]),d[2]=c.i64.of_float(Date.now()),d[5]=(d[1].push(c.i64.to_string(d[2])),d[1]),d[3]=c.toJSON(d[1]),d[4]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),d[3],c.i64.cast([0,452]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSInsertRankingContactsStoredProcedure",["LSInsertRankingContacts","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.limit;return c("LSInsertRankingContacts").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MWChatSearchInsertRankingContacts",["I64","LSFactory","LSInsertRankingContactsStoredProcedure","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i={contents:!1},j={contents:!1},k=(h||(h=d("I64"))).of_string("100");function a(a){if(!i.contents&&(h||(h=d("I64"))).gt(k,(h||(h=d("I64"))).zero)){i.contents=!0;c("promiseDone")(a.runInTransaction(function(a){return c("LSInsertRankingContactsStoredProcedure")(c("LSFactory")(a),{limit:k})},"readwrite"),function(){j.contents=!0});return}}function b(){return j.contents}g.insertRankingContacts=a;g.isDone=b}),98);
__d("MWLSSyncRankings",["LSIntEnum","MWLSDatabaseLazySync","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i={contents:!1},j={contents:!1};function a(a){if(!i.contents){i.contents=!0;c("promiseDone")(d("MWLSDatabaseLazySync").sync(a,(h||(h=d("LSIntEnum"))).ofNumber(7)),function(){j.contents=!0});return}}function b(){return j.contents}g.sync=a;g.isDone=b}),98);
__d("MWPSearchIndexingSource",["I64","LSIntEnum","ReQL","ReQLSuspense"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("contacts")))}function b(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("threads")).filter(function(a){return(h||(h=d("I64"))).equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(2))}))}function c(a,b){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.table("participants")).filter(function(b){return!(h||(h=d("I64"))).equal(b.contactId,a)}).map(function(a){a=[a,d("ReQLSuspense").first(d("ReQL").fromTableAscending(b.table("contacts")).getKeyRange(a.contactId),f.id+":49")];return a}))}g.fetchContacts=a;g.fetchGroupThreads=b;g.fetchGroupParticipants=c}),98);
__d("MWPSearchOfflineOpenConversations",["gkx","minisearch"],(function(a,b,c,d,e,f,g){"use strict";e=c("gkx")("23913");f=e?{fuzzy:0,prefix:!0}:{fuzzy:.2,prefix:!0};var h=new(c("minisearch"))({fields:["content"],searchOptions:f,storeFields:["category"]});function a(a){return h.search(a)}function b(a){h.add(a)}function d(a){h.remove(a)}g.search=a;g.add=b;g.remove=d}),98);
__d("LSRestrictionType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,DATA_PRIVACY:1,ENCRYPTED_THREAD:2});f["default"]=a}),66);
__d("LSSearchType",[],(function(a,b,c,d,e,f){a=Object.freeze({CONTACT:1,NONCONTACT:2,GROUP:3,PAGE:4,INTEGRATED_MESSAGE_SEARCH_THREAD:5,IG_CONTACT_FOLLOWING:6,IG_CONTACT_NONFOLLOWING:7,IG_NONCONTACT_FOLLOWING:8,IG_NONCONTACT_NONFOLLOWING:9,IG_BUSINESS:10,TAM_CONTACT:11,TAM_THREAD:12,COMMUNITY_MESSAGING_THREAD:13,PUBLIC_CHANNEL:14,SECTION_HEADER:15,AI_BOT:16,COMMUNITY:17,MEDIA:18,ATTACHMENT:19,LINK:20,LOCATION:21,META_AI_TYPEAHEAD:22});f["default"]=a}),66);
__d("MWChatTemporarySearchResultUtils",["fbt","$InternalEnum","I64","LSContactBitOffset","LSContactTypeExact","LSContactViewerRelationship","LSIntEnum"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;f=b("$InternalEnum")({CM_THREADS:"cm_threads",UNJOINED_GROUPS:"unjoined_groups",NON_CONTACTS:"non_contacts",PAGES:"pages",CONTACTS_GROUPS:"contacts_groups",AI_BOTS:"ai_bots"});function a(a){var b=a.contactTypeExact;if((i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").GENERATIVE_AI_BOT))){b=a.contactViewerRelationship;return(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").NOT_CONTACT))}return d("LSContactBitOffset").hasWithDefault(64,a,!0)}function k(){var a=h._("__JHASH__JamETNXLecz__JHASH__").toString();return a}function e(a,b){b===void 0&&(b=!1);a=a.contactTypeExact;if((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").GENERATIVE_AI_BOT)))return k();return b?l():""}function l(){return h._("__JHASH__MsgX-pcOE1N__JHASH__").toString()}g.SectionAnalyticsNameType=f;g.isViewerUnconnectedForContact=a;g.getSectionHeaderForAIBot=k;g.getSectionHeaderForContact=e;g.getSectionHeaderForContactsNullstate=l}),226);
__d("MWLSThreadTitle",["fbt","I64","LSMessagingThreadTypeUtil","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function j(a){switch(a.length){case 0:return c("gkx")("22885")?"":h._("__JHASH__DaN6ZhVAhFM__JHASH__");case 1:return a[0];case 2:return h._("__JHASH__CYtAjqXrfJL__JHASH__",[h._param("participant1",a[0]),h._param("participant2",a[1])]);case 3:return h._("__JHASH__0GwsaOqt1zM__JHASH__",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("participant3",a[2])]);default:return h._("__JHASH__-HjU-GfOUIJ__JHASH__",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("others_count",String(a.length-2))])}}var k=c("gkx")("24044");function l(a,b,c,e,f,g){if(a!=null)return a;a=d("LSMessagingThreadTypeUtil").isGroup(e);e=c.filter(function(a){return!(i||(i=d("I64"))).equal(a.contact_id,b)});if(a)return j(e.map(f));return c.length!==1?j(e.map(g)):g(c[0])}function a(a,b,c,d){return l(a,b,c,d,function(a){var b=a.name;a=a.nickname;return k?(a=a)!=null?a:b:b},function(a){var b=a.actual_name;a=a.nickname;return k?(a=a)!=null?a:b:b}).toString()}function b(a,b,c,d){return l(a,b,c,d,function(a){a=a.actual_name;return a},function(a){a=a.actual_name;return a}).toString()}function e(a,b,c,d){return l(a,b,c,d,function(a){var b=a.actual_name;a=a.secondary_name;return(a=a)!=null?a:b},function(a){var b=a.actual_name;a=a.secondary_name;return(a=a)!=null?a:b}).toString()}g.getDefaultThreadTitle=a;g.getThreadTitleWithFullName=b;g.getThreadTitleWithSecondaryNames=e}),226);
__d("SearchStandardResultType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({CONTACT:1,NON_CONTACT:2,GROUP:3,XAC_CONTACT:4,XAC_NON_CONTACT:5,XAC_GROUP:6,OTHER:7,SOFT_CONTACT:8,PAGE:9,GAME:10,SMS:11,SMS_GROUP:12,WHATSAPP:13,INTEGRATED_MESSAGE_SEARCH_THREAD:14,IG_BUSINESS:15,COMMUNITY_CHAT:16,REEL:17,PUBLIC_CHAT:18,UNJOINED_COMMUNITIES:19,UNJOINED_SOCIAL_CHANNEL:20,JOINED_SOCIAL_CHANNEL:21,UNJOINED_BROADCAST_CHANNEL:22,JOINED_BROADCAST_CHANNEL:23,UNJOINED_SUBSCRIBER_SOCIAL_CHANNEL:24,JOINED_SUBSCRIBER_SOCIAL_CHANNEL:25,UNJOINED_SUBSCRIBER_BROADCAST_CHANNEL:26,JOINED_SUBSCRIBER_BROADCAST_CHANNEL:27,MOST_ENGAGED_FOLLOWERS:28,MOST_RECENT_FOLLOWERS:29,DIRECT_INVITE_MIX_TYPES:30,BROADCAST_FLOW_CHAT:31,UNJOINED_COMMUNITY_CHAT:32,AI_AGENT:33,COMMUNITIES:34,MEDIA:35,LINKS:36,FILES:37});c=a;f["default"]=c}),66);
__d("MWSearchStandardResultTypeMappings",["I64","LSContactType","LSContactTypeExact","LSContactViewerRelationship","LSIntEnum","LSMessagingThreadTypeUtil","LSSearchType"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=a.contactType,e=a.contactViewerRelationship;a=a.contactTypeExact;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").GENERATIVE_AI_BOT)))return 33;if((h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactType").USER))){if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").NOT_CONTACT)))return 2;return(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").SOFT_CONTACT))||(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER))||(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").FACEBOOK_FRIEND))?1:7}return(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE))?9:7}function j(a){if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").CONTACT)))return 1;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").NONCONTACT)))return 2;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").GROUP)))return 3;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").PAGE)))return 9;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").COMMUNITY_MESSAGING_THREAD)))return 16;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD)))return 14;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").PUBLIC_CHANNEL)))return 18;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").COMMUNITY)))return 34;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING)))return 4;return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING))?5:7}function k(a){if(d("LSMessagingThreadTypeUtil").isOneToOne(a))return 1;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(153)))return 22;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(152)))return 23;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(150))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(154)))return 21;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(151))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(155)))return 20;return d("LSMessagingThreadTypeUtil").isGroup(a)?3:7}function b(a,b){a=k(a);if(a===7)return j(b);else return a}g.mapContactToSearchStandardResultType=a;g.mapLSSearchTypeToSearchStandardResultType=j;g.mapThreadTypeToSearchStandardResultType=k;g.mapServerSearchResultToSearchStandardResultType=b}),98);
__d("MWChatTemporarySearchResult",["DisappearingMessagesMode","FBLogger","I64","LSContactBitOffset","LSContactType","LSContactTypeExact","LSContactViewerRelationship","LSInstagramE2EEEligibility","LSIntEnum","LSMessagingThreadTypeUtil","LSRestrictionType","LSSearchType","LSThreadBitOffset","LSWhatsAppConnectStatus","MWChatSearchResultType","MWChatTemporarySearchResultUtils","MWLSContactTypeExactUtils","MWLSThreadTitle","MWSearchStandardResultTypeMappings","getLSMediaContactProfilePictureUrl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING)))return!0;else return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING))}function k(a){if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").CONTACT))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").NONCONTACT))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").AI_BOT))||j(a))return c("MWChatSearchResultType").USER;else if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").GROUP))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").PUBLIC_CHANNEL))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").COMMUNITY_MESSAGING_THREAD)))return c("MWChatSearchResultType").GROUP;else if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").PAGE)))return c("MWChatSearchResultType").PAGE;else if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD)))return c("MWChatSearchResultType").MESSAGE;else{c("FBLogger")("messenger_web_product").warn("Unknown Search Result Type "+(h||(h=d("I64"))).to_string(a));return c("MWChatSearchResultType").USER}}function a(a,b,e,f,g,j){var k=e.contactType,l=e.contactTypeExact,m=e.secondaryName;l=d("MWLSContactTypeExactUtils").isIgContact(l);m=l&&m!=null?m:"";var n=f!=null?[f.e2eeEligibility,!(h||(h=d("I64"))).equal(f.e2eeEligibility,(i||(i=d("LSIntEnum"))).ofNumber(c("LSInstagramE2EEEligibility").INELIGIBLE))]:[void 0,void 0],o=n[0];n=n[1];return{defaultE2eeThreadOneToOne:d("LSContactBitOffset").has(83,e),defaultE2eeThreads:d("LSContactBitOffset").has(80,e),displayName:e.name,hasCutoverThread:d("LSContactBitOffset").has(76,e),id:(h||(h=d("I64"))).to_string(e.id),imageUrl:c("getLSMediaContactProfilePictureUrl")(e),isAiBot:h.equal(e.contactTypeExact,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").GENERATIVE_AI_BOT)),isContact:h.equal(e.contactViewerRelationship,i.ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER)),isDisappearingModeSettingOn:d("LSContactBitOffset").has(94,e),isE2EE:b===!0,isEPD:h.equal(e.restrictionType,i.ofNumber(c("LSRestrictionType").DATA_PRIVACY)),isGroupsXacEligible:d("LSContactBitOffset").has(68,e),isInstagramAccount:l,isInstamadilloCutover:d("LSContactBitOffset").has(95,e),isInteropEligible:d("LSContactBitOffset").has(67,e),isTTLCClipEnabled:d("LSContactBitOffset").has(96,e),isTTLCGenericXMAShareEnabled:d("LSContactBitOffset").has(97,e),isTTLCMediaShareEnabled:d("LSContactBitOffset").has(98,e),isTTLCStoryShareEnabled:d("LSContactBitOffset").has(99,e),isVerified:(b=d("LSContactBitOffset").has(23,e))!=null?b:!1,isViewerUnconnected:d("MWChatTemporarySearchResultUtils").isViewerUnconnectedForContact(e),isWAEligible:n,matchedTerms:j,rankingScore:a,resultIgid:(l=f==null?void 0:f.igId)!=null?l:void 0,resultType:(h||(h=d("I64"))).equal(k,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactType").USER))||!((h||(h=d("I64"))).equal(k,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE))||(h||(h=d("I64"))).equal(k,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE_PERSONA)))?c("MWChatSearchResultType").USER:c("MWChatSearchResultType").PAGE,searchResultType:d("MWSearchStandardResultTypeMappings").mapContactToSearchStandardResultType(e),searchSource:g,section:d("MWChatTemporarySearchResultUtils").getSectionHeaderForContact(e),subtext:m,supportsE2eeSpamdStorage:f!=null?f.supportsE2eeSpamdStorage:void 0,waAddressable:h.equal(e.waConnectStatus,i.ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_ADDRESSABLE)),waEligibility:o}}function l(a,b,c){var e=a.threadDescription,f=a.threadName;if(e!=null)return e;else if(f!=null&&f!=="")return d("MWLSThreadTitle").getDefaultThreadTitle(void 0,b,c,a.threadType).toString();else return""}function b(a,b,e,f,g,j,k,m,n){var o=l(a,e,j);return{displayName:d("MWLSThreadTitle").getDefaultThreadTitle(a.threadName,e,j,a.threadType).toString(),id:(h||(h=d("I64"))).to_string(a.threadKey),imageUrl:f,isAiBot:h.equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(201)),isContact:!1,isDisappearingModeSettingOn:h.to_int32((e=n==null?void 0:n.igDmSettingsMode)!=null?e:(h||(h=d("I64"))).zero)===c("DisappearingMessagesMode").ON,isE2EE:d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:d("LSThreadBitOffset").has(214,a),isTTLCClipEnabled:d("LSThreadBitOffset").has(226,a),isTTLCGenericXMAShareEnabled:d("LSThreadBitOffset").has(231,a),isTTLCMediaShareEnabled:d("LSThreadBitOffset").has(228,a),isTTLCStoryShareEnabled:d("LSThreadBitOffset").has(229,a),isVerified:!1,matchedTerms:m,rankingScore:k,resultType:c("MWChatSearchResultType").GROUP,searchResultType:d("MWSearchStandardResultTypeMappings").mapThreadTypeToSearchStandardResultType(a.threadType),searchSource:b,secondaryImageUrl:g,section:"",subtext:o,threadKey:a.threadKey,threadType:a.threadType}}function e(a,b,e){var f,g=(h||(h=d("I64"))).equal(a.type_,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").CONTACT)),l=j(a.type_),m=a.defaultE2eeThreadOneToOne,n=a.defaultE2eeThreads,o=a.hasCutoverThread,p=a.isVerified,q=a.otherUserId,r=a.query,s=a.supportsE2eeSpamdStorage,t=a.waEligibility;f=b!=null?(f=b.displayName)!=null?f:"":"";r===""&&(f=d("MWChatTemporarySearchResultUtils").getSectionHeaderForContactsNullstate());return{canViewerMessage:a.canViewerMessage,communityId:a.communityId,defaultE2eeThreadOneToOne:m!==null?m:void 0,defaultE2eeThreads:n!==null?n:void 0,displayName:a.displayName,hasCutoverThread:o!==null?o:void 0,id:a.resultId,imageUrl:a.profilePicUrl,isAiBot:h.equal(a.type_,i.ofNumber(c("LSSearchType").AI_BOT)),isContact:g,isDisappearingModeSettingOn:Boolean(a.isDisappearingModeSettingOn),isE2EE:d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),isEPD:!1,isGroupsXacEligible:a.isGroupsXacEligible,isInstagramAccount:l,isInstamadilloCutover:Boolean(a.isInstamadilloCutover),isInteropEligible:a.isInteropEligible,isTTLCClipEnabled:Boolean(a.hasTtlcClipEnabled),isTTLCGenericXMAShareEnabled:Boolean(a.hasTtlcGenericXmaShareEnabled),isTTLCMediaShareEnabled:Boolean(a.hasTtlcMediaShareEnabled),isTTLCStoryShareEnabled:Boolean(a.hasTtlcStoryShareEnabled),isVerified:p!=null?p:!1,isViewerUnconnected:a.isViewerUnconnected,isWAEligible:t!=null?!(h||(h=d("I64"))).equal(t,(i||(i=d("LSIntEnum"))).ofNumber(c("LSInstagramE2EEEligibility").INELIGIBLE)):void 0,otherUserId:q?(h||(h=d("I64"))).to_string(q):void 0,restrictionType:a.restrictionType,resultIgid:a.resultIgid,resultType:k(a.type_),searchResultType:d("MWSearchStandardResultTypeMappings").mapServerSearchResultToSearchStandardResultType(a.threadType,a.type_),searchSource:e,secondaryImageUrl:a.secondaryProfilePicUrl,section:f,sectionAnalyticsName:b==null?void 0:b.analyticsName,serverSearchResult:a,subtext:g?"":a.contextLine,subtextAdditional:(r=a.secondaryContextLine)!=null?r:"",supportsE2eeSpamdStorage:s,threadJoinLinkHash:a.threadJoinLinkHash,threadType:a.threadType,waAddressable:a.isWaAddressable,waEligibility:a.waEligibility}}g.checkIsInstagramAccount=j;g.getResultType=k;g.fromContact=a;g.fromThread=b;g.fromServerSearchResult=e}),98);
__d("LSMessageSearchType",[],(function(a,b,c,d,e,f){a=Object.freeze({THREAD:1,MESSAGE:2});f["default"]=a}),66);
__d("LSSearchRequestStatusType",[],(function(a,b,c,d,e,f){a=Object.freeze({PENDING:1,COMPLETE:2,FAILED:3});f["default"]=a}),66);
__d("MWLSParticipant",["I64","LSContactBlockedByViewerStatus","LSContactGender","LSContactType","LSContactWorkForeignEntityType","LSIntEnum","LSMailboxType","MWLSContactTypeExactUtils","ReQL","getLSMediaContactProfilePictureUrl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b={actual_name:"",blocked_by_viewer_status:(h||(h=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contact_id:(i||(i=d("I64"))).zero,contactType:h.ofNumber(c("LSContactType").UNKNOWN),delivered_watermark_timestamp_ms:i.zero,gender:h.ofNumber(c("LSContactGender").UNKNOWN),is_admin:!1,is_messenger_user:!1,mailbox_type:h.ofNumber(c("LSMailboxType").MESSENGER),name:"",nickname:void 0,profile_picture_url:"",rank:0,read_action_timestamp_ms:i.zero,read_watermark_timestamp_ms:i.zero,secondary_name:void 0,thread_key:i.zero,work_company_name:void 0,work_foreign_entity_info:h.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN),work_job_title:void 0};function j(a){var b=a[0];a=a[1];var e=b.nickname,f=a.blockedByViewerStatus,g=a.contactTypeExact,i=a.firstName,j=a.name,k=a.secondaryName;return{actual_name:j,blocked_by_viewer_status:f,contact_id:b.contactId,contactType:a.contactType,delivered_watermark_timestamp_ms:b.deliveredWatermarkTimestampMs,gender:a.gender,is_admin:(f=b.isAdmin)!=null?f:!1,is_messenger_user:a.isMessengerUser,mailbox_type:(h||(h=d("LSIntEnum"))).ofNumber(c("LSMailboxType").MESSENGER),name:(f=(f=e)!=null?f:i)!=null?f:j,nickname:e,profile_picture_url:c("getLSMediaContactProfilePictureUrl")(a),rank:a.rank,read_action_timestamp_ms:b.readActionTimestampMs,read_watermark_timestamp_ms:b.readWatermarkTimestampMs,secondary_name:d("MWLSContactTypeExactUtils").isIgContact(g)?k:void 0,thread_key:b.threadKey,work_company_name:a.workCompanyName,work_foreign_entity_info:a.workForeignEntityType,work_job_title:a.workJobTitle}}function a(a,b,c){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(c),b).map(j)}g.empty=b;g.projectOpen=j;g.getAllInOpenThread=a}),98);
__d("groupBy",[],(function(a,b,c,d,e,f){function a(a,b){return a.reduce(function(a,c){(a[b(c)]=a[b(c)]||[]).push(c);return a},{})}f["default"]=a}),66);
__d("MWInboxSecureContentSearch",["fbt","I64","LSIntEnum","LSMessageSearchType","LSSearchRequestStatusType","MAWBridgeSearchMsg","MAWBridgeSendAndReceive","MAWChatJid","MAWTimeUtils","MAWVault","MWLSParticipant","MWLSThreadTitle","Promise","ReQL","asyncToGeneratorRuntime","emptyFunction","getLSMediaContactProfilePictureUrl","getLSMediaThreadPictureUrl","groupBy"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;function a(a,c,e){return(k||(k=b("Promise"))).all([d("ReQL").mergeJoin(d("ReQL").fromTableAscending(e.table("participants"),[]).getKeyRange(a),d("ReQL").fromTableAscending(e.table("contacts"))),d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(a))]).then(function(a){var b=a[0];a[1];a=b.filter(function(a){a[0];a=a[1];a=(i||(i=d("I64"))).equal(a.id,c);return!a}).map(function(a){a[0];a=a[1];return a});return d("ReQL").firstAsync(a)})}function l(a,c){return d("MAWChatJid").toThreadKey(c,a.chatJid).then(function(e){return(k||(k=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(c.threads).getKeyRange(e)),k.resolve(a)])})}function m(a,e,f){var g=c("getLSMediaThreadPictureUrl")(a);if(g!=null)return(k||(k=b("Promise"))).resolve([g,void 0]);else{a=(g=d("ReQL")).toArrayAsync(g.leftJoin(g.fromTableAscending(f.table("participants"),[]).getKeyRange(a.threadKey),g.fromTableAscending(f.table("contacts"))).map(function(a){a[0];a=a[1];return a}).filter(Boolean));g=a.then(function(a){var b=a.length===1&&(i||(i=d("I64"))).equal(a[0].id,e);return a.sort(function(a,b){return a.rank-b.rank}).filter(function(a){return(i||(i=d("I64"))).equal(a.id,e)?b:!0}).map(function(a){return c("getLSMediaContactProfilePictureUrl")(a)})}).then(function(a){var b=a[0];return b!=null?[b,a[1]]:["",void 0]});return g}}function n(a,b,e,f,g){if((i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").MESSAGE))&&f!=null){g=(g=e.find(function(a){return a.contact_id===f.id}))==null?void 0:g.nickname;return(g=g)!=null?g:f.name}return d("MWLSThreadTitle").getThreadTitleWithFullName(b.threadName,a,e,b.threadType)}function o(a,b,e){b=b.content;if(b!=null&&(a===1||(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").MESSAGE))))return d("MAWVault").isVaulted(b)?d("MAWVault").unvault(b):b;else return h._("__JHASH__MOcENwPdyTO__JHASH__",[h._plural(a,"number")]).toString()}function p(a,b){return d("ReQL").toArrayAsync(d("MWLSParticipant").getAllInOpenThread(b,d("ReQL").fromTableAscending(b.table("contacts")),a.threadKey))}function q(a){return a.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function r(a,b){a=q(a).split(" ");var c=q(b),d=[],e=[];a.forEach(function(a){var b=new RegExp(a,"gi");b=c.matchAll(b);b=Array.from(b);b=b.map(function(a){return a.index});var f=b.map(function(b){return a.length});e.push.apply(e,b);d.push.apply(d,f)});return{matchLengths:d.join(","),matchOffsets:e.join(",")}}function s(a,b){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("contacts")).getKeyRange((i||(i=d("I64"))).of_string(b.sender))));return a});return t.apply(this,arguments)}function u(a,e,f,g,h,q){return q.runInTransaction(function(t){return l(a,t).then(function(a){var l=a[0];if(l==null)return;var u=a[1];if(u!=null)return(k||(k=b("Promise"))).all([m(l,h,q),p(l,q),(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").MESSAGE))?s(q,u):(k||(k=b("Promise"))).resolve(null)]).then(function(a){var m,p=a[0],q=p[0];p=p[1];var s=a[1];a=a[2];m=(m=u.content)!=null?m:"";m=d("MAWVault").isVaulted(m)?d("MAWVault").unvault(m):m;m=r(f,m);var v=m.matchLengths;m=m.matchOffsets;return(k||(k=b("Promise"))).all([t.message_search_queries.put({hasNextPage:void 0,nextPageCursor:void 0,query:f,resultCount:(i||(i=d("I64"))).of_int32(e),status:(j||(j=d("LSIntEnum"))).ofNumber(c("LSSearchRequestStatusType").COMPLETE),threadKeyV2:l.threadKey,type_:g}),t.message_search_results.put({contextLine:o(e,u,g),displayName:n(h,l,s,a,g),globalIndex:i.of_int32(-u.rowId|0),matchLengths:v,matchOffsets:m,messageId:u.msgId,messageTimestampMs:d("MAWTimeUtils").toTimestamp(u.ts),profilePicUrl:(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").MESSAGE))&&a!=null?a.profilePictureUrl:q,query:f,secondaryProfilePicUrl:(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").MESSAGE))&&a!=null?a.profilePictureFallbackUrl:p,threadKey:l.threadKey,threadType:l.threadType,type_:g})]).then(c("emptyFunction"))})})},"readwrite")}function v(a,b){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){c=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","search",{query:c,searchMode:d("MAWBridgeSearchMsg").MESSAGE_CONTENT_SEARCH}));return(k||(k=b("Promise"))).all(c.map(function(b){if(b.recordType==="msg"){b.matchedTerms;b.recordType;var c=babelHelpers.objectWithoutPropertiesLoose(b,["matchedTerms","recordType"]);return d("MAWChatJid").toThreadKey(a.tables,c.chatJid).then(function(a){return[c,a]})}}).filter(Boolean))});return w.apply(this,arguments)}function e(a,e,f){return v(f,a).then(function(g){return Object.values(c("groupBy")(g,function(a){a[0];a=a[1];return a==null?"":(i||(i=d("I64"))).to_string(a)})).map(function(b){var g=b[0];if(g!==null){g=g[0];return u(g,b.length,a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").THREAD),e,f)}}).reduce(function(a,d){return(k||(k=b("Promise"))).all([a,d]).then(c("emptyFunction"))},(k||(k=b("Promise"))).resolve())})}function f(a,e,f,g){return v(g,a).then(function(h){h=h.filter(function(a){a[0];a=a[1];return e!=null&&a!=null&&(i||(i=d("I64"))).equal(a,e)});var l=h.length;return h.map(function(b){b=b[0];return u(b,l,a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").MESSAGE),f,g)}).reduce(function(a,d){return(k||(k=b("Promise"))).all([a,d]).then(c("emptyFunction"))},(k||(k=b("Promise"))).resolve())})}g.getThreadOtherParticipantContact=a;g.getThreadPics=m;g.getThreadParticipants=p;g.searchSecureDatabaseThreads=e;g.searchSecureDatabaseMessages=f}),226);
__d("MWPSearchOfflineSearchTypes",[],(function(a,b,c,d,e,f){"use strict";a="Contact";b="ThreadName";c="ThreadParticipant";d={Contact:a,ThreadName:b,ThreadParticipant:c};f.MWPSearchType=d}),66);
__d("MWPSearchOfflineOpenConversationsUtils",["I64","LSAuthorityLevel","LSContactBitOffset","LSInitSyncCompleteSubscription","LSIntEnum","LSMessagingThreadTypeUtil","MNetRankType","MWChatSearchResultType","MWChatTemporarySearchResult","MWInboxSecureContentSearch","MWPSearchOfflineOpenConversations","MWPSearchOfflineSearchTypes","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b){return"p__"+(j||(j=d("I64"))).to_string(a)+"__"+j.to_string(b)}function k(a){a=a.split("__");if(a.length!==3)return;else return[(j||(j=d("I64"))).of_string(a[1]),j.of_string(a[2])]}function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){a=(yield (h||(h=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("contacts")).getKeyRange((j||(j=d("I64"))).of_string(e))),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("ig_contact_info")).getKeyRange(j.of_string(e))),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("ranking_scores")).getKeyRange(j.of_string(e),(i||(i=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH)))]));e=a[0];var g=a[1];a=a[2];if(e==null)return;if(e.isMemorialized!==!0&&!(j||(j=d("I64"))).equal(e.contactViewerRelationship,(j||(j=d("I64"))).one)&&(j||(j=d("I64"))).equal(e.blockedByViewerStatus,(j||(j=d("I64"))).zero)&&!d("LSContactBitOffset").hasWithDefault(66,e,!1)){return d("MWChatTemporarySearchResult").fromContact((a=a)!=null?a:void 0,void 0,e,(a=g)!=null?a:void 0,"offline",f)}});return m.apply(this,arguments)}function n(a,e,f){return(h||(h=b("Promise"))).all([d("ReQL").firstExnAsync(d("ReQL").fromTableAscending(a.table("_user_info")).map(function(a){return a.facebookUserId})),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange((j||(j=d("I64"))).of_string(e))),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("ig_thread_info")).getKeyRange(j.of_string(e)))]).then(function(e){var g=e[0],k=e[1],l=e[2];if(k!=null&&k.folderName==="inbox"){if(d("LSMessagingThreadTypeUtil").isChannelPreview(k.threadType))return(h||(h=b("Promise"))).resolve();return d("LSMessagingThreadTypeUtil").isArmadilloSecure(k.threadType)&&d("LSMessagingThreadTypeUtil").isOneToOne(k.threadType)&&(j||(j=d("I64"))).equal(k.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))?(h||(h=b("Promise"))).resolve():(h||(h=b("Promise"))).all([d("MWInboxSecureContentSearch").getThreadPics(k,g,a),d("MWInboxSecureContentSearch").getThreadParticipants(k,a)]).then(function(a){var b=a[0];a=a[1];var c=(j||(j=d("I64"))).to_float(k.lastActivityTimestampMs);c={contactId:j.zero,contactType:j.zero,score:c,scoreIndex:j.zero,scoreType:j.zero};return d("MWChatTemporarySearchResult").fromThread(k,"offline",g,b[0],b[1],a,c,f,l)})}else return(h||(h=b("Promise"))).resolve()})}function o(a,b){a=a.rankingScore;a=a!=null?a.score:0;b=b.rankingScore;b=b!=null?b.score:0;if(b>a)return 1;return b<a?-1:0}function p(a,e){return(h||(h=b("Promise"))).all(e.map(function(c){switch(c.category.type){case d("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadParticipant:var e=k(c.id);if(e!=null){e=e[0];return n(a,(j||(j=d("I64"))).to_string(e),c.terms)}else return(h||(h=b("Promise"))).resolve();case d("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadName:return n(a,c.id,c.terms);case d("MWPSearchOfflineSearchTypes").MWPSearchType.Contact:return l(a,c.id,c.terms)}})).then(function(a){a=a.filter(Boolean);var b=a.filter(function(a){return a.resultType!==c("MWChatSearchResultType").GROUP}).sort(o);a=a.filter(function(a){return a.resultType===c("MWChatSearchResultType").GROUP}).sort(o);return b.concat(a)})}var q={contents:void 0};function e(a,c){if(q.contents==null)return(h||(h=b("Promise"))).resolve([]);var e=q.contents,f=d("MWPSearchOfflineOpenConversations").search(a).filter(function(a){if(c)return!0;a=a.category;if((a==null?void 0:a.type)==="Contact")return!0});return d("LSInitSyncCompleteSubscription").maybeWaitForSyncGroup(e,(i||(i=d("LSIntEnum"))).ofNumber(7)).then(function(){return p(e,f)})}g.getGroupParticipantKey=a;g.searchHelper=p;g.db=q;g.search=e}),98);
__d("MWPSearchOpenIndexer",["I64","MWPSearchOfflineOpenConversations","MWPSearchOfflineOpenConversationsUtils","MWPSearchOfflineSearchTypes","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Map(),k=new Map(),l=new Map();function m(a){var b=a.id;a=a.name;b=(i||(i=d("I64"))).to_string(b);a={category:{type:d("MWPSearchOfflineSearchTypes").MWPSearchType.Contact},content:a,id:b};d("MWPSearchOfflineOpenConversations").add(a);j.set(b,a)}function n(a){var b=j.get(a);if(b!=null){j["delete"](a);d("MWPSearchOfflineOpenConversations").remove(b);return}}function o(a){var b=a.threadKey;a=a.threadName;if(a==null)return;b=(i||(i=d("I64"))).to_string(b);a={category:{type:d("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadName},content:a,id:b};d("MWPSearchOfflineOpenConversations").add(a);k.set(b,a)}function p(a){var b=k.get(a);if(b!=null){k["delete"](a);d("MWPSearchOfflineOpenConversations").remove(b);return}}function q(a,b){if(b==null)return;var c=d("MWPSearchOfflineOpenConversationsUtils").getGroupParticipantKey(a.threadKey,a.contactId);b=b.name;a.nickname!=null&&(b+=" "+a.nickname);a={category:{type:d("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadParticipant},content:b.trim(),id:c};d("MWPSearchOfflineOpenConversations").add(a);l.set(c,a)}function r(a,b){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(b.contactId)));return q(b,a)});return s.apply(this,arguments)}function t(a,b){a=d("MWPSearchOfflineOpenConversationsUtils").getGroupParticipantKey(a,b);b=l.get(a);if(b!=null){l["delete"](a);d("MWPSearchOfflineOpenConversations").remove(b);return}}function a(a,b){switch(b.operation){case"add":return m(b.value);case"put":n((i||(i=d("I64"))).to_string(a));return m(b.value);case"delete":return n((i||(i=d("I64"))).to_string(a))}}function c(a,b){switch(b.operation){case"add":return o(b.value);case"put":p((i||(i=d("I64"))).to_string(a));return o(b.value);case"delete":return p((i||(i=d("I64"))).to_string(a))}}function e(a,c,d,e){switch(e.operation){case"add":return r(a,e.value);case"put":t(c,d);return r(a,e.value);case"delete":return(h||(h=b("Promise"))).resolve(t(c,d))}}function f(a,b,c,e){d("MWPSearchOfflineOpenConversationsUtils").db.contents=a,b.forEach(m),c.forEach(o),e.forEach(function(a){var b=a[0];a=a[1];return q(b,a)})}g.onContactChanged=a;g.onGroupThreadChanged=c;g.onGroupParticipantChanged=e;g.startInitialIndex=f}),98);
__d("MWPSearchSystem",["CurrentUser","FBLogger","I64","JSScheduler","LSClearTablesStoredProcedure","LSFactory","LSIntEnum","MWChatSearchInsertRankingContacts","MWLSSyncRankings","MWPSearchIndexingSource","MWPSearchOpenIndexer","Promise","ReQL","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l={contents:!1},m={contents:!1},n={contents:!1},o=c("gkx")("24168");function a(a){if(!n.contents){n.contents=!0;(i||(i=d("JSScheduler"))).scheduleSpeculativeCallback(function(){d("MWChatSearchInsertRankingContacts").insertRankingContacts(a);d("MWLSSyncRankings").sync(a);var e=(k||(k=d("I64"))).of_string(c("CurrentUser").getID());l.contents||(l.contents=!0,c("promiseDone")((h||(h=b("Promise"))).all([d("MWPSearchIndexingSource").fetchContacts(a),o?d("MWPSearchIndexingSource").fetchGroupThreads(a):(h||(h=b("Promise"))).resolve([]),o?d("MWPSearchIndexingSource").fetchGroupParticipants(e,a):(h||(h=b("Promise"))).resolve([])]).then(function(b){var c=b[0],e=b[1];b=b[2];d("MWPSearchOpenIndexer").startInitialIndex(a,c,e,b)}),function(){m.contents=!0},function(a){c("FBLogger")("messenger_search").catching(a).mustfix("Error indexing contacts for search")}),d("ReQL").fromTableAscending(a.tables.contacts).subscribe(function(a,b){a=a[0];d("MWPSearchOpenIndexer").onContactChanged(a,b)}),o&&(d("ReQL").fromTableAscending(a.tables.threads).filter(function(a){return(k||(k=d("I64"))).equal(a.threadType,(j||(j=d("LSIntEnum"))).ofNumber(2))}).subscribe(function(a,b){a=a[0];d("MWPSearchOpenIndexer").onGroupThreadChanged(a,b)}),d("ReQL").fromTableAscending(a.tables.participants,["contactId","threadKey","nickname"]).filter(function(a){return!(k||(k=d("I64"))).equal(a.contactId,e)}).subscribe(function(b,e){var f=b[0];b=b[1];c("promiseDone")(d("MWPSearchOpenIndexer").onGroupParticipantChanged(a,f,b,e))})))});return}}function e(a){return a.runInTransaction(function(a){return c("LSClearTablesStoredProcedure")(c("LSFactory")(a))},"readwrite")}function f(){if(d("MWLSSyncRankings").isDone()&&d("MWChatSearchInsertRankingContacts").isDone())return m.contents;else return!1}g.makeAll=a;g.clearAll=e;g.isDone=f}),98);
__d("LSSearchGranularSurfaceType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNIVERSAL_ALL:1,UNIVERSAL_MORE_PEOPLE:2,UNIVERSAL_IG_FOLLOWING:3,UNIVERSAL_BUSINESS:4,UNIVERSAL_CM_THREADS:18,UNIVERSAL_AI_BOTS:28,UNIVERSAL_COMMUNITIES:33,UNIVERSAL_NULLSTATE_ALL:25,UNIVERSAL_NULLSTATE_CHANNELS:26,UNIVERSAL_NULLSTATE_PEOPLE:27,UNIVERSAL_QUERY_STATE_PEOPLE:29,UNIVERSAL_QUERY_STATE_MESSAGES:30,UNIVERSAL_QUERY_STATE_MEDIA:31,UNIVERSAL_QUERY_STATE_CHANNELS:32,UNIVERSAL_QUERY_STATE_MEDIA_SEE_MORE:34,UNIVERSAL_QUERY_STATE_ATTACHMENTS_SEE_MORE:35,OMNIPICKER:5,BROADCAST:6,BLOCK_LIST:7,IMPERSONATION_EVIDENCE:8,UNIVERSAL_IG_NONFOLLOWING:9,GROUPS:10,OMNIPICKER_ARMADILLO:11,RESTRICTED_LIST:12,CALLS_TAB:13,CM_INVITE_ALL_MEMBERS:14,INSTAGRAM_ALL:15,CM_MEMBER_LIST:16,CM_THREAD_PARTICIPANT_SEARCH:17,CM_COMMUNITY_CREATION_INVITE:19,CM_INVITE_FB_FRIENDS:20,CM_COMMUNITY_INVITE_ALL_MEMBERS:21,CM_COMMUNITY_INVITE_FB_FRIENDS:22,CM_PRIVATE_COMMUNITY_BROADCAST:23,DISCOVERABLE_CHAT_MAIN_INVITE:24,CM_TAB_QUERY_SEARCH:36});f["default"]=a}),66);
__d("MWChatSearchSurfaces",["LSIntEnum","LSSearchGranularSurfaceType"],(function(a,b,c,d,e,f,g){"use strict";var h;a={broadcast:(h||(h=d("LSIntEnum"))).ofNumber(c("LSSearchGranularSurfaceType").BROADCAST),cmCommunityInviteAllMembers:h.ofNumber(c("LSSearchGranularSurfaceType").CM_COMMUNITY_INVITE_ALL_MEMBERS),cmCommunityInviteFbFriends:h.ofNumber(c("LSSearchGranularSurfaceType").CM_COMMUNITY_INVITE_FB_FRIENDS),cmInviteAllMembers:h.ofNumber(c("LSSearchGranularSurfaceType").CM_INVITE_ALL_MEMBERS),cmInviteFbFriends:h.ofNumber(c("LSSearchGranularSurfaceType").CM_INVITE_FB_FRIENDS),cmMemberList:h.ofNumber(c("LSSearchGranularSurfaceType").CM_MEMBER_LIST),cmThreadParticipantSearch:h.ofNumber(c("LSSearchGranularSurfaceType").CM_THREAD_PARTICIPANT_SEARCH),instagramAll:h.ofNumber(c("LSSearchGranularSurfaceType").INSTAGRAM_ALL),omnipicker:h.ofNumber(c("LSSearchGranularSurfaceType").OMNIPICKER),omnipickerArmadillo:h.ofNumber(c("LSSearchGranularSurfaceType").OMNIPICKER_ARMADILLO),universal:h.ofNumber(c("LSSearchGranularSurfaceType").UNIVERSAL_ALL)};b=a;g["default"]=b}),98);
__d("MWChatSearchThreadCutover",["FBLogger","I64","ReQL","ReQLSuspense","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b){b=(h||(h=d("I64"))).of_string_opt(b);if(b==null)return!1;a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.table("cutover_threads")).getKeyRange(b),f.id+":24");return Boolean(a)};a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=(h||(h=d("I64"))).of_string_opt(b);if(b==null)return;var e=Boolean(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("cutover_threads")).getKeyRange(b)));if(e){e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table").index("jid")).getKeyRange(b)));if(e!=null)return(h||(h=d("I64"))).to_string(e==null?void 0:e.serverThreadKey);else{c("FBLogger")("Messenger Search").mustfix("Mapping of open thread not found in mi_act_mapping_table but found in cutover_threads table.");return}}return});return function(b,c){return a.apply(this,arguments)}}();e=function(a,b,c){var d=[],e=new Set();for(b of b)e.has(b.id)||(!c.has(b.resultType)||!i(a,b.id))&&(d.push(b),e.add(b.id));return d};g.getCutoverThreadKey=a;g.filterOutCutoverOpenThreadBasedOnSearchResultTypes=e}),98);
__d("MWChatSearchFilteringUtils",["I64","LSIntEnum","LSMessagingThreadTypeUtil","LSSearchGranularSurfaceType","MWChatSearchResultType","MWChatSearchSurfaces","MWChatSearchThreadCutover","MessengerMSplitFlag","Promise","asyncToGeneratorRuntime","gkx","hasDefaultThreadOneToOneCapability"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b){var c=a.map(function(a){if(a.searchSource==="server")return!1;if(m(a,b))return!0;return l(a)?!0:!1});a=a.filter(function(a,b){return c[b]===!1});return a}function e(a,b,c,d,e){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,d,e,f){e===void 0&&(e=!1);f===void 0&&(f=!0);var g=c;e&&(g=c.filter(function(a){a.key;a=a.rawData;return a.isE2EE}));if(d==null)return g;var h=(yield (j||(j=b("Promise"))).all(g.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){if(yield q(b,d))return!1;if(yield s(b,d,e,f))return!1;if(o(a,b))return!1;return n(b)?!1:!0});return function(a){return c.apply(this,arguments)}}())));g=c.filter(function(a,b){return h[b]});return g});return k.apply(this,arguments)}function l(a){return!c("gkx")("2685")?!1:a.isContact===!0&&a.isViewerUnconnected===!0}function m(a,b){return b===c("MWChatSearchSurfaces").instagramAll?!1:a.isInstagramAccount===!0}function n(a){a=a.rawData.canViewerMessage;return a===!1}function o(a,b){b=b.rawData;var e=b.isAiBot;b=b.isViewerUnconnected;if(e!==!0)return!1;return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchGranularSurfaceType").OMNIPICKER_ARMADILLO))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchGranularSurfaceType").OMNIPICKER))?!0:c("MessengerMSplitFlag").is_msplit_account||b!==!1}function f(a){var b=[],c=new Set();a.forEach(function(a){c.has(a.key)||(b.push(a),c.add(a.key))});return b}function p(a,b){if(b!=null)return d("LSMessagingThreadTypeUtil").isArmadilloSecure(b.threadType);return a!=null?a.isE2EE===!0:!1}function q(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=a.rawData;if(a.resultType!==c("MWChatSearchResultType").USER)return!1;var e=a.defaultE2eeThreadOneToOne,f=a.id,g=a.isE2EE;a=a.otherUserId;if(!g)return!1;return e===!0?!1:yield c("hasDefaultThreadOneToOneCapability")((h||(h=d("I64"))).of_string_opt((g=a)!=null?g:f),b)});return r.apply(this,arguments)}function s(a,b,c,d){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d,e){e===void 0&&(e=!0);if(!c("gkx")("1398"))return!d&&e&&(yield u(a,b))?!0:!1;if(d)return!1;else if(e)return w(a,b);return!1});return t.apply(this,arguments)}function u(a,b){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=a.rawData;if(a.resultType!==c("MWChatSearchResultType").USER&&a.resultType!==c("MWChatSearchResultType").GROUP)return!1;if(b==null)return!1;var e=a.otherUserId;if(e!=null){e=(yield d("MWChatSearchThreadCutover").getCutoverThreadKey(b,e));return e==null?!1:a.id.toString()!==e}e=(yield d("MWChatSearchThreadCutover").getCutoverThreadKey(b,a.id.toString()));return e!=null});return v.apply(this,arguments)}function w(a,b){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=a.rawData;if(a.resultType!==c("MWChatSearchResultType").USER&&a.resultType!==c("MWChatSearchResultType").GROUP)return!1;if(b==null)return!1;var e=a.hasCutoverThread,f=a.isE2EE;a=a.otherUserId;if(!f)return!1;if(a!=null){if(e===!0)return!0;f=(yield d("MWChatSearchThreadCutover").getCutoverThreadKey(b,a));return f!=null}return!1});return x.apply(this,arguments)}g.filterLocalSearchResults=a;g.filterSearchResults=e;g.dedupeByThreadKey=f;g.getIsE2ee=p}),98);
__d("LSIssueSearchQuery",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.db.table(67).fetch([[[a[0],a[4]]]]).next().then(function(e,f){f=e.done;e=e.value;return f?c.sequence([function(b){return d[1]=c.i64.of_float(Date.now()),c.db.table(67).add({query:a[0],surfaceType:a[4],statusPrimary:c.i64.cast([0,1]),statusSecondary:c.i64.cast([0,1]),startTimeMs:d[1]})},function(e){return d[2]=c.i64.cast([0,0]),d[3]=new c.Map(),d[3].set("query",a[0]),d[3].set("supported_types",a[1]),d[3].set("session_id",a[2]),d[3].set("surface_type",a[4]),d[3].set("selected_participants",a[5]),d[3].set("group_id",a[6]),d[3].set("community_id",a[8]),d[3].set("thread_id",a[7]),d[3].set("query_id",a[3]),d[4]=c.createArray(),d[10]=(d[4].push("search_primary"),d[4]),d[5]=c.i64.of_float(Date.now()),d[10]=(d[4].push(c.i64.to_string(d[5])),d[4]),d[6]=c.toJSON(d[4]),d[7]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTask"),d[6],c.i64.cast([0,30]),d[7],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),d[2])},function(e){return d[8]=new c.Map(),d[8].set("query",a[0]),d[8].set("supported_types",a[1]),d[8].set("session_id",a[2]),d[8].set("surface_type",a[4]),d[8].set("selected_participants",a[5]),d[8].set("group_id",a[6]),d[8].set("community_id",a[8]),d[8].set("thread_id",a[7]),d[8].set("query_id",a[3]),d[9]=c.toJSON(d[8]),c.storedProcedure(b("LSIssueNewTask"),"search_secondary",c.i64.cast([0,31]),d[9],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):(e.item,0)})},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSIssueSearchQueryStoredProcedure",["LSIssueSearchQuery","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.query;d[1]=b.supportedTypes;d[2]=b.sessionId;d[3]=b.queryId;d[4]=b.surfaceType;d[5]=b.selectedParticipants;d[6]=b.groupId;d[7]=b.threadId;d[8]=b.communityId;return c("LSIssueSearchQuery").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MNetContactItemType",[],(function(a,b,c,d,e,f){a=Object.freeze({CONTACT:0,NON_CONTACT:1,GROUP:2,PAGE:3,BOT:4,GAME:5,IG_USER:6,IG_THREAD:7,STICKER:8,INTEROP_THREAD:9,MSGR_THREAD:10,TEXT_SUGGESTION:11,COMMUNITY_MESSAGING_THREAD:12,IG_PUBLIC_CHANNELS:13,SIDE_CONVERSATIONS_COMMUNITY_MESSAGING_THREAD:14,COMMUNITY_MESSAGING_THREAD_FOR_CC_SECTION:15,BROADCAST_CHAT:16,MSGR_PUBLIC_CHANNEL:17,MSGR_SOCIAL_CHANNEL:18,NETEGO_IG_PUBLIC_CHANNELS:19});f["default"]=a}),66);
__d("MWChatSearchFetchCCRecommendations",["fbt","I64","LSIntEnum","LSMessagingThreadTypeUtil","LSSearchGranularSurfaceType","LSSearchType","MNetContactItemType","MWChatTemporarySearchResult","ReQL","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=3;function a(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){return(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSSearchGranularSurfaceType").INSTAGRAM_ALL))?[]:o(yield m(a,k))});return l.apply(this,arguments)}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").toArrayAsync(c("gkx")("26358")?d("ReQL").fromTableAscending(a.table("cm_search_nullstate_metadata")).filter(function(a){return(i||(i=d("I64"))).equal(a.threadType,(j||(j=d("LSIntEnum"))).ofNumber(18))}):d("ReQL").fromTableAscending(a.table("cm_search_nullstate_metadata"))));return a.sort(function(a,b){a=a.score;b=b.score;return a===b?0:a>b?1:-1}).slice(0,b)});return n.apply(this,arguments)}function o(a){return a.map(function(a,b){var e=a.communityId,f=a.contextLine,g=a.score,k=a.scoreType,l=a.secondaryThreadPictureUrl,m=a.secondaryThreadPictureUrlFallback,n=a.threadKey,o=a.threadName,p=a.threadPictureUrl;a.threadPictureUrlFallback;var q=a.threadType;babelHelpers.objectWithoutPropertiesLoose(a,["communityId","contextLine","score","scoreType","secondaryThreadPictureUrl","secondaryThreadPictureUrlFallback","threadKey","threadName","threadPictureUrl","threadPictureUrlFallback","threadType"]);a={contactId:n,contactType:(j||(j=d("LSIntEnum"))).ofNumber(c("MNetContactItemType").COMMUNITY_MESSAGING_THREAD_FOR_CC_SECTION),score:g,scoreIndex:(i||(i=d("I64"))).of_int32(b),scoreType:k};return{communityId:e!=null?(i||(i=d("I64"))).to_string(e):"",displayName:o,id:i.to_string(n),imageUrl:(b=(g=p)!=null?g:l)!=null?b:"",isAiBot:i.equal(q,j.ofNumber(201)),isContact:d("LSMessagingThreadTypeUtil").isOneToOne(q),isDisappearingModeSettingOn:!1,isE2EE:d("LSMessagingThreadTypeUtil").isArmadilloSecure(q),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:!1,isTTLCClipEnabled:!1,isTTLCGenericXMAShareEnabled:!1,isTTLCMediaShareEnabled:!1,isTTLCStoryShareEnabled:!1,isVerified:!1,rankingScore:a,resultType:d("MWChatTemporarySearchResult").getResultType(j.ofNumber(c("LSSearchType").COMMUNITY_MESSAGING_THREAD)),searchSource:"server",secondaryImageUrl:(e=(k=l)!=null?k:m)!=null?e:"",section:h._("__JHASH__6QBjd4SVwsL__JHASH__").toString(),subtext:(o=f)!=null?o:"",threadKey:n,threadType:q}})}g.fetchCCs=a;g.mapToSearchResults=o}),226);
__d("MWChatSearchFetchContactRecommendations",["I64","LSContactBitOffset","LSContactViewerRelationship","LSDatabaseSingleton","LSIntEnum","LSSearchType","LSWhatsAppConnectStatus","MNetContactItemType","MNetRankType","MWChatTemporarySearchResult","MWLSContactTypeExactUtils","ReQL","ReQLSuspense","asyncToGeneratorRuntime","getLSMediaContactProfilePictureUrl","gkx","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=(i||d("react")).useMemo;function n(a){if(a<0)return-1;return a>0?1:0}function o(a){return a.sort(function(a,b){a=a[0];var c=a[0];a=a[1];b=b[0];var d=b[0];b=b[1];if(d.score!==c.score)return n(d.score-c.score);if(a!=null&&b!=null)return n(b.rank-a.rank);return b==null&&a==null?0:b!=null?1:-1})}function p(a){var b=a.contactTypeExact;a=a.contactViewerRelationship;if(d("MWLSContactTypeExactUtils").isIgContact(b)){if((j||(j=d("I64"))).equal(a,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").NOT_CONTACT)))return(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING);return(j||(j=d("I64"))).equal(a,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER))?(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING):(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING)}return(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").CONTACT)}function q(a){return a.map(function(a,b){var e=a[0],f=e[0];e=e[1];a=a[1];if(e==null)return;var g=e.contactTypeExact;f=(l||(l=d("LSIntEnum"))).toNumber(f.contactType);var h;!c("gkx")("26359")&&d("LSContactBitOffset").has(76,e)?h=15:h=f===c("MNetContactItemType").GROUP?2:1;var i;switch(f){case c("MNetContactItemType").CONTACT:i=p(e);break;case c("MNetContactItemType").GROUP:i=(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").GROUP);break;case c("MNetContactItemType").PAGE:case c("MNetContactItemType").BOT:case c("MNetContactItemType").GAME:case c("MNetContactItemType").STICKER:i=(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").PAGE);break;case c("MNetContactItemType").IG_THREAD:case c("MNetContactItemType").INTEROP_THREAD:case c("MNetContactItemType").MSGR_THREAD:i=(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD);break;case c("MNetContactItemType").IG_USER:i=(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING);break;default:i=(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").NONCONTACT)}f={blockedByViewerStatus:e.blockedByViewerStatus,contextLine:(f=e.secondaryName)!=null?f:"",defaultE2eeThreadOneToOne:d("LSContactBitOffset").has(83,e),defaultE2eeThreads:d("LSContactBitOffset").has(80,e),displayName:e.name,globalIndex:(j||(j=d("I64"))).of_int32(b),hasCutoverThread:d("LSContactBitOffset").has(76,e),isGroupsXacEligible:d("LSContactBitOffset").has(68,e),isInteropEligible:d("MWLSContactTypeExactUtils").isIgContact(g)?d("LSContactBitOffset").has(67,e):void 0,isVerified:d("LSContactBitOffset").has(23,e),isViewerUnconnected:d("LSContactBitOffset").hasWithDefault(64,e,!0),isWaAddressable:j.equal(e.waConnectStatus,l.ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_ADDRESSABLE)),profilePicUrl:c("getLSMediaContactProfilePictureUrl")(e),query:"",resultId:j.to_string(e.id),resultIgid:a==null?void 0:a.igId,threadType:l.ofNumber(h),type_:i,waEligibility:a==null?void 0:a.e2eeEligibility};b=d("MWChatTemporarySearchResult").fromServerSearchResult(f,void 0,"offline_nullstate");return[b,e]}).filter(Boolean)}function r(a,b){var c;return(c=d("ReQL")).leftJoin(c.leftJoin(c.fromTableAscending(a.table("ranking_scores").index("scoreTypeContactId")).getKeyRange(b),c.fromTableAscending(a.table("contacts"))),c.fromTableAscending(a.table("ig_contact_info")))}function a(a){a===void 0&&(a=(l||(l=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE));var b=(h||(h=c("useReStore")))(),e=d("ReQLSuspense").useArray(function(){return r(b,a)},[a,b],f.id+":238");return m(function(){return q(o(e)).filter(function(a){a=a[0];return!a.isAiBot})},[e])}function e(a){a===void 0&&(a=(l||(l=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE));return(k||(k=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(b){return d("ReQL").toArrayAsync(r(b,a))}).then(function(a){return q(o(a))})}function s(a,b){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").toArrayAsync(r(a,b)));return q(o(a)).map(function(a){a=a[0];return a})});return t.apply(this,arguments)}g.sortInPlaceQueryResults=o;g.mapToServerSearchResults=q;g.makeQuery=r;g.useChatSearchContactRecommendations=a;g.fetchRecommendations=e;g.fetchContacts=s}),98);
__d("MWChatSearchFetchGenAIBotRecommendations",["I64","LSContactViewerRelationship","LSIntEnum","LSMessagingThreadTypeUtil","LSSearchGranularSurfaceType","MNetContactItemType","MNetRankType","MWChatSearchResultType","MWChatTemporarySearchResultUtils","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=3;function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){return(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchGranularSurfaceType").INSTAGRAM_ALL))?[]:n(yield l(a,j))});return k.apply(this,arguments)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("ai_bot_search_metadata"))));return a.sort(function(a,b){a=a.score;b=b.score;return a===b?0:a>b?1:-1}).slice(0,b)});return m.apply(this,arguments)}function n(a){return a.map(function(a,b){var e=a.botId,f=a.contactViewerRelationship,g=a.contextLine,j=a.displayName,k=a.displayPictureUrl;a=a.score;a={contactId:e,contactType:(i||(i=d("LSIntEnum"))).ofNumber(c("MNetContactItemType").BOT),score:a,scoreIndex:(h||(h=d("I64"))).of_int32(b),scoreType:i.ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE)};return{displayName:j,id:h.to_string(e),imageUrl:(b=k)!=null?b:"",isAiBot:!0,isContact:!0,isDisappearingModeSettingOn:!1,isE2EE:d("LSMessagingThreadTypeUtil").isArmadilloSecure(e),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:!1,isTTLCClipEnabled:!1,isTTLCGenericXMAShareEnabled:!1,isTTLCMediaShareEnabled:!1,isTTLCStoryShareEnabled:!1,isVerified:!1,isViewerUnconnected:h.equal(f,i.ofNumber(c("LSContactViewerRelationship").NOT_CONTACT)),rankingScore:a,resultType:c("MWChatSearchResultType").AI_BOT,searchSource:"server",secondaryImageUrl:"",section:d("MWChatTemporarySearchResultUtils").getSectionHeaderForAIBot(),subtext:(j=g)!=null?j:"",threadKey:e,threadType:h.of_int32(201)}})}g.fetchGenAIBots=a;g.mapToSearchResults=n}),98);
__d("MWChatSearchFetchThreadRecommendations",["I64","LSContactBitOffset","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWChatSearchResultType","MWGetOtherContactOrSelf","MWInboxSecureContentSearch","MWLSThreadTitle","Promise","ReQL","asyncToGeneratorRuntime","hasDefaultThreadOneToOneCapability"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(a){return d("ReQL").firstExnAsync(d("ReQL").fromTableAscending(a.table("_user_info")))}function m(a,b,e,f,g,h,j){var l=(i||(i=d("I64"))).to_float(b.lastActivityTimestampMs);l={contactId:i.zero,contactType:i.zero,score:l,scoreIndex:i.zero,scoreType:i.zero};return{defaultE2eeThreadOneToOne:(j=j)!=null?j:void 0,displayName:d("MWLSThreadTitle").getDefaultThreadTitle(b.threadName,a,e,b.threadType).toString(),hasCutoverThread:(j=h)!=null?j:void 0,id:i.to_string(b.threadKey),imageUrl:f,isAiBot:i.equal(b.threadType,(k||(k=d("LSIntEnum"))).ofNumber(201)),isContact:!1,isDisappearingModeSettingOn:!1,isE2EE:d("LSMessagingThreadTypeUtil").isArmadilloSecure(b.threadType),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:d("LSThreadBitOffset").has(214,b),isTTLCClipEnabled:d("LSThreadBitOffset").has(226,b),isTTLCGenericXMAShareEnabled:d("LSThreadBitOffset").has(231,b),isTTLCMediaShareEnabled:d("LSThreadBitOffset").has(228,b),isTTLCStoryShareEnabled:d("LSThreadBitOffset").has(229,b),isVerified:!1,rankingScore:l,resultType:d("LSMessagingThreadTypeUtil").isGroup(b.threadType)?c("MWChatSearchResultType").GROUP:c("MWChatSearchResultType").USER,searchSource:"offline_nullstate",secondaryImageUrl:g,section:"",subtext:(a=b.threadDescription)!=null?a:"",threadKey:b.threadKey,threadType:b.threadType}}function n(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.table("threads").index("parentThreadKeyLastActivityTimestampMs"))).then(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){var d=(yield (h||(h=b("Promise"))).all(c.map(function(b){return p(a,b)})));return c.filter(function(a,b){return!d[b]})});return function(a){return c.apply(this,arguments)}}())}function a(){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield (j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton),e=(yield (h||(h=b("Promise"))).all([l(a),n(a)])),f=e[0];e=e[1];return h.all(e.map(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var g=(yield (h||(h=b("Promise"))).all([d("MWInboxSecureContentSearch").getThreadPics(e,f.facebookUserId,a),d("MWInboxSecureContentSearch").getThreadParticipants(e,a),d("LSMessagingThreadTypeUtil").isOpenOneToOne(e.threadType)?d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("cutover_threads")).getKeyRange(e.threadKey)):null,d("LSMessagingThreadTypeUtil").isOpenOneToOne(e.threadType)?c("hasDefaultThreadOneToOneCapability")(e.threadKey,a):null])),i=g[0],j=g[1],k=g[2];g=g[3];var l=i[0];i=i[1];return m(f.facebookUserId,e,j,l,i,Boolean(k),g)});return function(a){return e.apply(this,arguments)}}()))});return o.apply(this,arguments)}function p(a,b){if(!(d("LSMessagingThreadTypeUtil").isRecentsSectionAllowedTypes(b.threadType)&&d("LSMessagingThreadTypeUtil").isMessengerOrE2EEInbox(b.folderName)))return!0;return d("LSThreadBitOffset").has(44,b)?!0:q(a,b)}function q(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield (h||(h=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("contacts")).getKeyRange(c.threadKey)),d("ReQL").firstExnAsync(d("ReQL").fromTableAscending(a.table("_user_info")).map(function(a){return a.facebookUserId}))])),f=e[0];e=e[1];c=(yield d("MWGetOtherContactOrSelf").getOtherContactOrSelf(c.threadKey,e,a));a=(e=c)!=null?e:f;c=!1;a&&(c=d("LSContactBitOffset").has(28,a)||d("LSContactBitOffset").has(29,a));return c});return r.apply(this,arguments)}g.fetchThreadRecommendations=a;g.shouldFilterBlockedUser=q}),98);
__d("MWChatSearchIssueLightspeedQuery",["I64","LSContactBlockedByViewerStatus","LSDatabaseSingleton","LSFactory","LSIntEnum","LSIssueSearchQueryStoredProcedure","LSPlatformWaitForTaskCompletion","LSSearchRequestStatusType","LSSearchType","LSVec","MWChatSearchFetchCCRecommendations","MWChatSearchFetchContactRecommendations","MWChatSearchFetchGenAIBotRecommendations","MWChatSearchFetchThreadRecommendations","MWChatSearchResultType","MWChatTemporarySearchResult","Promise","ReQL","asyncToGeneratorRuntime","emptyFunction","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=c("gkx")("26360");function m(a,b){var e=a[0];a=a[1];var f=[],g=0;e.sort(function(a,b){return(i||(i=d("I64"))).compare(a.globalIndex,b.globalIndex)});a.sort(function(a,b){return(i||(i=d("I64"))).compare(a.globalIndex,b.globalIndex)});for(var h=0,j=e.length;h<j;++h){var k=e[h];while(g<a.length&&(i||(i=d("I64"))).ge(a[g].globalIndex,k.startIndex)&&(i||(i=d("I64"))).le(a[g].globalIndex,k.endIndex)){var l=a[g];f.push(d("MWChatTemporarySearchResult").fromServerSearchResult(l,k,"server"));g+=1}}return f.filter(function(a){if(b)return!0;else return a.resultType!==c("MWChatSearchResultType").GROUP})}function n(a,b,e){var f=e.query;return(k||(k=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(d){return d.runInTransaction(function(d){return c("LSIssueSearchQueryStoredProcedure")(c("LSFactory")(d),{query:f,supportedTypes:c("LSVec").ofArray(a),surfaceType:b})},"readwrite").then(function(){return d})})}function a(a,e,f,g,l){var n=l.query;if(e.length>0&&!e.includes("server"))return(h||(h=b("Promise"))).resolve([]);else return(k||(k=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(b){return c("LSPlatformWaitForTaskCompletion")(b,function(b){return c("LSIssueSearchQueryStoredProcedure")(c("LSFactory")(b),{query:n,supportedTypes:c("LSVec").ofArray(a),surfaceType:f})},"issueSearchQuery").then(function(){return b})}).then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e,f=(e=d("ReQL")).toArrayAsync(e.fromTableAscending(a.table("server_search_results")).getKeyRange(n).filter(function(a){return(i||(i=d("I64"))).equal(a.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))}));e=e.toArrayAsync(e.fromTableAscending(a.table("server_search_sections")).getKeyRange(n));a=(yield (h||(h=b("Promise"))).all([e,f]));return m(a,g)});return function(b){return a.apply(this,arguments)}}())}function e(a,c,e,f){return d("MWChatSearchFetchContactRecommendations").fetchRecommendations(f).then(function(a){return(h||(h=b("Promise"))).resolve(a.map(function(a){a=a[0];return a}))})}function o(a,b){if(!b.has(a.resultType))return!0;if(!a.isE2EE&&a.defaultE2eeThreadOneToOne===!0)return!0;if(a.hasCutoverThread===!0)return!0;return a.isAiBot?!0:!1}function p(a){var b=[],c=new Set();a.forEach(function(a){c.has(a.id)||(b.push(a),c.add(a.id))});return b}function f(){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("MWChatSearchFetchThreadRecommendations").fetchThreadRecommendations());if(a.length===0)return[];var b=new Set([c("MWChatSearchResultType").USER,c("MWChatSearchResultType").GROUP]);a=p(a);return a.filter(function(a){return!o(a,b)})});return q.apply(this,arguments)}function r(a,b,e,f){var g=[],h=[],k=[],l=function(){if(g.length===0||h.length===0||k.length!==1)return;(i||(i=d("I64"))).equal(k[0].statusPrimary,(j||(j=d("LSIntEnum"))).ofNumber(c("LSSearchRequestStatusType").PENDING))||f(m([h,g],e))},n=a.table("server_search_results").subscribe(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("server_search_results")).getKeyRange(b)),function(a){g=a;return l()})}),o=a.table("server_search_sections").subscribe(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("server_search_sections")).getKeyRange(b)),function(a){h=a;return l()})}),p=a.table("search_queries").subscribe(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("search_queries")).getKeyRange(b).filter(function(a){return!(i||(i=d("I64"))).equal(a.statusPrimary,(j||(j=d("LSIntEnum"))).ofNumber(c("LSSearchRequestStatusType").PENDING))})),function(a){k=a;return l()})});return function(){n(),o(),p()}}function s(a,b,e,f,g,h){var k=g.query;!l?c("promiseDone")(n(b,e,g)):c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("search_queries")).getKeyRange(k).filter(function(a){return!(i||(i=d("I64"))).equal(a.statusPrimary,(j||(j=d("LSIntEnum"))).ofNumber(c("LSSearchRequestStatusType").PENDING))})).then(function(c){return c==null||c.length!==1?n(b,e,g):d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("server_search_results")).getKeyRange(k)).then(function(c){return c==null||c.length===0?n(b,e,g):d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("server_search_sections")).getKeyRange(k)).then(function(a){if(a==null||a.length===0)return n(b,e,g);h(m([a,c],f))})})}));return r(a,g.query,f,h)}function t(a,e,f,g,i,k){c("promiseDone")(n(e,g,i));i=e.includes((j||(j=d("LSIntEnum"))).ofNumber(c("LSSearchType").COMMUNITY_MESSAGING_THREAD));e=e.includes(j.ofNumber(c("LSSearchType").AI_BOT));c("promiseDone")((h||(h=b("Promise"))).all([d("MWChatSearchFetchContactRecommendations").fetchContacts(a,f),i?d("MWChatSearchFetchCCRecommendations").fetchCCs(a,g):[],e?d("MWChatSearchFetchGenAIBotRecommendations").fetchGenAIBots(a,g):[]]).then(function(a){var b=a[0],c=a[1];a=a[2];b=u(b,c,a);return k(b)}));return c("emptyFunction")}function u(a,b,c){return[].concat(c,b,a)}g.toSearchResults=m;g.fetchResults=a;g.fetchRecommendations=e;g.shouldFilterSearchResultsForSharingNS=o;g.dedupeByThreadKey=p;g.fetchThreadRecommendations=f;g.requestResults=s;g.requestRecommendations=t;g.blendSearchResults=u}),98);
__d("MWLSSearchIssueSearchQuerySupportedTypes",["LSIntEnum","LSSearchType","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h;a=[(h||(h=d("LSIntEnum"))).ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").GROUP),h.ofNumber(c("LSSearchType").PAGE),h.ofNumber(c("LSSearchType").NONCONTACT),h.ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING)].concat(c("gkx")("24112")?[(h||(h=d("LSIntEnum"))).ofNumber(c("LSSearchType").PUBLIC_CHANNEL)]:[],c("gkx")("24113")?[(h||(h=d("LSIntEnum"))).ofNumber(c("LSSearchType").COMMUNITY_MESSAGING_THREAD)]:[],c("qex")._("136")||c("gkx")("24114")?[(h||(h=d("LSIntEnum"))).ofNumber(c("LSSearchType").AI_BOT)]:[]);b=[h.ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").GROUP),h.ofNumber(c("LSSearchType").PAGE),h.ofNumber(c("LSSearchType").NONCONTACT)];e=[h.ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").GROUP),h.ofNumber(c("LSSearchType").PAGE),h.ofNumber(c("LSSearchType").NONCONTACT),h.ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING),h.ofNumber(c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD)];f=[h.ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").GROUP),h.ofNumber(c("LSSearchType").PAGE),h.ofNumber(c("LSSearchType").NONCONTACT),h.ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING)];var i=[h.ofNumber(c("LSSearchType").CONTACT)];d=[h.ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").GROUP),h.ofNumber(c("LSSearchType").PAGE),h.ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING)].concat(c("gkx")("26356")===!0?[(h||(h=d("LSIntEnum"))).ofNumber(c("LSSearchType").COMMUNITY_MESSAGING_THREAD)]:[]);var j=[h.ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").NONCONTACT)],k=[h.ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").NONCONTACT),h.ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING)],l=[h.ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").GROUP),h.ofNumber(c("LSSearchType").NONCONTACT)];c=[h.ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").NONCONTACT)];g.allSupportedTypes=a;g.supportedTypesForMSplitUser=b;g.allSupportedTypesWithMessageSearch=e;g.armadilloSupportedTypes=f;g.onlyContacts=i;g.broadcastFlowSupportedTypes=d;g.addParticipantBase=j;g.addParticipantXac=k;g.socialChannelsSupportedTypes=l;g.communityDirectInviteSupportedTypes=c}),98);
__d("MWStaticSearchEntries",["fbt","MWChatSearchResultType"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=h._("__JHASH__jyy97B7ulae__JHASH__",[h._param("param",a)]).toString();return{key:a,label:b,rawData:{displayName:b,id:a,imageUrl:"",isContact:!1,isDisappearingModeSettingOn:!1,isE2EE:!1,isEPD:!1,isInstamadilloCutover:!1,isTTLCClipEnabled:!1,isTTLCGenericXMAShareEnabled:!1,isTTLCMediaShareEnabled:!1,isTTLCStoryShareEnabled:!1,resultType:c("MWChatSearchResultType").MESSAGE,secondaryImageUrl:"",subtext:""},type:"entry"}}g.createMessageSearchHeaderEntry=a}),226);
__d("createMWChatSearchTypeaheadDataEntry",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{key:a.id,label:a.displayName,rawData:{canViewerMessage:a.canViewerMessage,communityId:a.communityId,defaultE2eeThreadOneToOne:a.defaultE2eeThreadOneToOne,defaultE2eeThreads:a.defaultE2eeThreads,displayName:a.displayName,hasCutoverThread:a.hasCutoverThread,id:a.id,igid:a.resultIgid,imageUrl:a.imageUrl,isAiBot:a.isAiBot,isContact:a.isContact,isDisappearingModeSettingOn:a.isDisappearingModeSettingOn,isE2EE:a.isE2EE,isEPD:a.isEPD,isGroupsXacEligible:Boolean(a.isGroupsXacEligible),isInstagramAccount:Boolean(a.isInstagramAccount),isInstamadilloCutover:a.isInstamadilloCutover,isInteropEligible:a.isInteropEligible!==!1,isTTLCClipEnabled:Boolean(a.isTTLCClipEnabled),isTTLCGenericXMAShareEnabled:Boolean(a.isTTLCGenericXMAShareEnabled),isTTLCMediaShareEnabled:Boolean(a.isTTLCMediaShareEnabled),isTTLCStoryShareEnabled:Boolean(a.isTTLCStoryShareEnabled),isViewerUnconnected:a.isViewerUnconnected,isWAEligible:a.isWAEligible,otherUserId:a.otherUserId,rankingScore:a.rankingScore,renderIndex:b,resultType:a.resultType,searchResultType:a.searchResultType,searchSource:a.searchSource,secondaryImageUrl:(b=a.secondaryImageUrl)!=null?b:"",section:a.section,serverSearchResult:a.serverSearchResult,subtext:a.subtext,subtextAdditional:a.subtextAdditional,supportsE2eeSpamdStorage:a.supportsE2eeSpamdStorage,threadType:a.threadType,verificationStatus:a.isVerified?"BLUE_VERIFIED":"NOT_VERIFIED",waAddressable:a.waAddressable,waEligibility:a.waEligibility},type:"entry"}}f["default"]=a}),66);
__d("filterInstagramContactsMWChatSearchLocalEntries",["MWChatSearchSurfaces"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return b===c("MWChatSearchSurfaces").instagramAll?a:a.filter(function(a){return!a.isInstagramAccount})}g["default"]=a}),98);
__d("isTlcSearchEnabled",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("607")===!0}g["default"]=a}),98);
__d("mwChatSearchPayloadDecoratorRemoveExcluded",[],(function(a,b,c,d,e,f){"use strict";function a(a){return function(b){var c=b.entries;b=babelHelpers.objectWithoutPropertiesLoose(b,["entries"]);return babelHelpers["extends"]({entries:c.filter(function(b){return!a.includes(b.key)})},b)}}f["default"]=a}),66);
__d("mwChatSearchPayloadEnumerate",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.entries;a=babelHelpers.objectWithoutPropertiesLoose(a,["entries"]);var c=b.reduce(function(a,b,c){b=b.rawData.section;if(b==null)return a;b===""&&a.set(b,0);var d=a.get(b);d=d==null?c:Math.min(d,c);a.set(b,d);return a},new Map());b=b.map(function(a,b){var d=a.key,e=a.label;a=a.rawData;var f=a.section;return{key:d,label:e,rawData:babelHelpers["extends"]({},a,{renderIndex:b,sectionRenderIndex:f==null?-1:c.get(f)}),type:"entry"}});return babelHelpers["extends"]({entries:b},a)}f["default"]=a}),66);
__d("sortMWChatSearchLocalEntries",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h={group:1,message:2,messages:3,page:4,user:0},i=c("gkx")("23913");function a(a,b){var c={};for(var d=0;d<a.length;d++){var e=a[d];c[e.id]=(e=e.rankingScore)==null?void 0:e.score}return a.sort(function(a,d){var e=h[a.resultType],f=h[d.resultType];if(e!==f)return e-f;if(i&&b.length>1){e=(f=(e=a.matchedTerms)==null?void 0:e.length)!=null?f:0;f=(f=(f=d.matchedTerms)==null?void 0:f.length)!=null?f:0;if(f!==e)return f-e}e=(f=c[a.id])!=null?f:0;f=(a=c[d.id])!=null?a:0;return f-e})}g["default"]=a}),98);
__d("MWChatSearchTypeaheadLightspeedSubscriptionDataSource",["FBLogger","LSIntEnum","MNetRankType","MWChatSearchFilteringUtils","MWChatSearchIssueLightspeedQuery","MWChatSearchSurfaces","MWLSSearchIssueSearchQuerySupportedTypes","MWPSearchOfflineOpenConversationsUtils","MWPSearchSystem","MWStaticSearchEntries","Promise","asyncToGeneratorRuntime","cr:3752","createMWChatSearchTypeaheadDataEntry","filterInstagramContactsMWChatSearchLocalEntries","isArmadillo","isTlcSearchEnabled","mwChatSearchPayloadDecoratorRemoveExcluded","mwChatSearchPayloadEnumerate","promiseDone","relay-runtime/network/RelayObservable","sortMWChatSearchLocalEntries"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=10,k=10,l=c("isArmadillo")()&&c("isTlcSearchEnabled")();a=function(){function a(a){var b=a.database,e=a.excludedIDs;e=e===void 0?[]:e;var f=a.lightspeedSupportedTypes;f=f===void 0?d("MWLSSearchIssueSearchQuerySupportedTypes").allSupportedTypes:f;var g=a.source;g=g===void 0?c("MWChatSearchSurfaces").universal:g;var h=a.includeRecommendations;h=h===void 0?!0:h;var j=a.includeGroupSearch;j=j===void 0?!1:j;var k=a.includeMessageSearchEntry;k=k===void 0?!0:k;a=a.nullstateRankType;a=a===void 0?(i||(i=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE):a;this.$1=[];this.$5=function(){};this.$1=e;this.$2=g===c("MWChatSearchSurfaces").omnipickerArmadillo?d("MWLSSearchIssueSearchQuerySupportedTypes").armadilloSupportedTypes:f;this.$3=g;this.$4=b;this.$6=h;this.$7=j;this.$8=k;this.$9=a;d("MWPSearchSystem").makeAll(b)}var e=a.prototype;e.resolveData=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=b.map(c("createMWChatSearchTypeaheadDataEntry"));b=[].concat(this.$8&&a.query.length>1?[d("MWStaticSearchEntries").createMessageSearchHeaderEntry(a.query)]:[],b);b=d("MWChatSearchFilteringUtils").dedupeByThreadKey(b);b=(yield d("MWChatSearchFilteringUtils").filterSearchResults(this.$3,b,this.$4,!1,l));var e=c("mwChatSearchPayloadDecoratorRemoveExcluded")(this.$1);return c("mwChatSearchPayloadEnumerate")(e({entries:b,params:a}))});function e(b,c){return a.apply(this,arguments)}return e}();e.fetchNetwork=function(a){var e=this;this.$5();return c("relay-runtime/network/RelayObservable").create(function(f){if(a.query.length===0&&!e.$6){f.next({entries:[],params:a});f.complete();return}if(a.query.length===0){e.$5=d("MWChatSearchIssueLightspeedQuery").requestRecommendations(e.$4,e.$2,e.$9,e.$3,a,function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=c("filterInstagramContactsMWChatSearchLocalEntries")(b,e.$3);b=(yield e.resolveData(a,b));f.next(b);f.complete()});return function(a){return d.apply(this,arguments)}}());return}var g=[],i=[],l=!1,m=(h||(h=b("Promise"))).allSettled([b("cr:3752")!=null?b("cr:3752").fetchResults(e.$2,e.$3,e.$7,a):(h||(h=b("Promise"))).resolve([]),e.$3!==c("MWChatSearchSurfaces").broadcast?d("MWPSearchOfflineOpenConversationsUtils").search(a.query,e.$7):(h||(h=b("Promise"))).resolve([])]).then(function(){var h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var h=b[0];b=b[1];h=h.status==="fulfilled"?h.value:[];b=b.status==="fulfilled"?b.value:[];b=j<=0?b:b.slice(0,j);h=k<=0?h:h.slice(0,k);g=b.concat(h);g=c("sortMWChatSearchLocalEntries")(g,a.query);g=d("MWChatSearchFilteringUtils").filterLocalSearchResults(g,e.$3);b=(yield e.resolveData(a,g.concat(i)));l||f.next(b)});return function(a){return h.apply(this,arguments)}}())["catch"](function(a){c("FBLogger")("messenger_search").catching(a).mustfix("Error performing MWChatSearchIssueMAWFTSQuery.fetchResults")}),n=d("MWChatSearchIssueLightspeedQuery").requestResults(e.$4,e.$2,e.$3,e.$7,a,function(j){i=j;j=a.query.length>0&&d("MWPSearchSystem").isDone()?m:(h||(h=b("Promise"))).resolve();c("promiseDone")(j["finally"](b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield e.resolveData(a,g.concat(i)));f.next(b);f.complete()})))});e.$5=function(){n(),l=!0}})};e.setExcludedIds=function(a){this.$1=a};return a}();g["default"]=a}),98);
__d("useIGDCandidateSearchDataSource",["LSIntEnum","MNetRankType","MWChatSearchSurfaces","MWChatSearchTypeaheadLightspeedSubscriptionDataSource","MWLSSearchIssueSearchQuerySupportedTypes","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=a.excludedIDs;a=a.includeGroupSearch;var e=(i||(i=c("useReStore")))();return new(c("MWChatSearchTypeaheadLightspeedSubscriptionDataSource"))({database:e,excludedIDs:b,includeGroupSearch:a,includeRecommendations:!0,lightspeedSupportedTypes:d("MWLSSearchIssueSearchQuerySupportedTypes").allSupportedTypes,nullstateRankType:(h||(h=d("LSIntEnum"))).ofNumber(c("MNetRankType").INSTAGRAM_DIRECT_SEARCH_NULLSTATE),source:c("MWChatSearchSurfaces").instagramAll})}g["default"]=a}),98);
__d("useBaseTypeaheadSubscriptionDataSourceFetchResolverNetwork",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useRef,l=b.useState;function a(a){var b=a.dataSource;a=l(!1);var c=a[0],d=a[1],e=k(null);a=i(function(a){var c,f=a.onResolvePayload;a=a.requestParams;(c=e.current)==null?void 0:c.unsubscribe();e.current=b.fetchNetwork(a).subscribe({complete:function(){d(!1)},error:function(a){d(!1)},next:function(a){return f(a)},start:function(a){d(!0)},unsubscribe:function(){d(!1)}})},[b]);j(function(){return function(){var a;(a=e.current)==null?void 0:a.unsubscribe()}},[]);return[{isLoading:c},a]}g["default"]=a}),98);
__d("useIGDCandidateSearchResults",["IGDAWContactSearchConversionUtils","react","useBaseTypeaheadSubscriptionDataSourceFetchResolverNetwork","useDebouncedComet"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useState;function a(a,b){var e=k(function(){return new Map()}),f=e[0],g=e[1];e=c("useBaseTypeaheadSubscriptionDataSourceFetchResolverNetwork")({dataSource:b});b=e[0].isLoading;e=e[1];var h=c("useDebouncedComet")(e),l=i(function(a){g(d("IGDAWContactSearchConversionUtils").covertMWContactSearchResultsToIGDCandidates(a.entries.map(function(a){return babelHelpers["extends"]({},a)})))},[]);j(function(){h({onResolvePayload:l,requestParams:{query:a,requestFlow:"network-upon-approve"}})},[l,a,h]);return[{isLoading:b},f]}g["default"]=a}),98);
__d("IGDChatSearchFetchThreadRecommendations",["DisappearingMessagesMode","I64","LSContactBitOffset","LSContactTypeExact","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWChatSearchResultType","MWInboxSecureContentSearch","MWLSThreadTitle","Promise","ReQL","ReQLSuspense","asyncToGeneratorRuntime","getLSMediaContactProfilePictureUrl","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;e=j||d("react");var m=e.useEffect,n=e.useState;function o(a){return d("ReQL").firstExnAsync(d("ReQL").fromTableAscending(a.table("_user_info")).map(function(a){return a.facebookUserId}))}function p(a,b,c){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(c.table("participants")).getKeyRange(b).filter(function(b){return!(l||(l=d("I64"))).equal(b.contactId,a)}).map(function(a){return a.contactId})));return b==null?null:d("ReQL").firstAsync(d("ReQL").mergeJoin(d("ReQL").fromTableAscending(c.table("contacts")).getKeyRange(b),d("ReQL").fromTableAscending(c.table("ig_contact_info")).getKeyRange(b)))});return q.apply(this,arguments)}function r(a){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(a.table("threads")),d("ReQL").fromTableAscending(a.table("ig_thread_info"))).filter(function(a){a=a[0];return d("LSMessagingThreadTypeUtil").isMessengerOrE2EEInbox(a.folderName)&&a.cannotReplyReason!=="viewer_not_subscribed"&&a.cannotReplyReason!=="read_only"})}function s(a,b,c){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=(yield o(f));f=(yield (i||(i=b("Promise"))).all([d("MWInboxSecureContentSearch").getThreadParticipants(a,f),d("MWInboxSecureContentSearch").getThreadPics(a,g,f)]));var h=f[0];f=f[1];var j=f[0];f=f[1];var m=d("MWLSThreadTitle").getDefaultThreadTitle(a.threadName,g,h,a.threadType);g=d("MWLSThreadTitle").getThreadTitleWithSecondaryNames(a.threadDescription,g,h,a.threadType);h={contactId:(l||(l=d("I64"))).zero,contactType:l.zero,score:l.to_float(a.lastActivityTimestampMs),scoreIndex:l.zero,scoreType:l.zero};return{displayName:m,id:l.to_string(a.threadKey),imageUrl:j,isAiBot:l.equal(a.threadType,(k||(k=d("LSIntEnum"))).ofNumber(201)),isContact:!1,isDisappearingModeSettingOn:l.to_int32((m=e==null?void 0:e.igDmSettingsMode)!=null?m:(l||(l=d("I64"))).zero)===c("DisappearingMessagesMode").ON,isE2EE:d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:d("LSThreadBitOffset").has(214,a),isTTLCClipEnabled:d("LSThreadBitOffset").has(226,a),isTTLCGenericXMAShareEnabled:d("LSThreadBitOffset").has(231,a),isTTLCMediaShareEnabled:d("LSThreadBitOffset").has(228,a),isTTLCStoryShareEnabled:d("LSThreadBitOffset").has(229,a),isVerified:!1,rankingScore:h,resultIgid:(e==null?void 0:e.igThreadId)||"",resultType:c("MWChatSearchResultType").GROUP,searchSource:"offline_nullstate",secondaryImageUrl:f,section:"",subtext:g}});return t.apply(this,arguments)}function u(a,b,c){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=(yield o(e));f=(yield p(f,a.threadKey,e));if(f==null)return null;e=f[0];f=f[1];var g=c("getLSMediaContactProfilePictureUrl")(e),h={contactId:(l||(l=d("I64"))).zero,contactType:l.zero,score:l.to_float(a.lastActivityTimestampMs),scoreIndex:l.zero,scoreType:l.zero};return{displayName:e.name,id:l.to_string(a.threadKey),imageUrl:g,isAiBot:l.equal(e.contactTypeExact,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").GENERATIVE_AI_BOT)),isContact:!0,isDisappearingModeSettingOn:l.to_int32((g=b==null?void 0:b.igDmSettingsMode)!=null?g:(l||(l=d("I64"))).zero)===c("DisappearingMessagesMode").ON,isE2EE:d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),isEPD:!1,isInstagramAccount:!0,isInstamadilloCutover:d("LSThreadBitOffset").has(214,a),isTTLCClipEnabled:d("LSThreadBitOffset").has(226,a),isTTLCGenericXMAShareEnabled:d("LSThreadBitOffset").has(231,a),isTTLCMediaShareEnabled:d("LSThreadBitOffset").has(228,a),isTTLCStoryShareEnabled:d("LSThreadBitOffset").has(229,a),isVerified:d("LSContactBitOffset").has(23,e),rankingScore:h,resultIgid:f.igId,resultType:c("MWChatSearchResultType").USER,searchSource:"offline_nullstate",section:"",subtext:(b=e.secondaryName)!=null?b:"",waEligibility:f==null?void 0:f.e2eeEligibility}});return v.apply(this,arguments)}function w(a,b){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){a=(yield (i||(i=b("Promise"))).all(a.map(function(a){var b=a[0];a=a[1];var e=d("LSMessagingThreadTypeUtil").isOneToOne(b.threadType);if(e)return u(b,a,c);else return s(b,a,c)})));return a.filter(Boolean).filter(function(a){return!a.isAiBot}).sort(function(a,b){if(a.rankingScore==null)return 1;return b.rankingScore==null?-1:b.rankingScore.score-a.rankingScore.score})});return x.apply(this,arguments)}function a(){var a=n([]),e=a[0],g=a[1],i=(h||(h=c("useReStore")))(),j=d("ReQLSuspense").useArray(function(){return r(i)},[i],f.id+":317");m(function(){var a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield w(j,i));g(a)});return function(){return a.apply(this,arguments)}}();c("promiseDone")(a())},[i,j]);return e}g.useChatSearchThreadRecommendations=a}),98);
__d("useIGDSharesheetThreadRecommendations",["IGDAWContactSearchConversionUtils","IGDChatSearchFetchThreadRecommendations","createMWChatSearchTypeaheadDataEntry"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("IGDChatSearchFetchThreadRecommendations").useChatSearchThreadRecommendations().map(h);return d("IGDAWContactSearchConversionUtils").covertMWContactSearchResultsToIGDCandidates(a)}function h(a,b){var d=a.ttlcMessageType;a=babelHelpers.objectWithoutPropertiesLoose(a,["ttlcMessageType"]);a=c("createMWChatSearchTypeaheadDataEntry")(a,b);b=a.rawData;a=babelHelpers.objectWithoutPropertiesLoose(a,["rawData"]);return babelHelpers["extends"]({},a,{rawData:babelHelpers["extends"]({},b,{ttlcMessageType:d})})}g["default"]=a}),98);
__d("useIGDMsysContactSearch",["MWPSearchSystem","isStringNullOrEmpty","react","useIGDCandidateSearchDataSource","useIGDCandidateSearchResults","useIGDSharesheetThreadRecommendations","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useEffect,k=b.useRef;function a(a,b,e){var f=c("useIGDSharesheetThreadRecommendations")();b=c("useIGDCandidateSearchDataSource")({excludedIDs:b,includeGroupSearch:e});b=c("useIGDCandidateSearchResults")(a,b);var g=b[0].isLoading;b=b[1];var i=(h||(h=c("useReStore")))(),l=k(!1);j(function(){l.current===!1&&(l.current=!0,d("MWPSearchSystem").makeAll(i))},[i]);b=b;c("isStringNullOrEmpty")(a)&&e&&(b=f);return{isLoading:g,searchResultItems:b}}g["default"]=a}),98);
__d("IGDMsysContactSearch.react",["react","useIGDMsysContactSearch"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a){var b=a.children,d=a.excludedIDs,e=a.includeGroupSearch;a=a.searchQuery;a=c("useIGDMsysContactSearch")(a,d,e);d=a.isLoading;e=a.searchResultItems;return b(d,e)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("searchBaseTypeaheadTakeNEntriesFromSectionedEntries",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(b===0)return[];b=g(a,b);var c=b.entryIndex;b=b.entryUnionIndex;if(b===void 0)return a;a=a.slice(0,b+1);if(c!==void 0&&b!==void 0){b=a[b];b.type==="section"&&(b.entries=b.entries.slice(0,c+1))}return a}function g(a,b){b=b;for(var c=0;c<a.length;c++){var d=a[c];if(d.type!=="section"){b--;if(b===0)return{entryUnionIndex:c}}else if(b<=d.entries.length)return{entryIndex:b-1,entryUnionIndex:c};else b-=d.entries.length}return{}}f["default"]=a}),66);
__d("BaseTypeaheadPayloadDecoratorAddLimit",["searchBaseTypeaheadTakeNEntriesFromSectionedEntries"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(b){var d=b.entries;return babelHelpers["extends"]({},b,{entries:c("searchBaseTypeaheadTakeNEntriesFromSectionedEntries")(d,a)})}}g["default"]=a}),98);
__d("BaseDataEntryKeyBuilder",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.key;return a.trimLeft().toLowerCase()}f["default"]=a}),66);
__d("BaseCacheEntryKeyBuilder",["BaseDataEntryKeyBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("BaseDataEntryKeyBuilder")(a.entry)}g["default"]=a}),98);
__d("XPlatReactRelayErrorHandling",["CometRelayErrorHandling"],(function(a,b,c,d,e,f){"use strict";a=importNamespace("CometRelayErrorHandling").markErrorAsHandled;f.markErrorAsHandled=a}),66);
__d("BaseTypeaheadDataProvider",["CometRelay","Promise","XPlatReactRelayErrorHandling"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){var b=a.onError,c=a.options,d=a.query,e=a.queryVariablesBuilder;a=a.relayEnvironment;this.$1=b;this.$2=d;this.$3=e;this.$4=a;this.$5=c}var c=a.prototype;c.fetch=function(a){var c=this,e=this.$3.build(),f=e(a);return new(h||(h=b("Promise")))(function(a,b){var e,g=!1;d("CometRelay").fetchQuery(c.$4,c.$2,f,{fetchPolicy:(e=c.$5)==null?void 0:e.fetchPolicy}).subscribe({error:function(a){d("XPlatReactRelayErrorHandling").markErrorAsHandled(a),c.$1!=null&&c.$1(a),b(a)},next:function(b){g||(g=!0,a({requestQueryVariables:f,response:b}))}})})};return a}();g["default"]=a}),98);
__d("BaseTypeaheadDataProviderQueryVariablesBuilder",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=null,this.$2=null,this.$3=a}var b=a.prototype;b.build=function(){return this.$3(this.$1,this.$2)};b.setComputedVariables=function(a){this.$2=a;return this};b.setDefaultVariables=function(a){this.$1=a;return this};return a}();f["default"]=a}),66);
__d("BaseTypeaheadNetworkDataSource",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.fetchNetwork=function(a){var b=this;return this.$1.fetch(a).then(function(c){var d=c.requestQueryVariables;c=c.response;return{entries:b.$2(c,d),params:a}})};return a}();f["default"]=a}),66);
__d("BaseTypeaheadNetworkCacheDataSource",["BaseTypeaheadNetworkDataSource"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d){d=d.normalizeFunc;this.$1=new(c("BaseTypeaheadNetworkDataSource"))(a,d);this.$2=b}var b=a.prototype;b.fetchCache=function(a){var b=a.query;b=this.$2.match(b);return{entries:b,params:a}};b.fetchNetwork=function(a){var b=this,c=a.query;return this.$1.fetchNetwork(a).then(function(d){d=d.entries;d!=null&&b.$2.add(d,c);return{entries:b.$2.match(c),params:a}})};return a}();g["default"]=a}),98);
__d("BaseDataEntryLabelKeyBuilder",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.label.trimLeft().toLowerCase()}f["default"]=a}),66);
__d("BaseCacheEntryLabelKeyBuilder",["BaseDataEntryLabelKeyBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("BaseDataEntryLabelKeyBuilder")(a.entry)}g["default"]=a}),98);
__d("BaseTypeaheadInMemoryMapDataCache",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Map()}var b=a.prototype;b.clear=function(){this.$1.clear()};b.get=function(a){return this.$1.get(a)};b.has=function(a){return this.$1.has(a)};b.remove=function(a){this.$1["delete"](a)};b.set=function(a,b){this.$1.set(a,b)};b.values=function(){return Array.from(this.$1.values())};return a}();f["default"]=a}),66);
__d("baseTypeaheadDedupEntriesBuilder",["baseTypeaheadFlattenEntries"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(b,d){var e=new Set(c("baseTypeaheadFlattenEntries")(b).map(function(b){return a(b)})),f=new Map();for(var g=b,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=g.length)break;j=g[i++]}else{i=g.next();if(i.done)break;j=i.value}j=j;if(j.type!=="section")continue;f.set(j.key,j)}j=d.map(function(b){if(b.type==="section"){var c=b.entries.filter(function(b){return!e.has(a(b))});if(c.length===0)return null;var d=f.get(b.key);if(d!=null){d.entries=[].concat(d.entries,c);return null}else{b.entries=c;return b}}else return e.has(a(b))?null:b}).filter(Boolean);return[].concat(b,j)}}g["default"]=a}),98);
__d("baseTypeaheadLabelSuffixBuilder",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.label.trimLeft().toLowerCase();return b==null||!a.startsWith(b)?"":a.slice(b.length)}f["default"]=a}),66);
__d("BaseTypeaheadQueryDataCacheProvider",["BaseCacheEntryLabelKeyBuilder","BaseTypeaheadInMemoryMapDataCache","baseTypeaheadDedupEntriesBuilder","baseTypeaheadLabelSuffixBuilder","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){a=a===void 0?{}:a;var b=a.dedupe;a=a.suffixBuilder;this.$1=new(c("BaseTypeaheadInMemoryMapDataCache"))();this.$2=(b=b)!=null?b:c("baseTypeaheadDedupEntriesBuilder")(c("BaseCacheEntryLabelKeyBuilder"));this.$3=(b=a)!=null?b:c("baseTypeaheadLabelSuffixBuilder")}var b=a.prototype;b.add=function(a,b){b===void 0&&(b="");b=((b=b)!=null?b:"").trimLeft().toLowerCase();a=this.$4(a,b);this.$1.set(b,a)};b.clear=function(){this.$1.clear()};b.match=function(a){a=a.trimLeft().toLowerCase();if(a===""){var b;return((b=this.$1.get(a))!=null?b:[]).map(function(a){a=a.entry;return a})}b=[];for(var c=1;c<=a.length;c++){var d=a.substring(0,c),e=a.substring(c,a.length);d=this.$5(d,e);b=this.$2(b,d)}return b.map(function(a){a=a.entry;return a})};b.remove=function(a){c("recoverableViolation")("'remove' is not implemented for BaseTypeaheadQueryDataCacheProvider","search")};b.$5=function(a,b){a=(a=this.$1.get(a))!=null?a:[];return a.map(function(a){return!a.suffix.startsWith(b)&&a.suffix!==b.trim()?null:a}).filter(Boolean)};b.$4=function(a,b){var c=this;return a.map(function(a){return{entry:a,suffix:c.$3(a,b)}})};b.values=function(){c("recoverableViolation")("'entries' is not implemented for BaseTypeaheadQueryDataCacheProvider","search");return[]};return a}();g["default"]=a}),98);
__d("CometTypeaheadGraphQLDataSource",["BaseCacheEntryKeyBuilder","BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadNetworkCacheDataSource","BaseTypeaheadQueryDataCacheProvider","baseTypeaheadDedupEntriesBuilder","baseTypeaheadLabelSuffixBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.gqlQuery,d=a.normalize,e=a.options,f=a.queryVariablesBuilderFunction;a=a.relayEnvironment;var g=function(){return f};g=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(g);e=new(c("BaseTypeaheadDataProvider"))({options:e,query:b,queryVariablesBuilder:g,relayEnvironment:a});b=new(c("BaseTypeaheadQueryDataCacheProvider"))({dedupe:c("baseTypeaheadDedupEntriesBuilder")(c("BaseCacheEntryKeyBuilder")),suffixBuilder:c("baseTypeaheadLabelSuffixBuilder")});this.$1=new(c("BaseTypeaheadNetworkCacheDataSource"))(e,b,{normalizeFunc:d})}var b=a.prototype;b.fetchCache=function(a){return this.$1.fetchCache(a)};b.fetchNetwork=function(a){return this.$1.fetchNetwork(a)};return a}();g["default"]=a}),98);
__d("useCustomEqualityMemo",["react","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useEffect;function a(a,b){var d=(h||(h=c("useUnsafeRef_DEPRECATED")))(a),e=b(d.current,a)?d.current:a;j(function(){d.current=e},[e]);return e}g["default"]=a}),98);
__d("useDeepEqualMemo",["areEqual","useCustomEqualityMemo"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return c("useCustomEqualityMemo")(a,h||(h=c("areEqual")))}g["default"]=a}),98);
__d("useCometTypeaheadGraphQLDataSource",["BaseTypeaheadPayloadDecoratorAddLimit","CometRelay","CometTypeaheadGraphQLDataSource","react","useDeepEqualMemo"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a){var b=a.gqlQuery,e=a.limit,f=a.normalize,g=a.options,h=a.queryVariablesBuilderFunction,j=i(function(){return c("BaseTypeaheadPayloadDecoratorAddLimit")(e)},[e]),k=d("CometRelay").useRelayEnvironment();a=c("useDeepEqualMemo")(h({query:""}));var l=i(function(){return new(c("CometTypeaheadGraphQLDataSource"))({gqlQuery:b,normalize:f,options:g,queryVariablesBuilderFunction:h,relayEnvironment:k})},[a,k]);return i(function(){return{fetchCache:function(a){return j(l.fetchCache(a))},fetchNetwork:function(a){return l.fetchNetwork(a).then(function(a){return j(a)})}}},[l,j])}g["default"]=a}),98);
__d("useIGDPartnershipMessagesDataSource",["FBLogger","MWChatSearchResultType","react","relay-runtime/network/RelayObservable","useCometTypeaheadGraphQLDataSource","useIGDPartnershipMessagesDataSourceQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useMemo,k=h!==void 0?h:h=b("useIGDPartnershipMessagesDataSourceQuery.graphql");function a(a){var b=100,d=c("useCometTypeaheadGraphQLDataSource")({gqlQuery:k,limit:b,normalize:l,queryVariablesBuilderFunction:function(a){a=a.query;return{params:{creator_params:{creator_search_text:a,profile_type:"ALL_BC_ELIGIBLE"},is_type_ahead_search:!0,ranking_version:1}}}});return j(function(){return{fetchNetwork:function(){try{var b=d.fetchCache(a);if(b.entries.length>0)return c("relay-runtime/network/RelayObservable").create(function(a){a.next(b),a.complete()})}catch(a){c("FBLogger")("partnership_message_search").catching(a).mustfix("Error performing IGDPartnershipMessagesDataQuery.fetchNetwork while fetching from cache")}var e=d.fetchNetwork(a);return c("relay-runtime/network/RelayObservable").create(function(a){e.then(function(b){a.next(b),a.complete()})["catch"](function(a){c("FBLogger")("partnership_message_search").catching(a).mustfix("Error performing IGDPartnershipMessagesDataQuery.fetchNetwork while fetching from the network")})})},resolveData:function(){},setExcludedIds:function(){}}},[a,d])}function l(a){a=(a=a==null?void 0:(a=a.cam_business_profile)==null?void 0:(a=a.brand_profile)==null?void 0:(a=a.creator_discovery_search)==null?void 0:a.edges)!=null?a:[];return m(a,!0)}function m(a,b){return a.map(function(a){var d;a={id:(d=(d=a.node)==null?void 0:d.creator_igid)!=null?d:"",is_onboarded:b,is_verified:(d=(d=a.node)==null?void 0:(d=d.creator_profile)==null?void 0:d.is_verified)!=null?d:!1,name:(d=(d=a.node)==null?void 0:(d=d.creator_profile)==null?void 0:d.name)!=null?d:"",profile_pic_uri_without_fallback:(d=a.node)==null?void 0:(d=d.creator_profile)==null?void 0:d.profile_pic_uri_without_fallback,username:(d=(d=a.node)==null?void 0:(a=d.creator_profile)==null?void 0:a.user_name)!=null?d:""};return{key:a.id,label:a.id,rawData:{displayName:a.name||a.username,id:a.id,imageUrl:(d=a.profile_pic_uri_without_fallback)!=null?d:"",isContact:!1,isDisappearingModeSettingOn:!1,isE2EE:!1,isEPD:!1,isInstamadilloCutover:!1,isTTLCClipEnabled:!1,isTTLCGenericXMAShareEnabled:!1,isTTLCMediaShareEnabled:!1,isTTLCStoryShareEnabled:!1,resultType:c("MWChatSearchResultType").USER,secondaryImageUrl:"",subtext:a.username,verificationStatus:a.is_verified?"BLUE_VERIFIED":"NOT_VERIFIED"},type:"entry"}})}g["default"]=a}),98);
__d("useIGDPartnershipMessagesContactSearch.react",["useIGDCandidateSearchResults","useIGDPartnershipMessagesDataSource"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useIGDPartnershipMessagesDataSource")({query:a,requestFlow:"network-upon-approve"});a=c("useIGDCandidateSearchResults")(a,b);b=a[0].isLoading;a=a[1];a=a;return{isLoading:b,searchResultItems:a}}g["default"]=a}),98);
__d("IGDPartnershipMessagesContactSearch.react",["useIGDPartnershipMessagesContactSearch.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.children;a=a.searchQuery;a=c("useIGDPartnershipMessagesContactSearch.react")(a);var d=a.isLoading;a=a.searchResultItems;return b(d,a)}g["default"]=a}),98);
__d("IGDContactSearch.react",["IGDMsysContactSearch.react","IGDPartnershipMessagesContactSearch.react","cr:1347","react","usePolarisSelector","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useEffect,k=e.useRef;function a(a){var d=a.excludedIDs,e=a.includeGroupSearch,f=a.isPartnershipSearch,g=a.searchQuery,h=c("usePolarisSelector")(function(a){return a.direct.inboxLoaded}),l=k(h),m=c("usePrevious")(g),n=c("usePrevious")(d),o=c("usePrevious")(e),p=l.current===!0||h&&(g!==m||d!==n||e!==o);j(function(){p&&(l.current=!0)},[p]);if(f===!0)return i.jsx(c("IGDPartnershipMessagesContactSearch.react"),babelHelpers["extends"]({},a));return p&&b("cr:1347")?i.jsx(b("cr:1347"),babelHelpers["extends"]({},a)):i.jsx(c("IGDMsysContactSearch.react"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDContactSearchResultAvatar.react",["FBLogger","IGDFacepile.react","IGDSingleAvatar.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.avatarSize,d=a.candidate,e=a.disabled;e=e===void 0?!1:e;a=a.isSelected;a=a===void 0?!1:a;switch(d.type){case"thread":if(d.candidate.secondaryImageUrl.length>0)return i.jsx(c("IGDFacepile.react"),{firstParticipantURI:d.candidate.imageUrl,isSelected:a,secondParticipantURI:d.candidate.secondaryImageUrl,size:b});else return i.jsx(c("IGDSingleAvatar.react"),{isSelected:a,size:b,src:d.candidate.imageUrl});case"user":return i.jsx(c("IGDSingleAvatar.react"),{alt:d.candidate.threadName,isDisabled:e,isSelected:a,size:b,src:d.candidate.imageUrl});default:throw c("FBLogger")("igd_web_on_msgr").mustfix("Expected recipient of type user or thread",d)}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDContactSearchResultTitleDebugLabel.react",["fbt","IGDSBox.react","IGDSText.react","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i;b=i||d("react");c=h._("__JHASH__fYNX9xcAtis__JHASH__").toString();e=h._("__JHASH__Q2yjxKs0vJu__JHASH__").toString();function a(a){a=a.candidate;var b=a.candidate.isInstamadilloCutover;b=a.candidate.isDisappearingModeSettingOn;return null;var d="";b&&(d+=TLC_LABEL_DEV_ONLY);isDisappearingModeSettingOn&&(d+=DM_LABEL_DEV_ONLY);return c("isStringNullOrEmpty")(d)?null:React.jsx(c("IGDSBox.react"),{marginStart:1,children:React.jsx(c("IGDSText.react").BodyEmphasized,{color:"DEPRECATEDGreen",children:d})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDContactSearchResultTextContent.react",["IGDContactSearchResultTitleDebugLabel.react","IGDSBox.react","IGDSText.react","IGDSVerifiedBadge.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=function(a){switch(a.type){case"user":return a.candidate.isVerified;default:return!1}};function a(a){var b=a.candidate,d=a.inGrid;d=d===void 0?!1:d;a=a.textSize;a=a===void 0?"medium":a;var e=j(b);a=a==="medium"?c("IGDSText.react").Body:c("IGDSText.react").Body2;return i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",width:d?void 0:"100%",children:[i.jsxs(a,{maxLines:d?2:1,textAlign:d?"center":void 0,zeroMargin:!0,children:[i.jsx("span",{children:b.candidate.threadName}),e&&i.jsx("span",babelHelpers["extends"]({className:"x1rg5ohu xsgj6o6 x1n2onr6 xnfr1j"},{children:i.jsx(c("IGDSVerifiedBadge.react"),{size:"small"})}))]}),!1]})}a.displayName=a.name+" [from "+f.id+"]";g.IGDContactSearchResultTitle=a}),98);
__d("LsOmnipickerDataSource",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({LOCAL:0,SERVER:1,SERVER_DSQ1:2,SERVER_DSQ2:3});c=a;f["default"]=c}),66);
__d("LsUniversalSearchDataSource",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({LOCAL_BLENDED:0,SERVER_ENTITIES_NAMED_DSQ1:1,SERVER_ENTITIES_NAMED_DSQ2:2});c=a;f["default"]=c}),66);
__d("LsUniversalSearchThreadType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({ARMADILLO:0,TINCAN:1,OPEN_THREAD:2});c=a;f["default"]=c}),66);
__d("SearchTransportType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({ARMADILLO:1,TINCAN:2,OPEN_THREAD:3,IG_DJANGO:4,IG_ADVANCED_CRYPTO_TRANSPORT:5,IG_MESSENGER_INFRA:6});c=a;f["default"]=c}),66);
__d("UniversalSearchEndFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("844");b=d("FalcoLoggerInternal").create("universal_search_end",a);e=b;g["default"]=e}),98);
__d("UniversalSearchResultSelectedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("846");b=d("FalcoLoggerInternal").create("universal_search_result_selected",a);e=b;g["default"]=e}),98);
__d("UniversalSearchUISectionType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({NULL_STATE_RECENTS:1,NULL_STATE_RECENTS_SEE_ALL:2,NULL_STATE_SUGGESTED:3,NULL_STATE_XAC_FOLLOWING:4,QUERY_SUGGESTED:5,QUERY_NON_FOLLOWING:6,QUERY_XAC_FOLLOWING:7,QUERY_XAC_NON_FOLLOWING:8,QUERY_BUSINESSES:9,QUERY_MESSAGES:10,OTHER:11,QUERY_NON_BUSINESSES:12,COMMUNITY_CHATS:13,MORE_COMMUNITY_CHATS:14,RELEVANT_SHARES:15,LATEST_SHARES:16,RECOMMENDED_COMMUNITIES:17,COMMUNITIES_AND_MORE:18,CHANNELS:19,NULL_STATE_NON_FOLLOWING:20,JOINED_CM_AND_CHANNEL:21,JOINED_CM_AND_CHANNEL_SEE_MORE:22,RECOMMENDED_CM_AND_CHANNEL:23,RECOMMENDED_CM_AND_CHANNEL_SEE_MORE:24,AI:25,AI_SEE_MORE:26,CHANNELS_SEE_MORE:27,UNJOINED_COMMUNITY_CHATS:28,MORE_UNJOINED_COMMUNITY_CHATS:29,NS_SUGGESTED_CHANNELS:30,NS_SUGGESTED_CHANNELS_SEE_MORE:31,NULL_STATE_MESSAGES:32,NULL_STATE_SUGGESTED_PROMPT:33,NULL_STATE_PYMK:34,QUERY_SUGGESTED_PROMPT:35});c=a;f["default"]=c}),66);
__d("MWSearchLogging",["$InternalEnum","I64","LSMessagingThreadTypeUtil","UniversalSearchEndFalcoEvent","UniversalSearchResultSelectedFalcoEvent","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("$InternalEnum")({CM_THREADS:"cm_threads",UNJOINED_GROUPS:"unjoined_groups",NON_CONTACTS:"non_contacts",PAGES:"pages",CONTACTS_GROUPS:"contacts_groups"}),j=function(a){switch(a){case"server":return[1,2];case"offline":case"offline_nullstate":case"secure":return[0];default:return[]}};function k(a){return a===!0?1:3}function a(a){return a===!0?0:2}function l(a,b){var c=b.searchSource,d=b.section;b=b.sectionAnalyticsName;if(a==="")return 3;if(c!=="server"||d==="")return 5;a=i.cast(b);if(a==null)return 11;switch(a){case i.CM_THREADS:return 13;case i.CONTACTS_GROUPS:return 5;case i.NON_CONTACTS:return 6;case i.PAGES:return 9;default:return 11}}function m(a){return((a=a)!=null?a:-1).toString()}function e(a,b,e,f){var g=e.rawData;e=g.id;var i=g.isE2EE,n=g.isEPD,o=g.renderIndex,p=g.searchResultType,q=g.searchSource,r=g.serverSearchResult,s=m(o),t=e,u=k(i);if(r!=null){t=(o=r.resultId)!=null?o:t;u=d("LSMessagingThreadTypeUtil").isArmadilloSecure(r==null?void 0:r.threadType)?1:3;s=(h||(h=d("I64"))).to_string(r.globalIndex)}c("UniversalSearchResultSelectedFalcoEvent").log(function(){var d;return{data_sources:j(q),is_epd:c("gkx")("23390")||n,search_result:{query_string:b,result_fbid:t,result_index:s,result_type:(d=p)!=null?d:7},session_id:a,transport_type:u,ui_section:l(b,g)}});f.current||(c("UniversalSearchEndFalcoEvent").log(function(){return{end_action:7,is_epd:c("gkx")("24110")||n,session_id:a,transport_type:u}}),f.current=!0)}g.SectionAnalyticsNameType=i;g.getLoggingDataSources=j;g.getTransportType=k;g.getLsTransportType=a;g.mapSectionToSearchUISection=l;g.logResultSelected=e}),98);
__d("OmnipickerSearchResultSelectedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("934");b=d("FalcoLoggerInternal").create("omnipicker_search_result_selected",a);e=b;g["default"]=e}),98);
__d("OmnipickerSearchUISectionType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({NULL_STATE_SUGGESTED:1,NULL_STATE_XAC_FOLLOWING:2,QUERY_SUGGESTED:3,QUERY_NON_FOLLOWING:4,QUERY_XAC_FOLLOWING:5,QUERY_XAC_NON_FOLLOWING:6,QUERY_BUSINESSES:7,OTHER:8,GROUP_CHATS:9,NULL_STATE_SUGGESTED_DIRECT_INVITE:10,NULL_STATE_CATEGORIES_DIRECT_INVITE:11,QUERY_SUGGESTED_DIRECT_INVITE:12,COMMUNITY_CHATS:13,COMMUNITY_CHATS_SEE_MORE:14,AI:15,AI_SEE_MORE:16,AI_PICKER:17});c=a;f["default"]=c}),66);
__d("MWOmnipickerLoggingUtils",["I64","MWSearchLogging","OmnipickerSearchResultSelectedFalcoEvent","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var c=b.searchSource,d=b.section;b=b.sectionAnalyticsName;return i(a,d,b,c)}function b(a,b){b=b.candidate.chatSearchTypeaheadDataEntry;if(b==null)return 8;b=b.rawData;var c=b.searchSource,d=b.section;b=b.sectionAnalyticsName;return i(a,d,b,c)}function i(a,b,c,e){if(a==="")return 1;if(e!=="server"||b==="")return 3;a=d("MWSearchLogging").SectionAnalyticsNameType.cast(c);if(a==null)return 8;switch(a){case d("MWSearchLogging").SectionAnalyticsNameType.CM_THREADS:return 13;case d("MWSearchLogging").SectionAnalyticsNameType.CONTACTS_GROUPS:return 3;case d("MWSearchLogging").SectionAnalyticsNameType.NON_CONTACTS:return 4;case d("MWSearchLogging").SectionAnalyticsNameType.PAGES:return 7;default:return 8}}var j=function(a){switch(a){case"server":return[2,3];case"offline":case"offline_nullstate":case"secure":return[0];default:return[]}},k=function(a){var b;if(a==null)return{final_score:0,raw_score:0,raw_score_index:"-1",request_id:""};var c=a.score;a=a.scoreIndex;return{final_score:(b=c)!=null?b:0,raw_score:(b=c)!=null?b:0,raw_score_index:(c=(h||(h=d("I64"))).to_string(a))!=null?c:"-1",request_id:""}};e=function(a,b,d,e,f,g,h,l,m,n,o,p){var q={query_string:a,result_fbid:e,result_index:((e=g)!=null?e:-1).toString(),result_type:(g=h)!=null?g:7};c("OmnipickerSearchResultSelectedFalcoEvent").log(function(){var e;return{data_sources:j(l),is_epd:c("gkx")("23390")||p,is_interop_thread:!1,mnet_request:k(f),recipient_ids:b,search_mode:1,search_result:q,session_id:(e=d)!=null?e:"",thread_id:null,ui_section:i(a,m,n,l),ui_section_index:((e=o)!=null?e:-1).toString()}})};g.mapSectionToOmnipickerSearchUISection=a;g.mapSectionToOmnipickerSearchUISectionForIG=b;g.getLoggingDataSources=j;g.getMnetRankInfo=k;g.logOmnipickerSearchResultSelectedHelper=e}),98);
__d("OmnipickerSearchEndFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("742");b=d("FalcoLoggerInternal").create("omnipicker_search_end",a);e=b;g["default"]=e}),98);
__d("OmnipickerSearchImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("744");b=d("FalcoLoggerInternal").create("omnipicker_search_impression",a);e=b;g["default"]=e}),98);
__d("OmnipickerSearchQueryChangedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("928");b=d("FalcoLoggerInternal").create("omnipicker_search_query_changed",a);e=b;g["default"]=e}),98);
__d("OmnipickerSearchStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("929");b=d("FalcoLoggerInternal").create("omnipicker_search_start",a);e=b;g["default"]=e}),98);
__d("IGDOmnipickerLoggingUtils",["MWOmnipickerLoggingUtils","OmnipickerSearchEndFalcoEvent","OmnipickerSearchImpressionFalcoEvent","OmnipickerSearchQueryChangedFalcoEvent","OmnipickerSearchStartFalcoEvent","gkx","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){if(b==null)return;var e=!0,f=!1;for(var g=a,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=g.length)break;j=g[i++]}else{i=g.next();if(i.done)break;j=i.value}j=j;j[0];j=j[1];j=j.candidate;j=j.chatSearchTypeaheadDataEntry;if(j==null)return;j=j.rawData;j.isE2EE===!1&&(e=!1);j.isEPD===!0&&(f=!0)}var k=Array.from(a.values()).map(function(a){return(a=a.candidate.chatSearchTypeaheadDataEntry)==null?void 0:a.rawData.searchResultType}).filter(function(a){return a!=null});c("OmnipickerSearchEndFalcoEvent").log(function(){var g;return{end_action:d,is_epd:c("gkx")("23390")||f,recipient_ids:Array.from(a.keys()),result_type:k.at(k.length-1),search_mode:1,session_id:(g=b)!=null?g:"",transport_type:e?1:3}})}function b(){var a=c("uuidv4")();c("OmnipickerSearchStartFalcoEvent").log(function(){return{entry_surface:1,is_epd:c("gkx")("23390"),omnipicker_type:1,search_mode:1,session_id:a}});return a}function e(a,b){if(b==null)return;c("OmnipickerSearchQueryChangedFalcoEvent").log(function(){return{query_length:a.length.toString(),query_string:a,search_mode:1,session_id:b}})}f=function(a,b,c,e){if(e==null)return;b=b.candidate.chatSearchTypeaheadDataEntry;if(b==null)return;b=b.rawData;if(b==null)return;d("MWOmnipickerLoggingUtils").logOmnipickerSearchResultSelectedHelper(a,c,e,b.id,b.rankingScore,b.renderIndex,b.searchResultType,b.searchSource,b.section,b.sectionAnalyticsName,b.sectionRenderIndex,b.isEPD)};var h=function(a,b,e,f){if(f==null)return;var g=a.candidate.chatSearchTypeaheadDataEntry;if(g==null)return;g=g.rawData;if(g==null)return;var h=g.id,i=g.isE2EE,j=g.isEPD,k=g.renderIndex,l=g.searchResultType,m=g.searchSource,n=g.sectionRenderIndex,o={query_string:e,result_fbid:h,result_index:(g=k==null?void 0:k.toString())!=null?g:"-1",result_type:(k=l)!=null?k:7};c("OmnipickerSearchImpressionFalcoEvent").log(function(){var c;return{data_sources:d("MWOmnipickerLoggingUtils").getLoggingDataSources(m),impression_selected:b,is_epd:j,recipient_ids:[h.toString()],search_mode:1,search_result:o,session_id:f,thread_id:h,transport_type:i?1:3,ui_section:d("MWOmnipickerLoggingUtils").mapSectionToOmnipickerSearchUISectionForIG(e,a),ui_section_index:(c=n==null?void 0:n.toString())!=null?c:"-1"}})};g.logOmnipickerSearchEndFalcoEvent=a;g.logOmnipickerSearchStart=b;g.logOmnipickerSearchQueryChanged=e;g.logIGDOmnipickerSearchResultSelected=f;g.logIGDOmnipickerSearchImpression=h}),98);
__d("IGDOmnipickerSearchLoggingContextProvider.react",["$InternalEnum","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;d=e.createContext;var j=e.useContext,k=e.useRef;e=b("$InternalEnum")({SHARE_SHEET:1,UNIVERSAL_SEARCH:2,OMNIPICKER:3});var l=d({query:"",searchSessionAbandoned:!1,searchSessionClosed:!1,searchSessionId:null});function a(a){a=a.children;var b=k({query:"",searchSessionAbandoned:!1,searchSessionClosed:!1,searchSessionId:null});return i.jsx(l.Provider,{value:b.current,children:a})}a.displayName=a.name+" [from "+f.id+"]";function c(){return j(l)}g.IGSearchLoggingSurface=e;g.IGDOmnipickerSearchLoggingContextProvider=a;g.useIGDOmnipickerSearchLoggingContext=c}),98);
__d("IGDContactSearchResult.react",["fbt","IGDContactSearchResultAvatar.react","IGDContactSearchResultTextContent.react","IGDOmnipickerLoggingUtils","IGDOmnipickerSearchLoggingContextProvider.react","IGDSCheckbox.react","IGDSListItem.react","mergeRefs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useEffect,m=b.useRef,n=h._("__JHASH__ZJ0tO-Psfn0__JHASH__").toString();function a(a){var b=a.avatarSize,e=a.candidate,f=a.hideCheckbox;f=f===void 0?!1:f;var g=a.isSelected,h=a.onPress;a=e.candidate.isDisappearingModeSettingOn;var i=k(function(){h(e)},[e,h]),l=d("IGDOmnipickerSearchLoggingContextProvider.react").useIGDOmnipickerSearchLoggingContext(),m=l.query;l=l.searchSessionId;m=c("mergeRefs")(o(e,g,m,l),p());l=f?void 0:j.jsx(c("IGDSCheckbox.react"),{"aria-label":n,checkboxShape:"circle",isChecked:g,isDashed:a,name:"ContactSearchResultCheckbox",onChange:function(){}});return j.jsx(c("IGDSListItem.react"),{addOnEnd:l,addOnStart:j.jsx(c("IGDContactSearchResultAvatar.react"),{avatarSize:b,candidate:e}),onPress:i,overlayDisabled:!1,paddingX:4,paddingY:2,ref:m,subtitle:e.candidate.subtext,testid:void 0,title:j.jsx(d("IGDContactSearchResultTextContent.react").IGDContactSearchResultTitle,{candidate:e})})}a.displayName=a.name+" [from "+f.id+"]";function o(a,b,c,e){return k(function(f){if(!f)return;d("IGDOmnipickerLoggingUtils").logIGDOmnipickerSearchImpression(a,b,c,e)},[a,b,c,e])}function p(){var a=m(null);l(function(){if(a.current){var b=a.current,c=function(a){a.stopImmediatePropagation(),a.preventDefault()};b.addEventListener("mousedown",c);return function(){return b.removeEventListener("mousedown",c)}}},[]);return a}g.IGDContactSearchResult=a}),226);
__d("IGDSupershareContactSearchResult.react",["CometPressable.react","IGDContactSearchResultAvatar.react","IGDContactSearchResultTextContent.react","IGDSBox.react","qex","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useCallback,k={dialog:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},popoverOrBottomSheet:{paddingBottom:"xwib8y2",paddingEnd:"xg83lxy",paddingLeft:null,paddingRight:null,paddingStart:"x1h0ha7o",paddingTop:"x1y1aw1k",$$css:!0},root:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",justifyContent:"xl56j7k",$$css:!0}};function a(a){var b=a.candidate,e=a.isSelected,f=a.onPress;a=j(function(){f(b)},[b,f]);var g=c("qex")._("970")==="dialog";return i.jsx(c("CometPressable.react"),{onPress:a,overlayDisabled:!0,xstyle:[k.root,g&&k.dialog,!g&&k.popoverOrBottomSheet],children:i.jsxs(c("IGDSBox.react"),{alignItems:"center",height:116,width:98,children:[i.jsx(c("IGDContactSearchResultAvatar.react"),{avatarSize:"XL",candidate:b,isSelected:e}),i.jsx(c("IGDSBox.react"),{marginTop:2,children:i.jsx(d("IGDContactSearchResultTextContent.react").IGDContactSearchResultTitle,{candidate:b,inGrid:!0,textSize:"small"})})]})})}a.displayName=a.name+" [from "+f.id+"]";g.IGDSupershareContactSearchResult=a}),98);
__d("IGDAWContactSearchResultList.react",["fbt","FBLogger","IGDAWContactSearchResultListMsysSetup.react","IGDContactSearch.react","IGDContactSearchResult.react","IGDSBox.react","IGDSGlimmer.react","IGDSListItemPlaceholder.react","IGDSText.react","IGDSupershareContactSearchResult.react","PolarisUA","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k="medium",l=h._("__JHASH__owAUcLnQ7mx__JHASH__"),m=h._("__JHASH__ROCbNDNLttP__JHASH__"),n=h._("__JHASH__Kpex6Kd0QJc__JHASH__"),o={avatarPlaceholder:{backgroundColor:"x1hmx34t",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xnnlda6",width:"x15yg21f",$$css:!0},supershareScrollContainer:{overscrollBehavior:"xish69e",$$css:!0},textPlaceholder:{backgroundColor:"x1hmx34t",height:"x1kpxq89",width:"xh8yej3",$$css:!0}};function p(a){var b=a.children,d=a.childrenMarginTop;d=d===void 0?4:d;var e=a.label,f=a.onScroll,g=a.paddingX;a=a.xstyle;return j.jsxs(c("IGDSBox.react"),{flex:"grow",onScroll:f,overflow:"scrollY",paddingX:g,xstyle:a,children:[e!=null?j.jsx(c("IGDSBox.react"),{"data-testid":void 0,margin:4,marginBottom:0,children:j.jsx(c("IGDSText.react").BodyEmphasized,{children:e})}):null,j.jsx(c("IGDSBox.react"),{marginTop:d,children:b})]})}p.displayName=p.name+" [from "+f.id+"]";function q(){return j.jsx(c("IGDSBox.react"),{columnGap:d("PolarisUA").isMobile()?4:2,direction:"row",justifyContent:"center",paddingY:2,rowGap:2,wrap:!0,children:Array(15).fill(0).map(function(a,b){return j.jsxs(c("IGDSBox.react"),{alignItems:"center",height:100,justifyContent:"center",paddingX:3,paddingY:2,width:100,children:[j.jsx(c("IGDSGlimmer.react"),{index:b,xstyle:o.avatarPlaceholder}),j.jsx(c("IGDSBox.react"),{marginTop:2,paddingX:1,width:"100%",children:j.jsx(c("IGDSGlimmer.react"),{index:b,xstyle:o.textPlaceholder})})]},b)})})}q.displayName=q.name+" [from "+f.id+"]";function r(){return j.jsx(j.Fragment,{children:Array(7).fill(0).map(function(a,b){return j.jsx(c("IGDSListItemPlaceholder.react"),{color:"elevatedHighlightBackground",fullWidth:!0,index:b,paddingX:6,paddingY:2,size:k},"igd-aw-contact_search_result_list_placeholder-"+b)})})}r.displayName=r.name+" [from "+f.id+"]";function s(){return j.jsx(p,{children:j.jsx(r,{})})}s.displayName=s.name+" [from "+f.id+"]";function t(){return j.jsx(p,{children:j.jsx(c("IGDSBox.react"),{paddingX:6,paddingY:3,children:j.jsx(c("IGDSText.react").Body,{color:"secondaryText",children:l})})})}t.displayName=t.name+" [from "+f.id+"]";function u(){return j.jsx(p,{children:j.jsx(c("IGDSBox.react"),{paddingX:6,paddingY:3,children:j.jsx(c("IGDSText.react").Body,{color:"secondaryText",children:n})})})}u.displayName=u.name+" [from "+f.id+"]";function v(a){var b=a.hideCheckbox,e=b===void 0?!1:b;b=a.insetPaddingX;var f=a.isLoading,g=a.isPartnershipSearch,h=a.isSupershare,i=a.onScroll,l=a.onSearchResultPress,n=a.removeE2eeResults,s=a.searchQuery,v=a.searchResultItems,w=a.selectedCandidates;if(g===!0&&s.length===0)return j.jsx(u,{});if(v.size===0&&!f)return j.jsx(t,{});a=s?null:m;var x=Array.from(v.entries());n===!0&&(x=x.filter(function(a){a[0];a=a[1];return a.candidate.isE2EE!==!0}));if(h===!0&&!s){g=Array.from(w.entries()).filter(function(a){var b=a[0];a[1];return x.find(function(a){var c=a[0];a[1];return b===c})==null}).toReversed();(v=x).unshift.apply(v,g)}return h===!0?j.jsxs(p,{childrenMarginTop:0,onScroll:i,paddingX:b,xstyle:o.supershareScrollContainer,children:[j.jsx(c("IGDSBox.react"),{columnGap:4,direction:"row",justifyContent:"center",paddingY:2,rowGap:1,wrap:!0,children:x.map(function(a){var b=a[0],e=a[1];a=w.has(e.candidate.id);switch(e.type){case"thread":case"user":return j.jsx(d("IGDSupershareContactSearchResult.react").IGDSupershareContactSearchResult,{candidate:e,isSelected:a,onPress:function(){l(e)}},b);default:throw c("FBLogger")("igd_web_on_msgr").mustfixThrow("Expected recipient of type user or thread",e)}})}),f&&j.jsx(q,{})]}):j.jsxs(p,{label:a,onScroll:i,paddingX:b,children:[x.map(function(a){var b=a[0],f=a[1];a=w.has(f.candidate.id);switch(f.type){case"thread":case"user":return j.jsx(d("IGDContactSearchResult.react").IGDContactSearchResult,{avatarSize:k,candidate:f,hideCheckbox:e,isSelected:a,onPress:function(){l(f)}},b);default:throw c("FBLogger")("igd_web_on_msgr").mustfixThrow("Expected recipient of type user or thread",f)}}),f&&j.jsx(r,{})]})}v.displayName=v.name+" [from "+f.id+"]";function a(a){var b=a.excludedIDs,d=a.includeGroupSearch,e=a.isPartnershipSearch;a.loggingProps;var f=a.removeE2eeResults,g=a.searchQuery,h=babelHelpers.objectWithoutPropertiesLoose(a,["excludedIDs","includeGroupSearch","isPartnershipSearch","loggingProps","removeE2eeResults","searchQuery"]);return j.jsx(c("IGDAWContactSearchResultListMsysSetup.react"),{fallback:j.jsx(s,{}),children:j.jsx(c("IGDContactSearch.react"),{excludedIDs:b,includeGroupSearch:d,isPartnershipSearch:e,searchQuery:g,children:function(a,b){return j.jsx(v,babelHelpers["extends"]({},h,{isLoading:a,isPartnershipSearch:e,removeE2eeResults:f,searchQuery:g,searchResultItems:b}))}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("PolarisDirectSearchUserContainerToken.react",["IGDSBox.react","IGDSButton.react","IGDSXPanoFilledIcon.react","PolarisDirectStrings","PolarisIGCoreSVGIconButton.react","PolarisUA","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(13),e=a.onClick,f=a.onRemoveClick,g=a.selectedToken,h=a.userId;a=a.username;g=g===h;var k=g?"primaryButton":"secondaryAction",l=g?"web-always-white":"ig-primary-button",m=g?"white_link":"primary_link",n;b[0]!==a||b[1]!==e||b[2]!==m?(n=j.jsx(c("IGDSButton.react"),{label:a,onClick:e,variant:m}),b[0]=a,b[1]=e,b[2]=m,b[3]=n):n=b[3];b[4]!==g||b[5]!==f||b[6]!==h||b[7]!==l?(a=(g||d("PolarisUA").isDesktop())&&j.jsx(c("IGDSBox.react"),{justifyContent:"center",marginStart:2,position:"relative",children:j.jsx(c("PolarisIGCoreSVGIconButton.react"),{onClick:function(){return f(h)},padding:0,children:j.jsx(c("IGDSXPanoFilledIcon.react"),{alt:d("PolarisDirectStrings").DELETE_ITEM_TEXT,color:l,size:12})})}),b[4]=g,b[5]=f,b[6]=h,b[7]=l,b[8]=a):a=b[8];b[9]!==k||b[10]!==n||b[11]!==a?(e=j.jsxs(c("IGDSBox.react"),{color:k,direction:"row",height:26,justifyContent:"center",margin:1,paddingX:3,position:"relative",shape:"extraRounded",children:[n,a]}),b[9]=k,b[10]=n,b[11]=a,b[12]=e):e=b[12];return e}g["default"]=a}),98);
__d("IGDirectSearchUserContainerTokenField",["FocusInertRegion.react","IGDSBox.react","IGDSSearchPanoOutlineIcon.react","IGDSText.react","IGDSTextInput.react","IGDThreadListNewMessageLoggingDataContext","Keys","MessengerWebUXLogger","PolarisDOMListener.react","PolarisDirectSearchUserContainerToken.react","PolarisDirectStrings","PolarisUA","focusScopeQueries","nullthrows","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect,l=b.useImperativeHandle,m=b.useRef,n=b.useState,o={root:{paddingTop:"x1pbzxef",paddingEnd:"x1pi30zi",paddingBottom:"x7qg4v",paddingStart:"x1swvt13",maxHeight:"x1mu601j",overflowX:"xw2csxc",overflowY:"x1odjw0f",alignItems:"x1pha0wt",$$css:!0},rootMobile:{paddingTop:"xexx8yu",paddingEnd:"x1pi30zi",paddingBottom:"x18d9i69",paddingStart:"x1swvt13",height:"x5kalc8",overflowX:"x6ikm8r",overflowY:"x10wlt62",alignItems:"x6s0dn4",$$css:!0},rootSupershare:{paddingTop:"x1pbzxef",paddingEnd:"xn6708d",paddingBottom:"x7qg4v",paddingStart:"x1ye3gou",marginTop:"xw7yly9",marginBottom:"x1e56ztr",$$css:!0},recipientsContainerMobile:{overflowX:"xw2csxc",overflowY:"x10wlt62",alignItems:"x6s0dn4",height:"x5yr21d",$$css:!0}};e=i.forwardRef(a);function a(a,b){var e=a.isSupershare,f=a.onRemoveRecipient,g=a.onTextInputChange,h=a.query,q=a.recipients,r=a.autoFocus;a=a.isPartnershipSearch;a=a===void 0?!1:a;var s=d("PolarisUA").isMobile(),t=n(null),u=t[0],v=t[1],w=m(null),x=m(null);k(function(){r&&w.current&&w.current.focus()},[r]);l(b,function(){return{focus:function(){var a;(a=w.current)==null?void 0:a.focus()},blur:function(){var a;(a=w.current)==null?void 0:a.blur()}}});t=j(function(){var a;(a=w.current)==null?void 0:a.blur()},[]);p(t);var y=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),z=c("MessengerWebUXLogger").useInteractionLogger(),A=function(a){z==null?void 0:z({eventName:"unselect_member",flowInstanceId:y}),v(null),f(a)},B=[].concat(Array.from(q.keys()));k(function(){x.current&&(s?x.current.scrollLeft=x.current.scrollWidth:e!=!0&&x.current.scrollIntoView(!1))},[B.length]);b=i.jsx(c("IGDSTextInput.react"),{autoComplete:"off",backgroundColor:e===!0?"secondaryBackground":"transparent",name:"queryBox",onChange:g,onFocus:function(){return v(null)},onKeyDown:function(a){a.keyCode===c("Keys").BACKSPACE&&h.length===0&&v(B[B.length-1])},placeholder:d("PolarisDirectStrings").SEARCH_USER_BOX_PLACEHOLDER,ref:w,spellCheck:!1,startAdornment:e===!0?i.jsx(c("IGDSBox.react"),{marginStart:2,children:i.jsx(c("IGDSSearchPanoOutlineIcon.react"),{size:16,color:"ig-secondary-text",alt:d("PolarisDirectStrings").SEARCH_USER_BOX_PLACEHOLDER})}):null,style:"borderless",value:h});t=e===!0&&d("PolarisUA").isTouchDevice()?i.jsx(c("FocusInertRegion.react"),{focusQuery:d("focusScopeQueries").tabbableScopeQuery,children:b}):b;return i.jsxs(c("IGDSBox.react"),{direction:"row",xstyle:[s?o.rootMobile:o.root,e===!0?o.rootSupershare:null],children:[e!==!0&&i.jsx(c("IGDSBox.react"),{justifyContent:"start",children:i.jsx(c("IGDSText.react").Section,{zeroMargin:!0,children:d("PolarisDirectStrings").TO_LABEL_STRING})}),i.jsxs(c("IGDSBox.react"),{containerRef:x,direction:"row",wrap:!s,flex:"grow",xstyle:s?o.recipientsContainerMobile:void 0,children:[i.jsx(c("PolarisDOMListener.react"),{event:"keydown",handler:function(){u!=null&&A(u)},target:document.body}),e!==!0&&B.map(function(a){return i.jsx(c("PolarisDirectSearchUserContainerToken.react"),{onClick:function(){u===a?A(a):v(a)},onRemoveClick:A,selectedToken:u,userId:a,username:c("nullthrows")(q.get(a)).candidate.threadName},a)}),a&&B.length>0?null:t]})]})}a.displayName=a.name+" [from "+f.id+"]";b=e;function p(a){k(function(){if("visualViewport"in window&&d("PolarisUA").isMobile()){var b=function(){var b=window.innerHeight>window.visualViewport.height;b||a()};window.visualViewport.addEventListener("resize",b);return function(){window.visualViewport.removeEventListener("resize",b)}}},[a])}g["default"]=b}),98);
__d("useShowRecipientLimitReachedDialog",["fbt","IGDContactSearchDialogType.flow","react","requireDeferred","useCometDeferredDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||d("react")).useCallback,k=c("requireDeferred")("IGDAlertDialog.react").__setRef("useShowRecipientLimitReachedDialog"),l=function(a){switch(a){case d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.OMNIPICKER:return h._("__JHASH__qc01BI1fkNA__JHASH__");case d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.FORWARD_MESSAGE:return h._("__JHASH__FyIQNPP3XVc__JHASH__");case d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET:return h._("__JHASH__bb1Qjh03xdr__JHASH__")}},m=function(a,b){switch(a){case d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.OMNIPICKER:return h._("__JHASH__WiVpcEF7dRD__JHASH__",[h._param("group limit",b),h._param("group limit (same)",b)]);case d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.FORWARD_MESSAGE:return h._("__JHASH__veuAHuPILbq__JHASH__",[h._param("forward limit",b)]);case d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET:return h._("__JHASH__C7vcxYE3Us9__JHASH__")}};function a(a,b){var d=c("useCometDeferredDialog")(k);return j(function(){d({body:m(a,b),close:h._("__JHASH__FI1tkByyuGt__JHASH__"),title:l(a)})},[b,a,d])}g["default"]=a}),226);
__d("IGDAWContactSearch.react",["IGDAWContactSearchResultList.react","IGDOmnipickerLoggingUtils","IGDOmnipickerSearchLoggingContextProvider.react","IGDSBox.react","IGDSDivider.react","IGDirectSearchUserContainerTokenField","PolarisUA","react","useShowRecipientLimitReachedDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect,l=b.useRef,m=b.useState;function a(a){var b=a.addonContent,e=a.excludedIDs,f=a.includeGroupSearch,g=a.insetPaddingX,h=a.isPartnershipSearch;h=h===void 0?!1:h;var n=a.isSupershare,o=a.maxRecipients,p=o===void 0?32:o,q=a.onAddRecipient,r=a.onRemoveRecipient,s=a.recipients;o=a.searchType;var t=a.setRecipients,u=d("PolarisUA").isMobile();a=m("");var v=a[0],w=a[1],x=l(null);a=d("IGDOmnipickerSearchLoggingContextProvider.react").useIGDOmnipickerSearchLoggingContext();var y=a.searchSessionAbandoned,z=a.searchSessionClosed,A=!u,B=l(null),C=j(function(){!A&&B.current&&B.current.focus()},[A]);k(function(){x.current=d("IGDOmnipickerLoggingUtils").logOmnipickerSearchStart()},[]);k(function(){x.current!=null&&z===!0&&d("IGDOmnipickerLoggingUtils").logOmnipickerSearchEndFalcoEvent(s,x.current,7)},[s,z]);k(function(){x.current!=null&&y===!0&&d("IGDOmnipickerLoggingUtils").logOmnipickerSearchEndFalcoEvent(s,x.current,8)},[y,s]);a=j(function(a){a=(a=a==null?void 0:a.target.value)!=null?a:"";w(a);d("IGDOmnipickerLoggingUtils").logOmnipickerSearchQueryChanged(a,x.current)},[]);var D=j(function(a){r==null?void 0:r();var b=new Map(s);b["delete"](a);t(b)},[r,s,t]),E=j(function(a){D(a),C()},[C,D]),F=c("useShowRecipientLimitReachedDialog")(o,p),G=j(function(a){var b=new Map(s);if(s.size>=p){F();return}b.set(a.candidate.id,a);t(b);d("IGDOmnipickerLoggingUtils").logIGDOmnipickerSearchResultSelected(v,a,Array.from(s.keys()),x.current)},[s,p,t,v,F]);o=j(function(a){var b=a.candidate.id;s.has(b)?D(b):(G(a),w(""),q==null?void 0:q())},[G,q,s,D]);var H=j(function(){if(u){var a;(a=B.current)==null?void 0:a.blur()}},[u]);return i.jsxs(i.Fragment,{children:[i.jsx(c("IGDSBox.react"),{paddingX:g,children:i.jsx(c("IGDirectSearchUserContainerTokenField"),{autoFocus:A,isPartnershipSearch:h,isSupershare:n,onRemoveRecipient:E,onTextInputChange:a,query:v,recipients:s,ref:B})}),n!==!0&&i.jsx(c("IGDSDivider.react"),{style:"elevated"}),!v&&s.size===0?b:null,i.jsx(d("IGDOmnipickerSearchLoggingContextProvider.react").IGDOmnipickerSearchLoggingContextProvider,{children:i.jsx(c("IGDAWContactSearchResultList.react"),{excludedIDs:e,includeGroupSearch:f,insetPaddingX:g,isPartnershipSearch:h,isSupershare:n,onScroll:H,onSearchResultPress:o,searchQuery:v,selectedCandidates:s})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDSAppXPanoOutline24.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({"data-name":"Icons",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"m21.8 20.4-7.28-9.706 6.323-7.025a1 1 0 0 0-1.487-1.338l-6.058 6.733L8.3 2.4a.999.999 0 0 0-.8-.4H3a1 1 0 0 0-.8 1.6l7.28 9.706-6.323 7.025a1 1 0 0 0 1.487 1.338l6.058-6.733L15.7 21.6c.189.252.486.4.8.4H21a1 1 0 0 0 .8-1.6zM17 20 5 4h2l12 16h-2z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("usePolarisShareSheetPopoverPost",["CometRelay","PolarisMediaConstants","react","usePolarisMediaOverlayInfo","usePolarisShareSheetPopoverPost_media.graphql","usePolarisShareSheetPopoverPost_user.graphql","useShareUrlsDict"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=j||d("react");e.useMemo;var k=e.unstable_useMemoCache;function a(a){var e,f,g,j,l,m,n=k(19);a=d("CometRelay").useFragment(h!==void 0?h:h=b("usePolarisShareSheetPopoverPost_media.graphql"),a);var o=d("CometRelay").useFragment(i!==void 0?i:i=b("usePolarisShareSheetPopoverPost_user.graphql"),a.user),p=c("usePolarisMediaOverlayInfo")(a),q=c("useShareUrlsDict")(a),r=a.client__srcSet;e=(e=a.code)!=null?e:void 0;f=(f=a.ig_media_sharing_disabled)!=null?f:!1;g=(g=a.inventory_source)!=null?g:"";var s=a.media_type===d("PolarisMediaConstants").MediaTypes.VIDEO;j=(j=o.is_private)!=null?j:void 0;l=(l=o.profile_pic_url)!=null?l:void 0;m=(m=o.username)!=null?m:void 0;var t;n[0]!==o.pk||n[1]!==j||n[2]!==l||n[3]!==m?(t={id:o.pk,isPrivate:j,profilePictureUrl:l,username:m},n[0]=o.pk,n[1]=j,n[2]=l,n[3]=m,n[4]=t):t=n[4];j=(o=q)!=null?o:void 0;l=r!=null&&r.length>0?r[0].src:void 0;q=(m=a.can_viewer_reshare)!=null?m:void 0;n[5]!==a.audience||n[6]!==a.pk||n[7]!==a.logging_info_token||n[8]!==a.product_type||n[9]!==e||n[10]!==f||n[11]!==g||n[12]!==s||n[13]!==p||n[14]!==t||n[15]!==j||n[16]!==l||n[17]!==q?(o={audience:a.audience,code:e,id:a.pk,igMediaSharingDisabled:f,inventorySource:g,isVideo:s,loggingInfoToken:a.logging_info_token,mediaOverlayInfo:p,owner:t,productType:a.product_type,shareUrls:j,src:l,viewerCanReshare:q},n[5]=a.audience,n[6]=a.pk,n[7]=a.logging_info_token,n[8]=a.product_type,n[9]=e,n[10]=f,n[11]=g,n[12]=s,n[13]=p,n[14]=t,n[15]=j,n[16]=l,n[17]=q,n[18]=o):o=n[18];r=o;return r}g["default"]=a}),98);
__d("PolarisShareMenuBottomSheet.react",["CometPlaceholder.react","CometRelay","IGDSBottomSheet.react","IGDSBox.react","IGDSSpinner.react","PolarisShareMenuBottomSheetQuery.graphql","deferredLoadComponent","react","requireDeferredForDisplay","useIGDShareSheetOnSubmitPost","usePolarisShareSheetPopoverPost"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i,l=c("deferredLoadComponent")(c("requireDeferredForDisplay")("IGDSecureShareSheetContainer.react").__setRef("PolarisShareMenuBottomSheet.react")),m=h!==void 0?h:h=b("PolarisShareMenuBottomSheetQuery.graphql");function a(a){var b=j(8),d=a.onClose;a=a.queryReference;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(a){return a.stopPropagation()},b[0]=e):e=b[0];var f;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=k.jsx(o,{}),b[1]=f):f=b[1];b[2]!==d||b[3]!==a?(e=k.jsx("div",{onPointerDown:e,children:k.jsx(c("IGDSBox.react"),{height:"80vh",children:k.jsx(c("CometPlaceholder.react"),{fallback:f,children:k.jsx(n,{onClose:d,queryReference:a})})})}),b[2]=d,b[3]=a,b[4]=e):e=b[4];b[5]!==d||b[6]!==e?(f=k.jsx(c("IGDSBottomSheet.react"),{onClose:d,children:e}),b[5]=d,b[6]=e,b[7]=f):f=b[7];return f}function n(a){var b=j(4),e=a.onClose;a=a.queryReference;a=d("CometRelay").usePreloadedQuery(m,a);a=c("usePolarisShareSheetPopoverPost")(a.fetch__XDTMediaDict);var f=c("useIGDShareSheetOnSubmitPost")(a),g;b[0]!==e||b[1]!==f||b[2]!==a?(g=k.jsx(l,{isPopover:!0,isSupershare:!0,onClose:e,onSubmit:f,post:a}),b[0]=e,b[1]=f,b[2]=a,b[3]=g):g=b[3];return g}function o(){var a=j(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx(c("IGDSBox.react"),{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:k.jsx(c("IGDSSpinner.react"),{})}),a[0]=b):b=a[0];return b}g.PolarisShareMenuBottomSheetQuery=m;g.PolarisShareMenuBottomSheet=a}),98);
__d("PolarisShareMenuDialog.entrypoint",["JSResourceForInteraction","PolarisShareMenuDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{queryReference:{parameters:c("PolarisShareMenuDialogQuery$Parameters"),variables:{media_id:a.routeProps.mediaId}}}}},root:c("JSResourceForInteraction")("PolarisShareMenuDialog.react").__setRef("PolarisShareMenuDialog.entrypoint")};g["default"]=a}),98);
__d("PolarisShareMenuFallback.react",["IGDSPopoverLoadingState.react","IGDSSpinner.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h,k={root:{height:"x1gt7b5",width:"x1mu97ne",$$css:!0}};function a(){var a=i(3),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b="x1xmf6yo x1emribx x1e56ztr x1i64zmx",a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx("div",{className:b,children:j.jsx(c("IGDSSpinner.react"),{})}),a[1]=b):b=a[1];a[2]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("IGDSPopoverLoadingState.react"),{popoverContent:b,xstyle:k.root}),a[2]=b):b=a[2];return b}g["default"]=a}),98);
__d("PolarisShareMenuRoot.entrypoint",["JSResourceForInteraction","PolarisShareMenuQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.routeProps.media_id;return{queries:{mediaQuery:{options:{},parameters:c("PolarisShareMenuQuery$Parameters"),variables:{media_id:a}}}}},root:c("JSResourceForInteraction")("PolarisShareMenu.react").__setRef("PolarisShareMenuRoot.entrypoint")};g["default"]=a}),98);
__d("PolarisShareMediaButton.react",["fbt","CometPlaceholder.react","CometPressable.react","CometRelay","IGDContactSearchDialogType.flow","IGDSBox.react","IGDSDialog.react","IGDSDialogBackwardsCompatibilityWrapper.react","IGDSDirectPanoOutlineIcon.react","IGDSEntryPointPopoverTrigger.react","IGDSSpinner.react","PolarisConfig","PolarisLogger","PolarisPostModalContext.react","PolarisShareMediaButton_media.graphql","PolarisShareMenuBottomSheet.react","PolarisShareMenuDialog.entrypoint","PolarisShareMenuFallback.react","PolarisShareMenuRoot.entrypoint","PolarisUA","QPLUserFlow","deferredLoadComponent","getPolarisPostType.next.react","qex","qpl","react","requireDeferredForDisplay","useIGDSEntryPointDialog","useIGDSecureShareSheetInteractionLogger","usePolarisAnalyticsContext","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useCallback,m=e.useMemo,n=e.useState,o=e.unstable_useMemoCache,p=c("deferredLoadComponent")(c("requireDeferredForDisplay")("IGWebBloksApp").__setRef("PolarisShareMediaButton.react")),q={primaryIconButton:{":hover_opacity":"x1mywscw",$$css:!0}};function r(a){var b=o(4);a=a.color;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=h._("__JHASH__dCpyyTpkyrM__JHASH__"),b[0]=d):d=b[0];var e=a==="ig-stroke-on-media";b[1]!==a||b[2]!==e?(d=k.jsx(c("IGDSDirectPanoOutlineIcon.react"),{alt:d,color:a,shadow:e,size:24}),b[1]=a,b[2]=e,b[3]=d):d=b[3];return d}function a(a){var e=a.color,f=e===void 0?"ig-primary-icon":e;e=a.media;var g=a.surface;a=a.xstyle;var h=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisShareMediaButton_media.graphql"),e);e=d("CometRelay").useQueryLoader(d("PolarisShareMenuBottomSheet.react").PolarisShareMenuBottomSheetQuery);var j=e[0],o=e[1],s=c("usePolarisAnalyticsContext")(),t=d("useIGDSecureShareSheetInteractionLogger").useLogShareSheetInteraction(),u=d("PolarisPostModalContext.react").useSetPostModal();e=n(!1);var v=e[0],w=e[1];e=n(!1);var x=e[0],y=e[1];e=h.sharing_friction_info;var z=e==null?void 0:e.bloks_app_url,A=z!=null&&(e==null?void 0:e.should_have_sharing_friction)===!0,B=l(function(a){t("igd_sharesheet_open",{flowInstanceId:a,shareType:d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET,source:s})},[s,t]),C=l(function(a){var b;d("PolarisUA").isDesktop()?c("qex")._("964"):c("qex")._("966");d("PolarisLogger").logAction("shareClick",{source:s,type:d("getPolarisPostType.next.react").getPolarisPostType((b=h.media_type)!=null?b:0)});c("QPLUserFlow").start(c("qpl")._(379205139,"1723"),{annotations:{string:{source:s}}});if(!A)if(!d("PolarisConfig").isLoggedIn())u("share");else{b=c("uuidv4")();B(b);a()}else y(!0)},[s,B,h,u,A]),D=m(function(){return{media_id:h.pk,module:s}},[s,h]);e=c("useIGDSEntryPointDialog")(c("PolarisShareMenuDialog.entrypoint"),{routeParams:{},routeProps:{mediaId:h.pk}},void 0,function(){return k.jsx(c("IGDSDialog.react"),{fixedWidth:!0,size:"large",children:k.jsx(c("IGDSBox.react"),{alignItems:"center",height:545,justifyContent:"center",width:"100%",children:k.jsx(c("IGDSSpinner.react"),{})})})});var E=e[0];e=(h==null?void 0:(e=h.user)==null?void 0:e.is_private)!==!0&&h.can_viewer_reshare===!0;if(e===!1)return null;var F=[f==="ig-primary-icon"&&q.primaryIconButton,a],G=function(a){return!A?null:x&&z!=null&&k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(p,{appId:z,bridgeOverrides_DEPRECATED:{onOpenShareSheetClick:function(){y(!1);var b=c("uuidv4")();B(b);a()},onResumeStoryPlayback:function(){y(!1)}},params:D},h.pk)})},H=function(a,b){return k.jsxs(k.Fragment,{children:[k.jsx(c("CometPressable.react"),{hideFocusOverlay:!0,hideHoverOverlay:!0,onPress:function(){return C(a)},overlayPressedStyle:null,ref:b,xstyle:F,children:k.jsx(r,{color:f})}),G(a)]})};return d("PolarisUA").isDesktop()?c("qex")._("970")==="dialog"?H(function(){return E({})}):k.jsx(c("IGDSEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:{routeParams:{},routeProps:{media_id:h.pk}},fallback:k.jsx(c("PolarisShareMenuFallback.react"),{}),otherProps:{surface:g},popoverEntryPoint:c("PolarisShareMenuRoot.entrypoint"),popoverType:"menu",position:"end",preloadTrigger:"button",children:function(a,b){return H(b,a)}}):k.jsxs(k.Fragment,{children:[H(function(){o({media_id:h.pk}),w(!0)}),v&&j&&k.jsx(c("IGDSDialogBackwardsCompatibilityWrapper.react"),{children:k.jsx(d("PolarisShareMenuBottomSheet.react").PolarisShareMenuBottomSheet,{onClose:function(){return w(!1)},queryReference:j})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("PolarisShareMenuConstants",[],(function(a,b,c,d,e,f){"use strict";a=366;b=593;f.PolarisSharePopoverWidth=a;f.PolarisSharePopoverHeight=b}),66);
__d("IGDExternalShareBarConstants",[],(function(a,b,c,d,e,f){"use strict";a=1;b=68;f.IGDExternalShareBarPaddingX=a;f.IGDExternalShareItemWidthPx=b}),66);
__d("IGDExternalShareItem.react",["invariant","CometPressable.react","IGDExternalShareBarConstants","IGDSBox.react","IGDSText.react","PolarisIGTheme.react","PolarisShareMenuConstants","PolarisUA","emptyFunction","qex","react","requireDeferred","usePolarisAnalyticsContext","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useCallback,l=c("requireDeferred")("ExternalShareOptionImpressionFalcoEvent").__setRef("IGDExternalShareItem.react"),m=c("requireDeferred")("ExternalShareOptionTappedFalcoEvent").__setRef("IGDExternalShareItem.react"),n=c("requireDeferred")("ExternalShareSucceededFalcoEvent").__setRef("IGDExternalShareItem.react"),o={4:{paddingEnd:"x150jy0e",paddingLeft:null,paddingRight:null,paddingStart:"x1e558r4",$$css:!0},5:{paddingEnd:"x1mpkggp",paddingLeft:null,paddingRight:null,paddingStart:"x1t2a60a",$$css:!0},6:{paddingEnd:"xsyo7zv",paddingLeft:null,paddingRight:null,paddingStart:"x16hj40l",$$css:!0},7:{paddingEnd:"x2qib4z",paddingLeft:null,paddingRight:null,paddingStart:"xcu9agk",$$css:!0},8:{paddingEnd:"x1sxyh0",paddingLeft:null,paddingRight:null,paddingStart:"xurb0ha",$$css:!0},9:{paddingEnd:"xpvbz4a",paddingLeft:null,paddingRight:null,paddingStart:"xohu8s8",$$css:!0},10:{paddingEnd:"x1iji9kk",paddingLeft:null,paddingRight:null,paddingStart:"x1sln4lm",$$css:!0},11:{paddingEnd:"x1w2lkzu",paddingLeft:null,paddingRight:null,paddingStart:"xlu9dua",$$css:!0},12:{paddingEnd:"xn6708d",paddingLeft:null,paddingRight:null,paddingStart:"x1ye3gou",$$css:!0}},p=4,q=4;function r(){var a=.33,b=window.innerWidth;if(!d("PolarisUA").isMobile()){var e=c("qex")._("970")==="dialog";if(e)return q;b=d("PolarisShareMenuConstants").PolarisSharePopoverWidth}e=d("IGDExternalShareBarConstants").IGDExternalShareBarPaddingX*p;b=b-e;e=Math.round(b/(d("IGDExternalShareBarConstants").IGDExternalShareItemWidthPx+q*2));b=b/(e-a);e=Math.ceil((b-d("IGDExternalShareBarConstants").IGDExternalShareItemWidthPx)/2);switch(e){case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:return e;default:return q}}function a(a){var b=a.icon,e=a.label,f=a.logData,g=a.onClick,i=g===void 0?c("emptyFunction"):g;g=a.onClose;var p=g===void 0?c("emptyFunction"):g;g=a.url;g===void 0||i===c("emptyFunction")||h(0,51420);var q=c("usePolarisAnalyticsContext")();a=c("useSinglePartialViewImpression")({onImpressionStart:k(function(){f!=null&&l.onReady(function(a){return a.log(function(){return{media_author_id:f.media_author_id,media_id:f.media_id,module:q,share_option:f.share_option}})})},[q,f])});function s(){f!=null&&(m.onReady(function(a){return a.log(function(){return babelHelpers["extends"]({module:q},f)})}),n.onReady(function(a){return a.log(function(){return babelHelpers["extends"]({module:q},f)})}))}return j.jsx(c("IGDSBox.react"),{alignItems:"center",containerRef:a,shape:"rounded",children:j.jsx(c("CometPressable.react"),{linkProps:g!=null?{target:"_blank",url:g}:void 0,onPress:function(){i(),s(),p()},overlayDisabled:!0,children:j.jsxs(c("IGDSBox.react"),{alignItems:"center",height:104,paddingY:2,width:d("IGDExternalShareBarConstants").IGDExternalShareItemWidthPx+r()*2,xstyle:o[r()],children:[j.jsx(c("IGDSBox.react"),{alignItems:"center",color:d("PolarisIGTheme.react").isDarkMode()?"secondaryBackground":"highlightBackground",height:52,justifyContent:"center",shape:"circle",width:52,children:b}),j.jsx(c("IGDSBox.react"),{marginTop:2,children:j.jsx(c("IGDSText.react").Body2,{maxLines:2,textAlign:"center",children:e})})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostShareQRCodeRoot.entrypoint",["JSResourceForInteraction","PolarisPostShareQRCodeRootQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.routeProps;return{queries:{polarisPostShareQRCodeRootQuery:{options:{},parameters:c("PolarisPostShareQRCodeRootQuery$Parameters"),variables:{id:a.media_id}}}}},root:c("JSResourceForInteraction")("PolarisPostShareQRCodeRoot.react").__setRef("PolarisPostShareQRCodeRoot.entrypoint")};g["default"]=a}),98);
__d("IGDExternalShareBar.react",["fbt","IGDExternalShareBarConstants","IGDExternalShareItem.react","IGDSAppImessagePanoOutlineIcon.react","IGDSAppMessengerOutlineIcon.react","IGDSAppXPanoOutline24.svg.react","IGDSBarcelonaLogoIcon.react","IGDSBox.react","IGDSFacebookCircleOutlineIcon.react","IGDSForwardOutlineIcon.react","IGDSLinkOutlineIcon.react","IGDSMailOutlineIcon.react","IGDSScanQrOutlineIcon.react","IGDSSmsPanoOutlineIcon.react","IGDSWhatsappLogoOutlineIcon.react","PolarisConfig","PolarisPostShareQRCodeRoot.entrypoint","PolarisPostShareStrings","PolarisPostShareUtils","PolarisShareHelpers","PolarisThirdPartyPlatformType","PolarisUA","emptyFunction","react","useIGDSEntryPointDialog","usePolarisCopyLinkDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i,l=20;function m(a){var b,e=j(11),f=a.onClose;a=a.post;f=f===void 0?c("emptyFunction"):f;var g=d("usePolarisCopyLinkDialog").usePolarisCopyLinkDialog(null,a),h;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(h=k.jsx(c("IGDSLinkOutlineIcon.react"),{alt:d("PolarisPostShareStrings").COPY_LINK,size:l}),e[0]=h):h=e[0];b=(b=a.owner)==null?void 0:b.id;var i;e[1]!==a?(i=d("PolarisPostShareUtils").getShareURL(a),e[1]=a,e[2]=i):i=e[2];var m;e[3]!==b||e[4]!==a.id||e[5]!==i?(m={media_author_id:b,media_id:a.id,share_option:"copy_link",url:i},e[3]=b,e[4]=a.id,e[5]=i,e[6]=m):m=e[6];e[7]!==m||e[8]!==g||e[9]!==f?(b=k.jsx(c("IGDExternalShareItem.react"),{icon:h,label:d("PolarisPostShareStrings").COPY_LINK,logData:m,onClick:g,onClose:f}),e[7]=m,e[8]=g,e[9]=f,e[10]=b):b=e[10];return b}function n(a){var b,e=j(12),f=a.onClose,g=a.post;a=a.url;f=f===void 0?c("emptyFunction"):f;var i;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._("__JHASH__S8QPYRnhU1P__JHASH__"),e[0]=i):i=e[0];i=i;var m;e[1]===Symbol["for"]("react.memo_cache_sentinel")?(m=k.jsx(c("IGDSFacebookCircleOutlineIcon.react"),{alt:i,size:l}),e[1]=m):m=e[1];b=(b=g.owner)==null?void 0:b.id;var n;e[2]!==b||e[3]!==g.id||e[4]!==a?(n={media_author_id:b,media_id:g.id,share_option:"facebook",url:a},e[2]=b,e[3]=g.id,e[4]=a,e[5]=n):n=e[5];e[6]!==a?(b=d("PolarisShareHelpers").getShareToFBURL(a),e[6]=a,e[7]=b):b=e[7];e[8]!==n||e[9]!==f||e[10]!==b?(g=k.jsx(c("IGDExternalShareItem.react"),{icon:m,label:i,logData:n,onClose:f,url:b}),e[8]=n,e[9]=f,e[10]=b,e[11]=g):g=e[11];return g}function o(a){var b,e=j(12),f=a.onClose,g=a.post;a=a.url;f=f===void 0?c("emptyFunction"):f;var i;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._("__JHASH__D29VCIpVgPW__JHASH__"),e[0]=i):i=e[0];i=i;var m;e[1]===Symbol["for"]("react.memo_cache_sentinel")?(m=k.jsx(c("IGDSAppMessengerOutlineIcon.react"),{alt:i,size:l}),e[1]=m):m=e[1];b=(b=g.owner)==null?void 0:b.id;var n;e[2]!==b||e[3]!==g.id||e[4]!==a?(n={media_author_id:b,media_id:g.id,share_option:"messenger",url:a},e[2]=b,e[3]=g.id,e[4]=a,e[5]=n):n=e[5];e[6]!==a?(b=d("PolarisShareHelpers").getShareToMessengerURL(a),e[6]=a,e[7]=b):b=e[7];e[8]!==n||e[9]!==f||e[10]!==b?(g=k.jsx(c("IGDExternalShareItem.react"),{icon:m,label:i,logData:n,onClose:f,url:b}),e[8]=n,e[9]=f,e[10]=b,e[11]=g):g=e[11];return g}function p(a){var b,e=j(13),f=a.description,g=a.onClose,i=a.post;a=a.url;g=g===void 0?c("emptyFunction"):g;var m;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._("__JHASH__yHJ89Aeqvg5__JHASH__"),e[0]=m):m=e[0];m=m;var n;e[1]===Symbol["for"]("react.memo_cache_sentinel")?(n=k.jsx(c("IGDSBarcelonaLogoIcon.react"),{alt:m,size:l}),e[1]=n):n=e[1];b=(b=i.owner)==null?void 0:b.id;var o;e[2]!==b||e[3]!==i.id||e[4]!==a?(o={media_author_id:b,media_id:i.id,share_option:"barcelona",url:a},e[2]=b,e[3]=i.id,e[4]=a,e[5]=o):o=e[5];e[6]!==a||e[7]!==f?(b=d("PolarisShareHelpers").getShareToThreadsURL(a,f),e[6]=a,e[7]=f,e[8]=b):b=e[8];e[9]!==o||e[10]!==g||e[11]!==b?(i=k.jsx(c("IGDExternalShareItem.react"),{icon:n,label:m,logData:o,onClose:g,url:b}),e[9]=o,e[10]=g,e[11]=b,e[12]=i):i=e[12];return i}function q(a){var b,e=j(13),f=a.description,g=a.onClose,i=a.post;a=a.url;g=g===void 0?c("emptyFunction"):g;var l,m;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(l=k.jsx(c("IGDSAppXPanoOutline24.svg.react"),{className:"x1qx5ct2 xw4jnvo",color:"rgb(var(--ig-primary-text))"}),m=h._("__JHASH__UMRiofrz_rb__JHASH__"),e[0]=l,e[1]=m):(l=e[0],m=e[1]);b=(b=i.owner)==null?void 0:b.id;var n;e[2]!==b||e[3]!==i.id||e[4]!==a?(n={media_author_id:b,media_id:i.id,share_option:"twitter",url:a},e[2]=b,e[3]=i.id,e[4]=a,e[5]=n):n=e[5];e[6]!==a||e[7]!==f?(b=d("PolarisShareHelpers").getShareToTwitterURL(a,f),e[6]=a,e[7]=f,e[8]=b):b=e[8];e[9]!==n||e[10]!==g||e[11]!==b?(i=k.jsx(c("IGDExternalShareItem.react"),{icon:l,label:m,logData:n,onClose:g,url:b}),e[9]=n,e[10]=g,e[11]=b,e[12]=i):i=e[12];return i}function r(a){var b,e=j(13),f=a.description,g=a.onClose,i=a.post;a=a.url;g=g===void 0?c("emptyFunction"):g;var m;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._("__JHASH__KE7LPSmbri5__JHASH__"),e[0]=m):m=e[0];m=m;var n;e[1]===Symbol["for"]("react.memo_cache_sentinel")?(n=k.jsx(c("IGDSWhatsappLogoOutlineIcon.react"),{alt:m,size:l}),e[1]=n):n=e[1];b=(b=i.owner)==null?void 0:b.id;var o;e[2]!==b||e[3]!==i.id||e[4]!==a?(o={media_author_id:b,media_id:i.id,share_option:"whatsapp",url:a},e[2]=b,e[3]=i.id,e[4]=a,e[5]=o):o=e[5];e[6]!==a||e[7]!==f?(b=d("PolarisShareHelpers").getShareToWhatsAppURL(a,f),e[6]=a,e[7]=f,e[8]=b):b=e[8];e[9]!==o||e[10]!==g||e[11]!==b?(i=k.jsx(c("IGDExternalShareItem.react"),{icon:n,label:m,logData:o,onClose:g,url:b}),e[9]=o,e[10]=g,e[11]=b,e[12]=i):i=e[12];return i}function s(a){var b,e=j(12);a=a.post;var f=c("useIGDSEntryPointDialog")(c("PolarisPostShareQRCodeRoot.entrypoint"),{routeParams:{},routeProps:{media_id:a.id}},"button"),g=f[0];e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=k.jsx(c("IGDSScanQrOutlineIcon.react"),{alt:d("PolarisPostShareStrings").SHARE_QR_CODE,size:l}),e[0]=f):f=e[0];b=(b=a.owner)==null?void 0:b.id;var h;e[1]!==a?(h=d("PolarisPostShareUtils").getShareURL(a),e[1]=a,e[2]=h):h=e[2];var i;e[3]!==b||e[4]!==a.id||e[5]!==h?(i={media_author_id:b,media_id:a.id,share_option:"qr_code",url:h},e[3]=b,e[4]=a.id,e[5]=h,e[6]=i):i=e[6];e[7]!==g?(b=function(){return g({source:"SHARE_SHEET"})},e[7]=g,e[8]=b):b=e[8];e[9]!==i||e[10]!==b?(a=k.jsx(c("IGDExternalShareItem.react"),{icon:f,label:d("PolarisPostShareStrings").SHARE_QR_CODE,logData:i,onClick:b}),e[9]=i,e[10]=b,e[11]=a):a=e[11];return a}function t(a){var b=j(16),e=a.onClose,f=a.post;a=a.url;e=e===void 0?c("emptyFunction"):e;var g;b[0]!==a?(g=d("PolarisShareHelpers").getShareToSMSURL(a),b[0]=a,b[1]=g):g=b[1];var i=g;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._("__JHASH__BhjIRV4gVAZ__JHASH__"),b[2]=g):g=b[2];g=g;var m;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._("__JHASH__xNK0nP2yzc3__JHASH__"),b[3]=m):m=b[3];m=m;var n;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(n=d("PolarisConfig").isIOS()?k.jsx(c("IGDSAppImessagePanoOutlineIcon.react"),{alt:g,size:l}):k.jsx(c("IGDSSmsPanoOutlineIcon.react"),{alt:m,size:l}),g=d("PolarisConfig").isIOS()?g:m,b[4]=n,b[5]=g):(n=b[4],g=b[5]);m=(m=f.owner)==null?void 0:m.id;var o;b[6]!==m||b[7]!==f.id||b[8]!==a?(o={media_author_id:m,media_id:f.id,share_option:d("PolarisConfig").isIOS()?"imessage":"SMS",url:a},b[6]=m,b[7]=f.id,b[8]=a,b[9]=o):o=b[9];b[10]!==i?(m=d("PolarisConfig").isAndroid()?{onClick:function(){return window.open(i,"_top")}}:{url:i},b[10]=i,b[11]=m):m=b[11];b[12]!==o||b[13]!==e||b[14]!==m?(f=k.jsx(c("IGDExternalShareItem.react"),babelHelpers["extends"]({icon:n,label:g,logData:o,onClose:e},m)),b[12]=o,b[13]=e,b[14]=m,b[15]=f):f=b[15];return f}function u(a){var b,e=j(13),f=a.description,g=a.onClose,i=a.post;a=a.url;g=g===void 0?c("emptyFunction"):g;var m;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._("__JHASH__BAgXaoYy5-7__JHASH__"),e[0]=m):m=e[0];m=m;var n;e[1]===Symbol["for"]("react.memo_cache_sentinel")?(n=k.jsx(c("IGDSMailOutlineIcon.react"),{alt:m,size:l}),e[1]=n):n=e[1];b=(b=i.owner)==null?void 0:b.id;var o;e[2]!==b||e[3]!==i.id||e[4]!==a?(o={media_author_id:b,media_id:i.id,share_option:"email",url:a},e[2]=b,e[3]=i.id,e[4]=a,e[5]=o):o=e[5];e[6]!==a||e[7]!==f?(b=d("PolarisShareHelpers").getShareToEmailURL(a,f),e[6]=a,e[7]=f,e[8]=b):b=e[8];e[9]!==o||e[10]!==g||e[11]!==b?(i=k.jsx(c("IGDExternalShareItem.react"),{icon:n,label:m,logData:o,onClose:g,url:b}),e[9]=o,e[10]=g,e[11]=b,e[12]=i):i=e[12];return i}function v(a){var b=j(8),e=a.description,f=a.onClose,g=a.url;a=f===void 0?c("emptyFunction"):f;b[0]!==e||b[1]!==g?(f=function(){d("PolarisShareHelpers").shareWithNative(e,g,"ig_web_button_native_share")},b[0]=e,b[1]=g,b[2]=f):f=b[2];f=f;var i;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._("__JHASH__CMSfw8gc0BF__JHASH__"),b[3]=i):i=b[3];i=i;var m;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(m=k.jsx(c("IGDSForwardOutlineIcon.react"),{alt:i,size:l}),b[4]=m):m=b[4];b[5]!==f||b[6]!==a?(m=k.jsx(c("IGDExternalShareItem.react"),{icon:m,label:i,onClick:f,onClose:a}),b[5]=f,b[6]=a,b[7]=m):m=b[7];return m}function a(a){var b=j(66),e=a.onClose,f=a.post;a=a.xstyle;e=e===void 0?c("emptyFunction"):e;var g=f.shareUrls;if(b[0]!==f){var h;h=((h=f.owner)==null?void 0:h.username)!=null?d("PolarisShareHelpers").getShareDescription((h=f.owner)==null?void 0:h.username,(h=f.productType)!=null?h:"photo"):null;b[0]=f;b[1]=h}else h=b[1];h=h;var i;b[2]!==e||b[3]!==f?(i=k.jsx(m,{onClose:e,post:f}),b[2]=e,b[3]=f,b[4]=i):i=b[4];var l;b[5]!==g||b[6]!==h||b[7]!==e||b[8]!==f?(l=g!=null&&h!=null&&d("PolarisUA").isMobile()&&k.jsx(r,{description:h,onClose:e,post:f,url:g[d("PolarisThirdPartyPlatformType").PolarisThirdPartyPlatformType.WHATSAPP]}),b[5]=g,b[6]=h,b[7]=e,b[8]=f,b[9]=l):l=b[9];var w;b[10]!==g||b[11]!==e||b[12]!==f?(w=g!=null&&!d("PolarisUA").isMobile()&&k.jsx(n,{onClose:e,post:f,url:g[d("PolarisThirdPartyPlatformType").PolarisThirdPartyPlatformType.FACEBOOK]}),b[10]=g,b[11]=e,b[12]=f,b[13]=w):w=b[13];var x;b[14]!==g||b[15]!==e||b[16]!==f?(x=g!=null&&k.jsx(o,{onClose:e,post:f,url:g[d("PolarisThirdPartyPlatformType").PolarisThirdPartyPlatformType.MESSENGER]}),b[14]=g,b[15]=e,b[16]=f,b[17]=x):x=b[17];var y;b[18]!==g||b[19]!==e||b[20]!==f?(y=g!=null&&d("PolarisUA").isMobile()&&k.jsx(n,{onClose:e,post:f,url:g[d("PolarisThirdPartyPlatformType").PolarisThirdPartyPlatformType.FACEBOOK]}),b[18]=g,b[19]=e,b[20]=f,b[21]=y):y=b[21];var z;b[22]!==g||b[23]!==e||b[24]!==f?(z=g!=null&&d("PolarisUA").isMobile()&&k.jsx(t,{onClose:e,post:f,url:g[d("PolarisThirdPartyPlatformType").PolarisThirdPartyPlatformType.USER_SMS]}),b[22]=g,b[23]=e,b[24]=f,b[25]=z):z=b[25];var A;b[26]!==g||b[27]!==h||b[28]!==e||b[29]!==f?(A=d("PolarisUA").isMobile()&&g!=null&&h!=null&&k.jsx(p,{description:h,onClose:e,post:f,url:g[d("PolarisThirdPartyPlatformType").PolarisThirdPartyPlatformType.THREADS]}),b[26]=g,b[27]=h,b[28]=e,b[29]=f,b[30]=A):A=b[30];var B;b[31]!==g||b[32]!==h||b[33]!==e||b[34]!==f?(B=g!=null&&h!=null&&k.jsx(u,{description:h,onClose:e,post:f,url:g[d("PolarisThirdPartyPlatformType").PolarisThirdPartyPlatformType.EMAIL]}),b[31]=g,b[32]=h,b[33]=e,b[34]=f,b[35]=B):B=b[35];var C;b[36]!==g||b[37]!==h||b[38]!==e||b[39]!==f?(C=!d("PolarisUA").isMobile()&&g!=null&&h!=null&&k.jsx(p,{description:h,onClose:e,post:f,url:g[d("PolarisThirdPartyPlatformType").PolarisThirdPartyPlatformType.THREADS]}),b[36]=g,b[37]=h,b[38]=e,b[39]=f,b[40]=C):C=b[40];var D;b[41]!==f?(D=k.jsx(s,{post:f}),b[41]=f,b[42]=D):D=b[42];var E;b[43]!==g||b[44]!==h||b[45]!==e||b[46]!==f?(E=g!=null&&h!=null&&k.jsx(q,{description:h,onClose:e,post:f,url:g[d("PolarisThirdPartyPlatformType").PolarisThirdPartyPlatformType.TWITTER]}),b[43]=g,b[44]=h,b[45]=e,b[46]=f,b[47]=E):E=b[47];b[48]!==h||b[49]!==f||b[50]!==e?(g=h!=null&&d("PolarisUA").isMobile()&&k.jsx(v,{description:h,onClose:e,url:d("PolarisPostShareUtils").getShareURL(f)}),b[48]=h,b[49]=f,b[50]=e,b[51]=g):g=b[51];b[52]!==a||b[53]!==i||b[54]!==l||b[55]!==w||b[56]!==x||b[57]!==y||b[58]!==z||b[59]!==A||b[60]!==B||b[61]!==C||b[62]!==D||b[63]!==E||b[64]!==g?(h=k.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",margin:"auto",maxWidth:"100%",overflow:"scrollX",paddingX:d("IGDExternalShareBarConstants").IGDExternalShareBarPaddingX,xstyle:a,children:[i,l,w,x,y,z,A,B,C,D,E,g]}),b[52]=a,b[53]=i,b[54]=l,b[55]=w,b[56]=x,b[57]=y,b[58]=z,b[59]=A,b[60]=B,b[61]=C,b[62]=D,b[63]=E,b[64]=g,b[65]=h):h=b[65];return h}g["default"]=a}),226);
__d("PolarisDirectActionLoadThread",["PolarisDirectAPI","PolarisDirectActionThreadLoaded","PolarisDirectActionsLogger","PolarisDirectStrings","PolarisPerformanceLogger","PolarisToastActions","QuickPerformanceLogger","polarisDirectSelectors","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return function(e,f){var g=d("PolarisPerformanceLogger").getInstanceKeyFromId(a);(h||(h=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(35586051,"152"),g);var i=d("polarisDirectSelectors").getThreadExitCounter(f(),a);return d("PolarisDirectAPI").getThread(a,b).then(function(b){(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(35586051,"152"),2,g),i===d("polarisDirectSelectors").getThreadExitCounter(f(),a)&&e(d("PolarisDirectActionThreadLoaded").threadLoaded(b.thread))},function(a){(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(35586051,"152"),3,g),d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_load_thread_failed",a),e(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))})}}g.loadThread=a}),98);
__d("PolarisDirectActionCreateDirectInboxLoaded",["polarisNormalizeDirectThreads"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=a.inbox;var d=a.has_older,e=a.oldest_cursor;a=a.threads;a=c("polarisNormalizeDirectThreads")(a);return babelHelpers["extends"]({at:Date.now(),inboxPagination:{hasOlder:d,isLoading:!1,oldestCursor:e},messages:a.entities.items,threads:a.entities.threads,type:"DIRECT_INBOX_LOADED",users:a.entities.users},b)}g.createDirectInboxLoaded=a}),98);
__d("PolarisDirectActionCreatePendingThreadsLoaded",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){return{messages:a,pagination:d,threads:b,type:"DIRECT_INBOX_PENDING_THREADS_LOADED",users:c}}f.createPendingThreadsLoaded=a}),66);
__d("PolarisDirectActionRefreshPendingInbox",["PolarisDirectAPI","PolarisDirectActionCreatePendingThreadsLoaded","PolarisDirectActionsLogger","PolarisDirectStrings","PolarisToastActions","polarisDirectSelectors","polarisNormalizeDirectThreads"],(function(a,b,c,d,e,f,g){"use strict";function a(){return function(a,b){a({type:"DIRECT_INBOX_PENDING_THREADS_START_LOAD"});b=d("polarisDirectSelectors").getPendingRequestsPagination(b());return d("PolarisDirectAPI").getPendingInbox({cursor:b==null?void 0:b.oldestCursor}).then(function(b){var e=c("polarisNormalizeDirectThreads")(b.inbox.threads);e=e.entities;var f=e.items,g=e.threads;e=e.users;b=b.inbox;var h=b.has_older;b=b.oldest_cursor;a(d("PolarisDirectActionCreatePendingThreadsLoaded").createPendingThreadsLoaded(f,g,e,{hasOlder:h,oldestCursor:b}))},function(b){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_refresh_pending_inbox_failed",b),a(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE})),a(d("PolarisDirectActionCreatePendingThreadsLoaded").createPendingThreadsLoaded({},{},{},null))})}}g.refreshPendingInbox=a}),98);
__d("PolarisDirectActionLoadInbox",["PolarisConfig","PolarisDirectAPI","PolarisDirectActionConstants","PolarisDirectActionCreateDirectInboxLoaded","PolarisDirectActionRefreshPendingInbox","PolarisDirectActionsLogger","PolarisDirectLogger","PolarisDirectStrings","PolarisGenericStrings","QuickPerformanceLogger","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){a===void 0&&(a=d("PolarisDirectActionConstants").loadInboxDefaults);return function(b,e){(h||(h=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(35586049,"4342"));b({type:"DIRECT_INBOX_LOADING"});return d("PolarisDirectAPI").getInbox("inbox_snapshot",{folder:a.folder,limit:d("PolarisDirectActionConstants").DIRECT_MSYS_INBOX_SNAPSHOT_LIMIT,thread_message_limit:d("PolarisDirectActionConstants").DIRECT_INBOX_THREAD_MESSAGE_LIMIT}).then(function(f){String(f.viewer.pk)!==d("PolarisConfig").getViewerId()&&window.location.reload();(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(35586049,"4342"),2);var g=f.pending_requests_total;g>0&&b(d("PolarisDirectActionRefreshPendingInbox").refreshPendingInbox());var i=e();i=i.direct;i=i==null?void 0:i.seqId;var j=f.seq_id,k=!0;i!=null&&i>j&&(d("PolarisDirectActionsLogger").directActionsLogger.logError("seq_id_decrease_on_inbox_load",{"new":j,old:i}),k=a.forceSeqIdUpdate);k&&d("PolarisDirectLogger").DirectLogger.debugTrace("seq_id_updated",j);b(d("PolarisDirectActionCreateDirectInboxLoaded").createDirectInboxLoaded(f,{pendingRequestsTotal:g,seqId:k?j:void 0}))},function(e){(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(35586049,"4342"),3),d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_inbox_load_failed",e),b({toast:{actionHandler:function(){b(i(a))},actionText:d("PolarisGenericStrings").RETRY_TEXT,text:d("PolarisDirectStrings").INBOX_LOAD_ERROR},type:"DIRECT_INBOX_LOAD_FAILED"})})}}g.loadInbox=i}),98);
__d("PolarisDirectActionReloadInbox",["PolarisConfig","PolarisDirectActionConstants","PolarisDirectActionLoadInbox","asyncToGeneratorRuntime","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a===void 0&&(a=d("PolarisDirectActionConstants").loadInboxDefaults);return function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b({type:"DIRECT_CLEAR",viewerId:c("nullthrows")(d("PolarisConfig").getViewerId())});return yield b(d("PolarisDirectActionLoadInbox").loadInbox(a))});return function(a){return e.apply(this,arguments)}}()}g.reloadInbox=a}),98);
__d("PolarisDirectActionConnectToMqtt",["PolarisConfig","PolarisDirectAPI","PolarisDirectActionLoadThread","PolarisDirectActionReloadInbox","PolarisDirectConstants","PolarisDirectDeltaHandlers","PolarisDirectLogger","PolarisDirectMQTTInstance","PolarisIncomingCallActions","PolarisRoutes","asyncToGeneratorRuntime","browserHistory_DO_NOT_USE","nullthrows","polarisNormalizeDirectItems","polarisNormalizeDirectThreads","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";function h(a,e){e===void 0&&(e=!1);var f=c("uuidv4")();f=f.substring(f.lastIndexOf("-")+1);var g=new(d("PolarisDirectLogger").DirectLogger)("DirectActions",f);g.debugTrace("start",{forceReconnect:e,newSubscriptionType:a});return function(j,k){var l=k();l=l.direct;var m=l.realtimeState,n=m.mqttConnectivity;m=m.subscriptionType;g.debugTrace("internal",{currentSubscriptionType:m,forceReconnect:e,newSubscriptionType:a});if(!e&&n==="Connected"&&m===a){g.debugTrace("noop");return}var o=function(a,b,e,f){var g;f=d("PolarisDirectDeltaHandlers").parseDeltaItem(a);if(f===null)return;a=d("polarisNormalizeDirectItems").normalizeDirectItems([f]);j({message:a.entities.items[f.item_id],mutationToken:b,threadId:e,type:"DIRECT_MESSAGE_UPDATED",users:a.entities.users,viewerId:c("nullthrows")(d("PolarisConfig").getViewerId())});((g=f.replied_to_message)==null?void 0:g.item_id)!=null&&j({message:a.entities.items[f.replied_to_message.item_id],mutationToken:b,threadId:e,type:"DIRECT_MESSAGE_UPDATED",users:a.entities.users,viewerId:c("nullthrows")(d("PolarisConfig").getViewerId())})},p=function(a,b,c,e,f,g,h){var i=k().direct.threads.get(b);i?j({emoji:f,itemId:c,likeAction:a,superReactType:g,timestamp:h,type:"DIRECT_MESSAGE_REACTION_UPDATED",userId:e}):j(d("PolarisDirectActionLoadThread").loadThread(b,{limit:1}))},q=function(a,b,c){j({senderId:c,threadId:b,timestamp:a,type:"DIRECT_TYPING_INDICATOR_STOPPED"})},r=function(a,b,c,e,f,g,h){a===4?j(d("PolarisIncomingCallActions").updateCall(b,c,e,f,g,h)):a===5&&j(d("PolarisIncomingCallActions").ackCall())},s=l.seqId,t=Date.now();a==="message"&&l.snapshotAt!=null&&(t=l.snapshotAt);var u={onHasSeen:function(a,b,c,e){b=d("PolarisDirectDeltaHandlers").parseDeltaItem(a);if(b===null)return;a=b.item_id;b=b.timestamp;j({messageId:a,threadId:c,timestamp:b,type:"DIRECT_SEEN_STATE_UPDATED",userId:e})},onIndicateTypingActivity:function(a,b,e){b=d("PolarisDirectDeltaHandlers").parseDeltaItem(a);if(b===null)return;a=b.activity_status;var f=b.sender_id,h=b.timestamp;b=b.ttl;var i=c("nullthrows")(f);f=c("nullthrows")(a);g.debugTrace("indicate_typing_activity",{senderId:i,typingStatus:f});if(f===d("PolarisDirectConstants").TypingStatus.OFF)q(h,e,i);else{a=window.setTimeout(function(){return q(h,e,i)},c("nullthrows")(b));j({senderId:i,threadId:e,timerId:a,timestamp:h,type:"DIRECT_TYPING_INDICATOR_STARTED"})}},onIrisConnectivityChanged:function(a,b){g.debugTrace("iris_connectivity",{newConnectivity:a,newType:b}),j({irisConnectivity:a,subscriptionType:b,type:"DIRECT_IRIS_CONNECTIVITY_CHANGED"})},onMakeAdmin:function(a,b,c,d){j({adminUserId:d,threadId:c,type:"DIRECT_THREAD_ADMIN_ADDED"})},onMqttConnectivityChanged:function(a){g.debugTrace("mqtt_connectivity",a),j({mqttConnectivity:a,type:"DIRECT_MQTT_CONNECTIVITY_CHANGED"})},onNewMessage:function(a,b,c,e){var f=k().direct.threads.get(c);if(f){o(a,b,c,e);f=d("PolarisDirectDeltaHandlers").parseDeltaItem(a);if(f===null)return;b=d("polarisNormalizeDirectItems").normalizeDirectItems([f]);q(f.timestamp,c,b.entities.items[f.item_id].user_id)}else j(d("PolarisDirectActionLoadThread").loadThread(c,{limit:1}))},onNewThread:function(a,b,e){b=d("PolarisDirectDeltaHandlers").parseDeltaItem(a);if(b===null)return;e=c("polarisNormalizeDirectThreads")([b]);j({messages:e.entities.items,threads:e.entities.threads,type:"DIRECT_THREAD_LOADED",users:e.entities.users})},onRemoveAdmin:function(a,b,c,d){j({adminUserId:d,threadId:c,type:"DIRECT_THREAD_ADMIN_REMOVED"})},onRemoveEmoji:function(a,b,c,e,f){p(d("PolarisDirectConstants").LikeAction.DELETED,c,e,f)},onRemoveMessage:function(a,b,c,d){j({itemId:d,threadId:c,type:"DIRECT_MESSAGE_REMOVED"})},onRemoveThread:function(a,b,c){window.location.href.indexOf("/t/"+c)!==-1&&d("browserHistory_DO_NOT_USE").browserHistory.push(d("PolarisRoutes").DIRECT_INBOX),j({threadId:c,type:"DIRECT_REMOVE_THREAD"})},onResnapshotRequested:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.seq_id,c=a.subscription_type;g.logDirectEvent("resnapshot_requested",{seq_id:b,subscription_type:c});yield j(d("PolarisDirectActionReloadInbox").reloadInbox({forceSeqIdUpdate:!0}));var e=k();e=e.direct.seqId;g.debugTrace("resnapshot_done",{newSeqId:e});e!==b?(g.logDirectEvent("reconnect_after_resnapshot",{newSeqId:e}),j(h(c,!0))):g.logError("seq_id_not_updated_after_resnapshot",babelHelpers["extends"]({"new":e,old:b},a))});function c(b){return a.apply(this,arguments)}return c}(),onSeqIdUpdated:function(a){s!=null&&s>a?g.logError("seq_id_decrease",{"new":a,old:s}):(g.debugTrace("seq_id_updated",a),j({seqId:a,type:"DIRECT_SEQ_ID_UPDATED"}))},onUnseenCountChange:function(a){a=d("PolarisDirectDeltaHandlers").parseDeltaNumber(a);j({count:a,type:"DIRECT_UNSEEN_COUNT_UPDATED"})},onUpdatedMessage:o,onUpdateDMSettings:function(a,b,c){b=d("PolarisDirectDeltaHandlers").parseDMSettings(a);if(b==null)return;j({dm_settings:b,threadId:c,type:"DIRECT_THREAD_DM_SETTINGS_UPDATED"})},onUpdateEmoji:function(a,b,c,e,f){b=a!=null?String(d("PolarisDirectDeltaHandlers").parseDeltaItem(a)):void 0;p(d("PolarisDirectConstants").LikeAction.CREATED,c,e,f,b)}};s==null?(g.logError("seq_id_is_null"),d("PolarisDirectAPI").getBadgeCount().then(function(b){b.seq_id!=null&&i(b.seq_id,t,a,f,u,r)})):i(s,t,a,f,u,r)}}function i(a,b,c,e,f,g){d("PolarisDirectMQTTInstance").createMqttInstance(a,b,c,e).then(function(a){a!=null&&a.connect(f,g)})}g.connectToMqtt=h}),98);
__d("PolarisDirectActionInitInbox",["PolarisDirectAPI","PolarisDirectActionConnectToMqtt","PolarisDirectActionCreatePendingThreadsLoaded","PolarisDirectActionLoadInbox","PolarisDirectActionRefreshPendingInbox","PolarisDirectActionReloadInbox","PolarisDirectActionsLogger","PolarisDirectStrings","PolarisToastActions","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,c){try{c=c();c=c.direct;var e=c.inboxLoaded;c=c.seqId;d("PolarisDirectActionsLogger").directActionsLogger.debugTrace("initial_state",{inboxLoaded:e,seqId:c});!e?yield b(d("PolarisDirectActionLoadInbox").loadInbox(a)):(b({type:"DIRECT_INBOX_READY"}),d("PolarisDirectAPI").getInbox("pending_only",{limit:0}).then(function(a){a.pending_requests_total>0?b(d("PolarisDirectActionRefreshPendingInbox").refreshPendingInbox()):b(d("PolarisDirectActionCreatePendingThreadsLoaded").createPendingThreadsLoaded({},{},{},null))})["catch"](function(a){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_init_inbox_failed",a),b(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))}));b(d("PolarisDirectActionConnectToMqtt").connectToMqtt("message"))}catch(c){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_inbox_cache_failed",c),b(d("PolarisDirectActionReloadInbox").reloadInbox(a))}});return function(a,b){return c.apply(this,arguments)}}()}g.initInbox=a}),98);
__d("IGDSecureShareSheet.react",["FBLogger","IGDAWContactSearch.react","IGDContactSearchDialogType.flow","IGDExternalShareBar.react","IGDSBox.react","IGDSDivider.react","IGDSecureShareSheetMessageBar.react","IGDThreadTTLCUtils","InteractionTracing","PolarisDirectActionInitInbox","PolarisDirectStrings","PolarisLoggerUtils","PolarisReactRedux.react","PolarisToastActions","PolarisTrackingCodeProvider.react","emptyFunction","gkx","isStringNullOrEmpty","polarisAdsSelectors.react","promiseDone","react","usePolarisMQTT","usePolarisSelector"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useEffect,k=b.useRef,l=b.useState,m=b.unstable_useMemoCache,n={bottomBar:{height:"x1wkxgih",$$css:!0}};function a(a){var b=m(39),e=a.adsStoryLoggingData,f=a.isPopover,g=a.isSupershare,h=a.onAddRecipient,o=a.onClose,p=a.onRemoveRecipient,q=a.onSubmitClick,r=a.post;a=o===void 0?c("emptyFunction"):o;var s=c("usePolarisMQTT")();c("InteractionTracing").getPendingInteractions().forEach(function(a){a.addAnnotationBoolean("is_mqtt_available",Boolean(s!=null))});b[0]===Symbol["for"]("react.memo_cache_sentinel")?(o=function(a){return a},b[0]=o):o=b[0];o=d("polarisAdsSelectors.react").useFeedAdInfo(r.id,o);var t=k(null),u=l(!1),v=u[0],w=u[1];b[1]===Symbol["for"]("react.memo_cache_sentinel")?(u=new Map(),b[1]=u):u=b[1];u=l(u);var x=u[0];u=u[1];var y=d("PolarisReactRedux.react").useDispatch(),z;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(z=function(a){return a.direct.inboxLoaded},b[2]=z):z=b[2];var A=c("usePolarisSelector")(z),B;b[3]!==A||b[4]!==y?(z=function(){!A&&!c("gkx")("25296")&&y(d("PolarisDirectActionInitInbox").initInbox())},B=[y,A],b[3]=A,b[4]=y,b[5]=z,b[6]=B):(z=b[5],B=b[6]);j(z,B);b[7]!==x||b[8]!==r.productType||b[9]!==q||b[10]!==y?(z=function(){var a;w(!0);var b=new Map(),e=new Map();x.forEach(function(a){a.candidate.isDisappearingModeSettingOn||a.candidate.isInstamadilloCutover||d("IGDThreadTTLCUtils").isIGDTTLCEnabledForIGDCandidate(a.candidate,r.productType)?e.set(a.candidate.id,a):c("isStringNullOrEmpty")(a.candidate.igid)||b.set(a.candidate.igid,a)});a=(a=t.current)==null?void 0:a.getComment();c("promiseDone")(q({instamadilloRecipients:e,openRecipients:b},a),function(){w(!1)},function(a){w(!1),c("FBLogger")("igd_web_on_msgr").mustfix("Error sharing attachment to users in sharesheet:"+a.message),y(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))})},b[7]=x,b[8]=r.productType,b[9]=q,b[10]=y,b[11]=z):z=b[11];B=z;z=x.size!==0;v=v;var C=s==null||v||!z;f=f===!0?4:void 0;g===!0&&(f=3);var D="",E=!1;if((e==null?void 0:e.tracking_token)!=null){var F;D=(F=e==null?void 0:e.tracking_token)!=null?F:"";E=(e==null?void 0:e.tracking_token)!=null}else(o==null?void 0:o.ad_id)!=null&&(o==null?void 0:o.tracking_token)!=null&&(D=o.tracking_token,E=!0);if(b[12]!==r){o=((F=r.owner)==null?void 0:F.id)?d("PolarisLoggerUtils").getFormattedMediaID(r.id,(e=r.owner)==null?void 0:e.id):"";b[12]=r;b[13]=o}else o=b[13];b[14]!==f||b[15]!==g||b[16]!==h||b[17]!==p||b[18]!==x?(F=i.jsx(c("IGDSBox.react"),{flex:"grow",children:i.jsx(c("IGDAWContactSearch.react"),{includeGroupSearch:!0,insetPaddingX:f,isSupershare:g,maxRecipients:32,onAddRecipient:h,onRemoveRecipient:p,recipients:x,searchType:d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET,setRecipients:u})}),b[14]=f,b[15]=g,b[16]=h,b[17]=p,b[18]=x,b[19]=F):F=b[19];b[20]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("IGDSDivider.react"),{style:"elevated"}),b[20]=e):e=b[20];b[21]!==g||b[22]!==x||b[23]!==E||b[24]!==a||b[25]!==r||b[26]!==t||b[27]!==C||b[28]!==v||b[29]!==B||b[30]!==f||b[31]!==z?(u=g===!0?x.size===0&&!E?i.jsx(c("IGDExternalShareBar.react"),{onClose:a,post:r,xstyle:n.bottomBar}):i.jsx(c("IGDSecureShareSheetMessageBar.react"),{commentTextInputRef:t,isSendButtonDisabled:C,isSendButtonLoading:v,onSendClick:B,paddingX:f,recipients:x,sendButtonLabel:x.size<2?d("PolarisDirectStrings").SEND_BUTTON_STRING:d("PolarisDirectStrings").SEND_SEPARATELY_BUTTON_STRING,xstyle:n.bottomBar}):i.jsx(c("IGDSecureShareSheetMessageBar.react"),{commentTextInputRef:t,isCommentTextInputHidden:!z,isSendButtonDisabled:C,isSendButtonLoading:v,onSendClick:B,paddingX:f,recipients:x,sendButtonLabel:x.size<2?d("PolarisDirectStrings").SEND_BUTTON_STRING:d("PolarisDirectStrings").SEND_SEPARATELY_BUTTON_STRING}),b[21]=g,b[22]=x,b[23]=E,b[24]=a,b[25]=r,b[26]=t,b[27]=C,b[28]=v,b[29]=B,b[30]=f,b[31]=z,b[32]=u):u=b[32];b[33]!==E||b[34]!==o||b[35]!==D||b[36]!==F||b[37]!==u?(h=i.jsx(c("IGDSBox.react"),{"data-testid":void 0,flex:"grow",children:i.jsxs(c("PolarisTrackingCodeProvider.react"),{isSponsored:E,m_pk:o,trackingToken:D,children:[F,e,u]})}),b[33]=E,b[34]=o,b[35]=D,b[36]=F,b[37]=u,b[38]=h):h=b[38];return h}g["default"]=a}),98);
__d("IGDSecureShareSheetS2SInstanceKeyContextProvider.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.useRef,l=e(new Map());function a(a){a=a.children;var b=k(new Map());return i.jsx(l.Provider,{value:b.current,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(l)}g.IGDSecureShareSheetS2SInstanceKeyContextProvider=a;g.useIGDSecureShareSheetS2SInstanceKeyContext=b}),98);
__d("useIGDSecureShareSheetS2SLogger",["IGDSecureShareSheetS2SInstanceKeyContextProvider.react","QPLUserFlow","Random","qpl","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useMemo;var i=b.unstable_useMemoCache;function a(){var a=i(2),b=d("IGDSecureShareSheetS2SInstanceKeyContextProvider.react").useIGDSecureShareSheetS2SInstanceKeyContext(),e;a[0]!==b?(e={markShareFail:function(a,d){var e=b.get(d);e!=null&&c("QPLUserFlow").endFailure(c("qpl")._(832770902,"1857"),a.name,{error:a,instanceKey:e});b["delete"](d)},markShareStart:function(a,e,f){for(var a=a,g=Array.isArray(a),h=0,a=g?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i,j;if(g){if(h>=a.length)break;j=a[h++]}else{h=a.next();if(h.done)break;j=h.value}j=j;i=(i=f(j))!=null?i:{};var k=d("Random").uint32();b.set(j,k);c("QPLUserFlow").start(c("qpl")._(832770902,"1857"),{annotations:babelHelpers["extends"]({},i,{string:{messageLength:(i=e.messageLength)==null?void 0:i.toString(),recipientID:j,shareType:e.shareType,source:e.source}}),instanceKey:k})}},markShareSuccess:function(a){var d=b.get(a);d!=null&&c("QPLUserFlow").endSuccess(c("qpl")._(832770902,"1857"),{instanceKey:d});b["delete"](a)}},a[0]=b,a[1]=e):e=a[1];a=e;return a}g["default"]=a}),98);
__d("IGDSecureShareSheetContainer.react",["IGDContactSearchDialogType.flow","IGDSecureShareSheet.react","IGDSecureShareSheetS2SInstanceKeyContextProvider.react","InstagramAdDirectReshareSendFalcoEvent","InstagramODS","PolarisDirectLogger","QPLUserFlow","asyncToGeneratorRuntime","emptyFunction","qpl","react","useIGDSecureShareSheetInteractionLogger","useIGDSecureShareSheetS2SLogger","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function k(a){var e=i(37),f=a.adsStoryLoggingData,g=a.flowInstanceId,h=a.isPopover,k=a.isSupershare,l=a.onClose,m=a.onSubmit;a=a.post;var n=l===void 0?c("emptyFunction"):l,o=c("usePolarisAnalyticsContext")(),p=c("useIGDSecureShareSheetS2SLogger")(),q=d("useIGDSecureShareSheetInteractionLogger").useLogShareSheetInteraction();if(!a.id)return null;e[0]!==g||e[1]!==o?(l={flowInstanceId:g,shareType:d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET,source:o},e[0]=g,e[1]=o,e[2]=l):l=e[2];var r=l;e[3]!==p||e[4]!==q||e[5]!==r?(g=function(a){p.markShareSuccess(a),c("QPLUserFlow").endSuccess(c("qpl")._(379205139,"1723")),q("igd_sharesheet_share_success",babelHelpers["extends"]({},r,{recipientIDs:[a]}))},e[3]=p,e[4]=q,e[5]=r,e[6]=g):g=e[6];var s=g;e[7]!==p||e[8]!==q||e[9]!==r?(l=function(a,b){p.markShareFail(a,b),c("QPLUserFlow").endFailure(c("qpl")._(379205139,"1723"),a.name),q("igd_sharesheet_share_error",babelHelpers["extends"]({},r,{recipientIDs:[b]}))},e[7]=p,e[8]=q,e[9]=r,e[10]=l):l=e[10];var t=l;e[11]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a){return function(b){var c;c=(c=a.openRecipients)==null?void 0:(c=c.get(b))==null?void 0:c.candidate;if(c!=null)return{bool:{is_dm:c.isDisappearingModeSettingOn,is_instamadillo_tlc:c.isInstamadilloCutover}};b=(c=a.instamadilloRecipients)==null?void 0:(c=c.get(b))==null?void 0:c.candidate;if(b!=null)return{bool:{is_dm:b.isDisappearingModeSettingOn,is_instamadillo_tlc:b.isInstamadilloCutover}}}},e[11]=g):g=e[11];var u=g;e[12]!==r||e[13]!==p||e[14]!==q||e[15]!==f||e[16]!==o||e[17]!==m||e[18]!==s||e[19]!==t||e[20]!==n?(l=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e;e=[].concat(Array.from((e=(e=a.openRecipients)==null?void 0:e.keys())!=null?e:[]),Array.from((e=(e=a.instamadilloRecipients)==null?void 0:e.keys())!=null?e:[]));var g=babelHelpers["extends"]({},r,{messageLength:b==null?void 0:b.length,recipientIDs:e});p.markShareStart(e,g,u(a));q("igd_sharesheet_share_attempt",g);c("QPLUserFlow").addPoint(c("qpl")._(379205139,"1723"),"share_sheet_send_click");(f==null?void 0:f.ad_id)!=null&&(c("InstagramODS").incr("web.ads.story.share"),c("InstagramAdDirectReshareSendFalcoEvent").log(function(){return f}));d("PolarisDirectLogger").DirectLogger.logDirectEvent("DirectShareSheet","share_sheet_send",{referral:o});yield m(a,b,s,t);n()});return function(b,c){return a.apply(this,arguments)}}(),e[12]=r,e[13]=p,e[14]=q,e[15]=f,e[16]=o,e[17]=m,e[18]=s,e[19]=t,e[20]=n,e[21]=l):l=e[21];g=l;e[22]!==q||e[23]!==r?(l=function(){q("igd_contact_search_add_recipient",r)},e[22]=q,e[23]=r,e[24]=l):l=e[24];l=l;var v;e[25]!==q||e[26]!==r?(v=function(){q("igd_contact_search_remove_recipient",r)},e[25]=q,e[26]=r,e[27]=v):v=e[27];v=v;var w;e[28]!==f||e[29]!==h||e[30]!==k||e[31]!==l||e[32]!==n||e[33]!==v||e[34]!==g||e[35]!==a?(w=j.jsx(c("IGDSecureShareSheet.react"),{adsStoryLoggingData:f,isPopover:h,isSupershare:k,onAddRecipient:l,onClose:n,onRemoveRecipient:v,onSubmitClick:g,post:a}),e[28]=f,e[29]=h,e[30]=k,e[31]=l,e[32]=n,e[33]=v,e[34]=g,e[35]=a,e[36]=w):w=e[36];return w}function a(a){var b=i(2),c;b[0]!==a?(c=j.jsx(d("IGDSecureShareSheetS2SInstanceKeyContextProvider.react").IGDSecureShareSheetS2SInstanceKeyContextProvider,{children:j.jsx(k,babelHelpers["extends"]({},a))}),b[0]=a,b[1]=c):c=b[1];return c}g["default"]=a}),98);
__d("PolarisMediaCoauthorReviewOverlayFooterCTA.react",["fbt","CometRelay","IGDSBox.react","IGDSButton.react","IGDSText.react","JSResourceForInteraction","PolarisCoauthorUtils.react","PolarisConfig","PolarisMediaCoauthorReviewOverlayFooterCTA_media.graphql","PolarisMonitorErrors","PolarisUserHoverCard.react","PolarisUserLink.react","err","polarisGetPostFromGraphMediaInterface","react","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;e.useCallback;var l=e.unstable_useMemoCache,m=c("JSResourceForInteraction")("PolarisCoauthorReviewDialog.react").__setRef("PolarisMediaCoauthorReviewOverlayFooterCTA.react");function a(a){var e=l(22);a=a.fragmentKey;a=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisMediaCoauthorReviewOverlayFooterCTA_media.graphql"),a);var f=a.code,g=a.invited_coauthor_producers,j=a.owner,n=a.pk,o=a.product_type,p=j.username,q=n,r=f;a=c("useIGDSLazyDialog")(m);var s=a[0];e[0]!==s||e[1]!==q||e[2]!==r||e[3]!==o||e[4]!==p?(n=function(){s({mediaId:q,mediaShortcode:r,productType:o,username:p})},e[0]=s,e[1]=q,e[2]=r,e[3]=o,e[4]=p,e[5]=n):n=e[5];f=n;var t=d("PolarisConfig").getViewerIdOrZero();a=g!=null&&g.some(function(a){return a.pk===t});if(!a)return null;if(j==null||p==null){n=c("err")("PolarisMediaCoauthorReviewOverlayFooterCTA requires a post owner");d("PolarisMonitorErrors").logError(n);return null}g=!j.is_unpublished;e[6]!==p?(a=k.jsx(c("PolarisUserLink.react"),{username:p}),e[6]=p,e[7]=a):a=e[7];e[8]!==g||e[9]!==j.pk||e[10]!==p||e[11]!==a?(n=k.jsx(c("PolarisUserHoverCard.react"),{display:"inline-block",isUserAvailable:g,userId:j.pk,username:p,children:a}),e[8]=g,e[9]=j.pk,e[10]=p,e[11]=a,e[12]=n):n=e[12];g=n;e[13]!==g?(j=h._("__JHASH__zobFUCqiyEo__JHASH__",[h._param("media_owner_username",g)]),e[13]=g,e[14]=j):j=e[14];a=j;e[15]!==g?(n=h._("__JHASH__8prry3BHUcp__JHASH__",[h._param("media_owner_username",g)]),e[15]=g,e[16]=n):n=e[16];j=n;e[17]!==o||e[18]!==j||e[19]!==a||e[20]!==f?(g=d("PolarisCoauthorUtils.react").isCoauthorAcceptanceEnabled()?k.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"between",paddingX:3,paddingY:2,position:"relative",children:[k.jsx(c("IGDSBox.react"),{flex:"shrink",marginEnd:5,marginStart:1,maxWidth:350,overflow:"auto",wrap:!0,children:k.jsx(c("IGDSText.react").Body,{color:"primaryText",maxLines:3,zeroMargin:!0,children:o===d("polarisGetPostFromGraphMediaInterface").PRODUCT_TYPE_CLIPS?j:a})}),k.jsx(c("IGDSBox.react"),{flex:"shrink",marginEnd:1,children:k.jsx(c("IGDSButton.react"),{display:"inline",label:h._("__JHASH__NhLz7AVpjs2__JHASH__"),onClick:f,variant:"primary_black"})})]}):null,e[17]=o,e[18]=j,e[19]=a,e[20]=f,e[21]=g):g=e[21];return g}g["default"]=a}),226);
__d("PolarisMediaOverlayFooterCTA.react",["CometRelay","PolarisMediaCoauthorReviewOverlayFooterCTA.react","PolarisMediaOverlayFooterCTAFragment_media.graphql","PolarisPostOverlayInfoFooterCTA.react","emptyFunction","react","stylex","usePolarisShowFooterCTA.next.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||(j=d("react"))).unstable_useMemoCache,l=j,m={},n={};function a(a){var e=k(7),f=a.analyticsContext,g=a.currentSidecarIndex,j=a.queryReference;a=a.xstyle;j=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisMediaOverlayFooterCTAFragment_media.graphql"),j);g=c("usePolarisShowFooterCTA.next.react")(j,g,m);var o;e[0]!==j?(o=l.jsx(c("PolarisMediaCoauthorReviewOverlayFooterCTA.react"),{fragmentKey:j}),e[0]=j,e[1]=o):o=e[1];j=o;e[2]!==g||e[3]!==a||e[4]!==f||e[5]!==j?(o=g!=null?l.jsxs("div",{className:(i||(i=c("stylex")))(a),children:[l.jsx(d("PolarisPostOverlayInfoFooterCTA.react").PolarisPostOverlayInfoFooterCTARenderer,babelHelpers["extends"]({analyticsContext:f,idsWithDisabledMediaOverlayInfoImpressionLogging:n,onLogOverlayImpression:c("emptyFunction")},g)),j]}):j,e[2]=g,e[3]=a,e[4]=f,e[5]=j,e[6]=o):o=e[6];return o}g["default"]=a}),98);
__d("usePolarisMediaSaveToCollection",["CometRelay","react","usePolarisMediaSaveToCollectionMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;c=i||d("react");c.useCallback;var j=c.unstable_useMemoCache,k=h!==void 0?h:h=b("usePolarisMediaSaveToCollectionMutation.graphql");function a(a){var b=j(3),c=d("CometRelay").useMutation(k),e=c[0];b[0]!==a||b[1]!==e?(c=function(b,c){var d=function(b){var d;b=b.get("XDTMediaDict:"+a);d=(d=b==null?void 0:b.getValue("saved_collection_ids"))!=null?d:[];b==null?void 0:b.setValue([].concat(d,[c]),"saved_collection_ids")},f=function(b){var d;b=b.get("XDTMediaDict:"+a);d=(d=b==null?void 0:b.getValue("saved_collection_ids"))!=null?d:[];d=d.filter(function(a){return a!==c});b==null?void 0:b.setValue(d,"saved_collection_ids")};b?e({optimisticUpdater:f,updater:f,variables:{collection_id:c,removed_media_ids:JSON.stringify([a])}}):e({optimisticUpdater:d,updater:d,variables:{added_media_ids:JSON.stringify([a]),collection_id:c}})},b[0]=a,b[1]=e,b[2]=c):c=b[2];return c}g["default"]=a}),98);
__d("usePolarisSaveMedia",["CometRelay","PolarisAdsEngagementLogger","PolarisLogger","polarisGetXDTMediaDict","react","usePolarisSaveMediaSaveMutation.graphql","usePolarisSaveMediaUnsaveMutation.graphql","usePolarisSaveMedia_ad.graphql","usePolarisSaveMedia_media.graphql","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;e=l||d("react");e.useCallback;var m=e.unstable_useMemoCache,n=h!==void 0?h:h=b("usePolarisSaveMediaSaveMutation.graphql"),o=i!==void 0?i:i=b("usePolarisSaveMediaUnsaveMutation.graphql");function a(a){var e,f=m(5),g=a.adFragmentKey,h=a.analyticsContext;a=a.mediaFragmentKey;var i=d("CometRelay").useMutation(n),l=i[0];i=d("CometRelay").useMutation(o);var p=i[0];i=d("CometRelay").useFragment(j!==void 0?j:j=b("usePolarisSaveMedia_media.graphql"),a);a=d("CometRelay").useFragment(k!==void 0?k:k=b("usePolarisSaveMedia_ad.graphql"),g);g=c("usePolarisViewer")();e=((e=i.user.friendship_status)==null?void 0:e.following)===!0;var q;q=null;if(a!=null&&(a==null?void 0:a.ad_id)!=null&&(a==null?void 0:a.tracking_token)!=null&&i.id!=null&&(a==null?void 0:a.media_type)!=null&&(g==null?void 0:g.id)!=null){q={adId:a==null?void 0:a.ad_id,adTrackingToken:a==null?void 0:a.tracking_token,analyticsContext:h,followStatus:e?"following":"not_following",mediaPk:i.id,mediaType:a==null?void 0:a.media_type,ownerId:i==null?void 0:(e=i.user)==null?void 0:e.pk,viewerId:g==null?void 0:g.id}}a=q;f[0]!==h||f[1]!==l||f[2]!==a||f[3]!==p?(i=function(a,b,e){var f=function(b){b=c("polarisGetXDTMediaDict")(b,a);b==null?void 0:b.setValue(e,"has_viewer_saved")},g={source:h};f={optimisticUpdater:f,updater:f,variables:{media_id:b}};e?(d("PolarisLogger").logAction("saveAttempt",g),l(babelHelpers["extends"]({},f,{onCompleted:function(){d("PolarisLogger").logAction("saveSuccess",g),q!=null&&d("PolarisAdsEngagementLogger").logAdSave(q)},onError:function(){d("PolarisLogger").logAction("saveFailure",g)}}))):(d("PolarisLogger").logAction("unsaveAttempt",g),p(babelHelpers["extends"]({},f,{onCompleted:function(){d("PolarisLogger").logAction("unsaveSuccess",g),q!=null&&d("PolarisAdsEngagementLogger").logAdUnsave(q)},onError:function(){d("PolarisLogger").logAction("unsaveFailure",g)}})))},f[0]=h,f[1]=l,f[2]=a,f[3]=p,f[4]=i):i=f[4];q;return i}g["default"]=a}),98);
__d("PolarisSaveButton.next.react",["CometRelay","IGDSIconButton.react","IGDSSavePanoFilledIcon.react","IGDSSavePanoOutlineIcon.react","JSResourceForInteraction","PolarisIGCoreAnchoredPopover.react","PolarisIGCorePressable.react","PolarisPostIdContext.react","PolarisPostStrings","PolarisReactRedux.react","PolarisSaveButton_ad.graphql","PolarisSaveButton_media.graphql","PolarisSavedCollectionPicker.react","PolarisSavedPostsActionRequestNextSavedCollections","PolarisUA","polarisSavedPostsSelectors","react","useIGDSLazyDialog","usePolarisAnalyticsContext","usePolarisMediaSaveToCollection","usePolarisSaveMedia","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));e=j;var l=e.useCallback,m=e.useContext,n=e.useState,o=24,p=-16,q=5;function a(a){var e=a.ad$key,f=a["data-testid"];f=a.media$key;var g=a.onShowToast;a=a.padding;a=a===void 0?8:a;var j=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisSaveButton_media.graphql"),f),r=d("PolarisReactRedux.react").useDispatch(),s=j.client__srcSet,t=j.has_viewer_saved,u=j.pk;f=j.saved_collection_ids;e=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisSaveButton_ad.graphql"),e);var v=c("usePolarisViewer")(),w=c("usePolarisAnalyticsContext")(),x=m(d("PolarisPostIdContext.react").PolarisPostIdContext),y=(x=x==null?void 0:x.mediaIdUFI)!=null?x:j.pk,z=c("usePolarisSaveMedia")({adFragmentKey:e,analyticsContext:w,mediaFragmentKey:j}),A=l(function(a){z(j.id,y,a)},[j.id,y,z]);e=c("usePolarisMediaSaveToCollection")((x=y)!=null?x:j.pk);var B=d("PolarisReactRedux.react").useSelector(function(a){return!v?null:d("polarisSavedPostsSelectors").getAllSavedCollectionsForUser(a,v.id)}),C=d("PolarisReactRedux.react").useSelector(function(a){return!v?null:d("polarisSavedPostsSelectors").getSavedCollectionsPaginationForUser(a,v.id)});function D(){if(B==null||C==null)return!1;if(B.length>=q)return!0;var a=1;return!C.moreAvailable&&B.length>a}x=!!v&&d("PolarisUA").isDesktop();var E=D()&&x;function F(a){a.preventDefault(),A(!t),!t===!0&&E&&(g!=null&&g(),J(!0))}function G(){v&&!D()&&(C==null?void 0:C.isFetching)!==!0&&r(d("PolarisSavedPostsActionRequestNextSavedCollections").requestInitialSavedCollections(v.id)),J(!1)}var H=n(!1),I=H[0],J=H[1];H=c("useIGDSLazyDialog")(c("JSResourceForInteraction")("PolarisCreateCollectionWithPostModal.react").__setRef("PolarisSaveButton.next.react"));var K=H[0];return k.jsx(c("PolarisIGCoreAnchoredPopover.react"),{content:E?k.jsx(c("PolarisSavedCollectionPicker.react"),{collectionsPostSavedTo:(H=f)!=null?H:[],hidePopover:I,onSaveMedia:A,onSaveMediaToCollection:e,postId:u,postIsSaved:t===!0,setHidePopover:J,setShowCreateCollectionModal:function(){return K({onSaveChange:A,postId:u,source:w,srcSet:s})}}):null,offsetTop:p,preferredPositionX:"center",preferredPositionY:"top",showOnHover:!0,children:k.jsx(c("PolarisIGCorePressable.react"),{onMouseEnter:G,onPress:function(){},children:k.jsx(c("IGDSIconButton.react"),{"data-testid":void 0,hover:t===!0||!x?null:k.jsx(c("IGDSSavePanoOutlineIcon.react"),{alt:d("PolarisPostStrings").SAVE_TEXT,color:"ig-secondary-text",size:o}),onClick:F,padding:a,children:t===!0?k.jsx(c("IGDSSavePanoFilledIcon.react"),{alt:d("PolarisPostStrings").UNSAVE_TEXT,color:"ig-primary-text",size:o}):k.jsx(c("IGDSSavePanoOutlineIcon.react"),{alt:d("PolarisPostStrings").SAVE_TEXT,color:"ig-primary-text",size:o})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisMediaSaveButton.react",["CometRelay","PolarisMediaSaveButton_ad.graphql","PolarisMediaSaveButton_media.graphql","PolarisSaveButton.next.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||(j=d("react"))).unstable_useMemoCache,l=j;function a(a){var e=k(4),f=a.adFragmentKey,g=a.mediaFragmentKey;a=a.onShowToast;g=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisMediaSaveButton_media.graphql"),g);f=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisMediaSaveButton_ad.graphql"),f);var j;e[0]!==f||e[1]!==g||e[2]!==a?(j=l.jsx(c("PolarisSaveButton.next.react"),{ad$key:f,"data-testid":void 0,media$key:g,onShowToast:a,padding:0}),e[0]=f,e[1]=g,e[2]=a,e[3]=j):j=e[3];return j}g["default"]=a}),98);
__d("PolarisBaseOptionsMenuFallback.react",["IGDSPopoverLoadingState.react","IGDSSpinner.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h,k={popover:{borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",marginBottom:"xyorhqc",marginTop:"x1anpbxc",$$css:!0},root:{maxHeight:"xqrff1o",minHeight:"x19i0xim",width:"x15chvws",$$css:!0}};function a(){var a=i(3),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b="x1xmf6yo x1emribx x1e56ztr x1i64zmx",a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx("div",{className:b,children:j.jsx(c("IGDSSpinner.react"),{})}),a[1]=b):b=a[1];a[2]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("IGDSPopoverLoadingState.react"),{popoverContent:b,popoverXStyle:k.popover,xstyle:k.root}),a[2]=b):b=a[2];return b}g["default"]=a}),98);
__d("usePolarisLikeMedia",["CometRelay","PolarisAdsEngagementLogger","PolarisEngagementLogger","PolarisGenericStrings","PolarisLogger","QPLUserFlow","qpl","react","usePolarisLikeMediaLikeMutation.graphql","usePolarisLikeMediaUnlikeMutation.graphql","usePolarisLikeMedia_ad.graphql","usePolarisLikeMedia_media.graphql","usePolarisShowToast","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=(l||d("react")).useCallback,n=h!==void 0?h:h=b("usePolarisLikeMediaLikeMutation.graphql"),o=i!==void 0?i:i=b("usePolarisLikeMediaUnlikeMutation.graphql");function a(a){var e=a.adFragmentKey,f=a.analyticsContext,g=a.mediaFragmentKey,h=a.sourceOfLike;a=d("CometRelay").useMutation(n);var i=a[0];a=d("CometRelay").useMutation(o);var l=a[0],p=d("CometRelay").useFragment(j!==void 0?j:j=b("usePolarisLikeMedia_media.graphql"),g),q=d("CometRelay").useFragment(k!==void 0?k:k=b("usePolarisLikeMedia_ad.graphql"),e),r=c("usePolarisViewer")(),s=c("usePolarisShowToast")(),t=m(function(a,b){var e,g=p!=null?{mediaAuthorId:(e=p.owner)==null?void 0:e.pk,mediaId:p.pk,source:f,sourceOfLike:h,trackingToken:p.organic_tracking_token}:null,j=q!=null&&(q==null?void 0:q.ad_id)!=null&&(q==null?void 0:q.tracking_token)!=null&&(r==null?void 0:r.id)!=null?{adId:q.ad_id,adTrackingToken:q.tracking_token,viewerId:r==null?void 0:r.id}:null;if(b){c("QPLUserFlow").start(c("qpl")._(379204822,"720"),{annotations:{string:{source:f}}});e=function(a){var b;a=a.get(p.client__relayID);b=Number((b=a==null?void 0:a.getValue("like_count"))!=null?b:0);a==null?void 0:a.setValue(!0,"has_liked");a==null?void 0:a.setValue(b+1,"like_count")};d("PolarisLogger").logAction("likeAttempt",g);var k=function(){g&&j?d("PolarisAdsEngagementLogger").logAdLike(g,j):g&&d("PolarisEngagementLogger").logOrganicLike(g),c("QPLUserFlow").endSuccess(c("qpl")._(379204822,"720"))},m=function(){d("PolarisLogger").logAction("likeFailure",g),c("QPLUserFlow").endFailure(c("qpl")._(379204822,"720"),"request_failed"),s({actionHandler:function(){return t(a,b)},actionText:d("PolarisGenericStrings").RETRY_TEXT,text:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE})};i({onCompleted:k,onError:m,optimisticUpdater:e,updater:e,variables:{media_id:a}})}else{c("QPLUserFlow").start(c("qpl")._(379198902,"749"),{annotations:{string:{source:f}}});k=function(a){var b;a=a.get(p.client__relayID);b=Number((b=a==null?void 0:a.getValue("like_count"))!=null?b:0);a==null?void 0:a.setValue(!1,"has_liked");a==null?void 0:a.setValue(b-1,"like_count")};d("PolarisLogger").logAction("unlikeAttempt",g);m=function(){g&&j?d("PolarisAdsEngagementLogger").logAdUnlike(g,j):g&&d("PolarisEngagementLogger").logOrganicUnlike(g),c("QPLUserFlow").endSuccess(c("qpl")._(379198902,"749"))};e=function(){d("PolarisLogger").logAction("unlikeFailure",g),c("QPLUserFlow").endFailure(c("qpl")._(379198902,"749"),"request_failed"),s({actionHandler:function(){return t(a,b)},actionText:d("PolarisGenericStrings").RETRY_TEXT,text:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE})};l({onCompleted:m,onError:e,optimisticUpdater:k,updater:k,variables:{media_id:a}})}},[q,f,i,l,p,s,h,r==null?void 0:r.id]);return t}g["default"]=a}),98);